sap.ui.define(["ugiaiwui/mdg/aiw/request/controller/BaseController","sap/ui/model/json/JSONModel","ugiaiwui/mdg/aiw/request/model/formatter","sap/ui/core/routing/History"],function(e,t,n,i,r){"use strict";return e.extend("ugiaiwui.mdg.aiw.request.controller.ObjectLinkLamDetail",{formatter:i,onInit:function(){var e,n=new t({busy:true,delay:0});this.getRouter().getRoute("linkLamDetail").attachPatternMatched(this._onObjectMatched,this);e=this.getView().getBusyIndicatorDelay();this.setModel(n,"objectView");this.getOwnerComponent().getModel().metadataLoaded().then(function(){n.setProperty("/delay",e)})},dateFormat:function(e){if(e!==""&&e!==null){var t=new Date(e);var n=t.getDate();var i=t.getMonth()+1;var r=t.getFullYear();if(n<10){n="0"+n}if(i<10){i="0"+i}return i+"/"+n+"/"+r}else{return""}},timeFormat:function(e){if(e!==""&&e!==null){var t=new Date(e);var n=t.getHours();var i=t.getMinutes();var r=t.getSeconds();return n+":"+i+":"+r}else{return""}},onNavBack:function(){window.history.go(-1)},parseRelOne:function(e){if(e==="1"){return true}else{return false}},parseRelTwo:function(e){if(e==="2"){return true}else{return false}},parseRelUsdNot:function(e){if(e==="0"){return true}else{return false}},parseRelUsdOne:function(e){if(e==="1"){return true}else{return false}},parseRelUsdTwo:function(e){if(e==="2"){return true}else{return false}},typeCheck:function(e){if(e){var t="";if(typeof e==="boolean"){return e}else if(typeof e==="string"){if(e.indexOf("false")>-1){t=false}else if(e.indexOf("true")>-1){t=true}else if(e.indexOf("X")>-1){t=true}else{t=false}return t}}else{return false}},_onObjectMatched:function(e){var t=new sap.ui.model.json.JSONModel;var n=sap.ui.getCore().getModel("linkLam");t.setData(n.getProperty(decodeURIComponent(e.getParameter("arguments").itemPath)));this.setModel(t,"lamDetail");this.getView().bindElement({path:decodeURIComponent(e.getParameter("arguments").itemPath),model:"lamDetail"})},onNetLinkLamPress:function(e){this.showLinkLamDetail(e.getSource())},showLinkLamDetail:function(e){var t=e.oBindingContexts.ntLinkLam.sPath;this.getRouter().navTo("itdetail",{itemPath:encodeURIComponent(t)})},_bindView:function(e){var t=this.getModel("objectView"),n=this.getModel();this.getView().bindElement({path:e,parameters:{expand:"ToSupplier"},events:{change:this._onBindingChange.bind(this),dataRequested:function(){n.metadataLoaded().then(function(){t.setProperty("/busy",true)})},dataReceived:function(){t.setProperty("/busy",false)}}})},_onBindingChange:function(){var e=this.getView(),t=this.getModel("objectView"),n=e.getElementBinding();if(!n.getBoundContext()){this.getRouter().getTargets().display("objectNotFound");return}var i=this.getResourceBundle(),r=e.getBindingContext().getObject(),a=r.ProductID,o=r.ProductID;t.setProperty("/busy",false);t.setProperty("/shareSendEmailSubject",i.getText("shareSendEmailObjectSubject",[a]));t.setProperty("/shareSendEmailMessage",i.getText("shareSendEmailObjectMessage",[o,a,location.href]))}})});