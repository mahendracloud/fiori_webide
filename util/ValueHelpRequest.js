sap.ui.define(["ugiaiwui/mdg/aiw/library/js/ValueHelpProvider","sap/ui/model/json/JSONModel","sap/m/MessageBox"],function(e,t,r){"use strict";return{onTaskListUsageVH:function(t,a){var r={title:a.getView().getModel("i18n").getProperty("TLUSG"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/TLUsageSet",template:new sap.m.StandardListItem({title:"{Planv}",description:"{Txt}"})},confirm:function(e){t.PlanvPrt=e.getParameters().selectedItem.getProperty("title");t.PlanvPrtText=e.getParameters().selectedItem.getProperty("description");t.PlanvPrtVS="None";t.PlanvPrtVST="";a.getModel(a.oModelName).refresh()}};var n="/TLUsageSet";var l=a.getView().getModel("valueHelp");var i=e.getSelectDialog(l,n,[],r,"Planv","Txt");i.open()},onStdTextKeyVH:function(t,a){var r={title:a.getView().getModel("i18n").getProperty("STDTXTKEY"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/StTextKeySet",template:new sap.m.StandardListItem({title:"{Vlsch}",description:"{Txt}"})},confirm:function(e){t.KtschPrt=e.getParameters().selectedItem.getProperty("title");t.KtschPrtText=e.getParameters().selectedItem.getProperty("description");t.KtschPrtVS="None";t.KtschPrtVST="";a.getModel(a.oModelName).refresh()}};var n="/StTextKeySet";var l=a.getView().getModel("valueHelp");var i=e.getSelectDialog(l,n,[],r,"Vlsch","Txt");i.open()},onUsgValFormulaVH:function(t,a){var r={title:a.getView().getModel("i18n").getProperty("STDTXTKEY"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/PrtUsageSet",template:new sap.m.StandardListItem({title:"{Ident}",description:"{Txt}"})},confirm:function(e){t.Ewformprt=e.getParameters().selectedItem.getProperty("title");t.EwformprtText=e.getParameters().selectedItem.getProperty("description");t.EwformprtVS="None";t.EwformprtVST="";a.getModel(a.oModelName).refresh()}};var n="/PrtUsageSet";var l=a.getView().getModel("valueHelp");var i=e.getSelectDialog(l,n,[],r,"Ident","Txt");i.open()},onControlKeyVH:function(t,a){var r={title:a.getView().getModel("i18n").getProperty("CTRLKEY"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/PRTCtlKeySet",template:new sap.m.StandardListItem({title:"{Steuf}",description:"{Stftxt}"})},confirm:function(e){t.SteufPrt=e.getParameters().selectedItem.getProperty("title");t.SteufPrtText=e.getParameters().selectedItem.getProperty("description");t.SteufPrtVS="None";t.SteufPrtVST="";a.getModel(a.oModelName).refresh()}};var n="/PRTCtlKeySet";var l=a.getView().getModel("valueHelp");var i=e.getSelectDialog(l,n,[],r,"Steuf","Stftxt");i.open()},_changeTLUSG:function(e,t){var a=e.getSource();var r=t.getView().getModel(t.oModelName);var n=r.getData();var l=n.PlanvPrt;var i=l.replace(/^[ ]+|[ ]+$/g,"");if(i!==""){var o="/TLUsageSet";var s=[new sap.ui.model.Filter("Planv","EQ",l)];var p=t.getView().getModel("valueHelp");var m=function(e){if(e.results.length>0){n.PlanvPrt=e.results[0].Planv;a.setValueState("None");a.setValueStateText("")}else{n.PlanvPrt="";a.setValueState("Error");a.setValueStateText("Invalid Entry")}r.setData(n)};var g=function(e){var t=JSON.parse(e.responseText);var r=t.error.message.value;a.setValueState("Error");a.setValueStateText(r)};t._readData(o,p,m,g,s)}},_changeStdTxtKey:function(e,t){var a=e.getSource();var r=t.getView().getModel(t.oModelName);var n=r.getData();var l=n.KtschPrt;var i=l.replace(/^[ ]+|[ ]+$/g,"");if(i!==""){var o="/StTextKeySet";var s=[new sap.ui.model.Filter("Vlsch","EQ",l)];var p=t.getView().getModel("valueHelp");var m=function(e){if(e.results.length>0){n.KtschPrt=e.results[0].Vlsch;a.setValueState("None");a.setValueStateText("")}else{n.KtschPrt="";a.setValueState("Error");a.setValueStateText("Invalid Entry")}r.setData(n)};var g=function(e){var t=JSON.parse(e.responseText);var r=t.error.message.value;a.setValueState("Error");a.setValueStateText(r)};t._readData(o,p,m,g,s)}},_changeUsgValFormula:function(e,t){var a=e.getSource();var r=t.getView().getModel(t.oModelName);var n=r.getData();var l=n.Ewformprt;var i=l.replace(/^[ ]+|[ ]+$/g,"");if(i!==""){var o="/PrtUsageSet";var s=[new sap.ui.model.Filter("Ident","EQ",l)];var p=t.getView().getModel("valueHelp");var m=function(e){if(e.results.length>0){n.Ewformprt=e.results[0].Ident;a.setValueState("None");a.setValueStateText("")}else{n.Ewformprt="";a.setValueState("Error");a.setValueStateText("Invalid Entry")}r.setData(n)};var g=function(e){var t=JSON.parse(e.responseText);var r=t.error.message.value;a.setValueState("Error");a.setValueStateText(r)};t._readData(o,p,m,g,s)}},_changeControlKey:function(e,t){var a=e.getSource();var r=t.getView().getModel(t.oModelName);var n=r.getData();var l=n.SteufPrt;var i=l.replace(/^[ ]+|[ ]+$/g,"");if(i!==""){var o="/PRTCtlKeySet";var s=[new sap.ui.model.Filter("Steuf","EQ",l)];var p=t.getView().getModel("valueHelp");var m=function(e){if(e.results.length>0){n.SteufPrt=e.results[0].Steuf;a.setValueState("None");a.setValueStateText("")}else{n.SteufPrt="";a.setValueState("Error");a.setValueStateText("Invalid Entry")}r.setData(n)};var g=function(e){var t=JSON.parse(e.responseText);var r=t.error.message.value;a.setValueState("Error");a.setValueStateText(r)};t._readData(o,p,m,g,s)}},_changeRegionChange:function(e,t){var a=e.getSource();var r=t.getView().getModel(t.oModelName);var n=r.getData();var l=n.Region;var i=l.replace(/^[ ]+|[ ]+$/g,"");if(i!==""){var o="/RegionSet";var s=[new sap.ui.model.Filter("Bland","EQ",l),new sap.ui.model.Filter("Land1","EQ",n.RefPosta)];var p=t.getView().getModel("valueHelp");var m=function(e){if(e.results.length>0){n.Region=e.results[0].Bland;n.RegionDesc=e.results[0].Bezei}else{n.Region="";n.RegionDesc="";a.setValueState("Error");a.setValueStateText("Invalid Entry")}r.setData(n)};var g=function(e){var t=JSON.parse(e.responseText);var r=t.error.message.value;a.setValueState("Error");a.setValueStateText(r)};t._readData(o,p,m,g,s)}else{n.Region=i;r.setData(n)}},valueHelpFunRegion:function(t,a){var r=t.getSource();var n=a.getView().getModel(a.oModelName);var l=n.getData();var i={title:a.getView().getModel("i18n").getProperty("RGIN"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",columns:[new sap.m.Column({header:[new sap.m.Text({text:"{i18n>CNTRY}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>RGIN}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>DESCRIPTION}"})]})],items:{path:"/RegionSet",template:new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Land1}"}),new sap.m.Text({text:"{Bland}"}),new sap.m.Text({text:"{Bezei}"})]})},confirm:function(e){l.Region=e.getParameter("selectedItem").getCells()[1].getText();l.RegionDesc=e.getParameter("selectedItem").getCells()[2].getText();r.setValueState("None");r.setValueStateText("");n.setData(l)}};var o="/RegionSet";var s=[new sap.ui.model.Filter("Land1","EQ",l.RefPosta)];var p=a.getView().getModel("valueHelp");var m=[new sap.m.Text({text:"{Land1}"}),new sap.m.Text({text:"{Bland}"}),new sap.m.Text({text:"{Bezei}"})];var g=e.getValueHelp(p,o,m,s,i,"Bland","Bezei");g.open();g.setModel(a.getView().getModel("i18n"),"i18n")},_changeTimeZoneChange:function(e,t){var a=e.getSource();var r=t.getView().getModel(t.oModelName);var n=r.getData();var l=n.TimeZone;var i=l.replace(/^[ ]+|[ ]+$/g,"");if(i!==""){var o="/TimezoneSet";var s=[new sap.ui.model.Filter("Tzone","EQ",l)];var p=t.getView().getModel("valueHelp");var m=function(e){if(e.results.length>0){n.TimeZone=e.results[0].Tzone;t.onTimeZoneValidation(n.TimeZone,n.RefPosta,n.PostCod1)}else{n.TimeZone="";a.setValueState("Error");a.setValueStateText("Invalid Entry")}r.setData(n)};var g=function(e){var t=JSON.parse(e.responseText);var r=t.error.message.value;a.setValueState("Error");a.setValueStateText(r)};t._readData(o,p,m,g,s)}},_changeEquiment:function(e,t){var a;if(t.oModelName){a=t.oModelName}else if(t.oSearchModelName){a=t.oSearchModelName}var r=e.getSource();var n=t.getView().getModel(t.oModelName);var l=n.getData();var i=l.Equnr;var o=i.replace(/^[ ]+|[ ]+$/g,"");if(o!==""){var s="/EquipmentNumberSet";var p=t.getView().getModel("valueHelp");var m=[new sap.ui.model.Filter("Equnr","EQ",i)];var g=function(e){if(e.results.length>0){t.Equnr=o;l.Equnr=e.results[0].Equnr;l.Eqktx=e.results[0].Eqktx;if(a.indexOf("Search")>-1){return}if(a!=="AIWEQUI"){if(a==="itemDetailView"){if(l.Tplnr!==""||l.Tplnr!==undefined){l.Tplnr="";l.Pltxt="";n.setData(l)}a="AIWMPMI";t.fetchData(a,parseInt(t.mainRowIndex),parseInt(t.itemPath));if(e.results[0].Eqtyp==="L"&&t.lamSwitch==="X"){t.lam.setVisible(true)}else{t.lam.setVisible(false)}}else{t.fetchData(a)}}}n.setData(l)};var d=function(e){var t=JSON.parse(e.responseText);var a=t.error.message.value;r.setValueState("Error");r.setValueStateText(a)};t._readData(s,p,g,d,m)}else{l.Equnr=t.Equnr;n.setData(l)}},valueHelpFunTimeZone:function(t,a){var r=t.getSource();var n=a.getView().getModel(a.oModelName);var l=n.getData();var i={title:a.getView().getModel("i18n").getProperty("TIME_ZONE"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",columns:[new sap.m.Column({header:[new sap.m.Text({text:"{i18n>TIME_ZONE}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>TIMEZONE_TXT}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>DIFF_FRM_UTC}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>DAYLGHT_SAVE_RULE}"})]})],items:{path:"/TimezoneSet",template:new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Tzone}"}),new sap.m.Text({text:"{Descript}"}),new sap.m.Text({text:"{Zonedesc}"}),new sap.m.Text({text:"{Dstrule}"})]})},confirm:function(e){l.RefPostaLblReq=true;l.TimeZone=e.getParameter("selectedItem").getCells()[0].getText();r.setValueState("None");r.setValueStateText("");n.setData(l);a.onTimeZoneValidation(l.TimeZone,l.RefPosta,l.PostCod1)}};var o="/TimezoneSet";var s=[];var p=a.getView().getModel("valueHelp");var m=[new sap.m.Text({text:"{Tzone}"}),new sap.m.Text({text:"{Descript}"}),new sap.m.Text({text:"{Zonedesc}"}),new sap.m.Text({text:"{Dstrule}"})];var g=e.getValueHelp(p,o,m,s,i,"Tzone","Descript");g.open();g.setModel(a.getView().getModel("i18n"),"i18n")},_changeMeasPointNumber:function(e,t){var a=e.getSource();var r=t.getView().getModel(t.oModelName);var n=r.getData();var l=n.Mspoint;var i=l.replace(/^[ ]+|[ ]+$/g,"");if(i!==""){var o="/MSPT_FL_VHSet";var s=[new sap.ui.model.Filter("Point","EQ",l)];var p=t.getView().getModel("valueHelp");var m=function(e){if(e.results.length>0){n.Mspoint=e.results[0].Point}else{n.Mspoint="";a.setValueState("Error");a.setValueStateText("Invalid Entry")}r.setData(n)};var g=function(e){var t=JSON.parse(e.responseText);var r=t.error.message.value;a.setValueState("Error");a.setValueStateText(r)};t._readData(o,p,m,g,s)}else{n.Mspoint=i;r.setData(n)}},valueHelpFunEquipment:function(e,t){var a;if(a===undefined){var r;if(t.oModelName){r=t.oModelName}else if(t.oSearchModelName){r=t.oSearchModelName}var n=e.getSource();var l=t.getView().getModel(r);var i=l.getData();var o=new sap.m.SelectDialog({title:t.getView().getModel("i18n").getProperty("EQUIP_TXT"),noDataText:t.getView().getModel("i18n").getProperty("LOAD")+"...",growingThreshold:5e3,items:{path:"/EquipmentNumberSet",template:new sap.m.StandardListItem({title:"{Equnr}",description:"{Eqktx}"})},confirm:function(e){n.setValue(e.getParameters().selectedItem.getProperty("title"));i.Eqktx=e.getParameters().selectedItem.getProperty("description");n.setValueState("None");n.setValueStateText("");l.setData(i);if(r.indexOf("Search")>-1){return}if(r!=="AIWEQUI"){if(r==="itemDetailView"){if(i.Tplnr!==""||i.Tplnr!==undefined){i.Tplnr="";i.Pltxt="";l.setData(i)}r="AIWMPMI";t.fetchData(r,parseInt(t.mainRowIndex),parseInt(t.itemPath));var a=e.getParameter("selectedItem").getBindingContext().sPath;var o=e.getSource().getModel().getProperty(a).Eqtyp;if(o==="L"&&t.lamSwitch==="X"){t.lam.setVisible(true)}else{t.lam.setVisible(false)}}else{t.fetchData(r)}}},search:function(e){var t=e.getParameter("value");if(e.getSource().getBinding("items")){e.getSource().getBinding("items").filter(!t?[]:[new sap.ui.model.Filter([new sap.ui.model.Filter("Equnr",sap.ui.model.FilterOperator.Contains,t),new sap.ui.model.Filter("Eqktx",sap.ui.model.FilterOperator.Contains,t)],false)])}}});var s="/EquipmentNumberSet";var p=t.getView().getModel("valueHelp");var m=function(e){if(e.results.length>0){if(r!=="AIWEQUI"){var n=sap.ui.getCore().getModel("AIWEQUI").getData();if(n.length>0){for(var l=0;l<n.length;l++){if(n[l].Equnr){var i={Equnr:n[l].Equnr,Eqktx:n[l].Eqktx,Eqtyp:n[l].EquipmentCatogory};e.results.unshift(i)}}}}a=e;var s=new sap.m.StandardListItem({title:"{Equnr}",description:"{Eqktx}",active:true});var p=new sap.ui.model.json.JSONModel;p.setData(e);o.setModel(p);o.bindAggregation("items","/results",s)}else{o.setNoDataText(t.getView().getModel("i18n").getProperty("NO_DATA"))}};var g=function(){};t._readData(s,p,m,g)}else{var d=new sap.ui.model.json.JSONModel;d.setData(a);o.setModel(d);var u=o.getItems();for(var c=0;c<u.length;c++){u[c].setVisible(true)}}o.open()},valueHelpFunCycleCounter:function(t,a,r){var n,l,i;var o=t.getSource().getBindingContext(r.oModelName).sPath;n=r.getView().getModel(r.oModelName).getProperty("/cycleModel");o=o.substring(o.lastIndexOf("/")+1);r.index=parseInt(o.substr(-1));var s={title:r.getView().getModel("i18n").getProperty("COUNTER_TXT"),noDataText:r.getView().getModel("i18n").getProperty("LOAD")+"...",columns:[new sap.m.Column({header:[new sap.m.Text({text:"{i18n>MEASPOINT_TXT}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>MEAS_POS}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>MEAS_PT_CAT}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>DESCRIPTION}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>COUNTER}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>MEAS_RANGE_UNIT}"})]})],items:{path:"/MSCounterSet",template:new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Point}"}),new sap.m.Text({text:"{Psort}"}),new sap.m.Text({text:"{Mptyp}"}),new sap.m.Text({text:"{Pttxt}"}),new sap.m.Text({text:"{Indct}"}),new sap.m.Text({text:"{MsUnit}"})]})},confirm:function(e){n[r.index].Point=e.getParameter("selectedItem").getCells()[0].getText();n[r.index].Psort=e.getParameter("selectedItem").getCells()[1].getText();n[r.index].PointVS="None";r.getView().getModel(r.oModelName).setProperty("/cycleModel",n);r.getView().getModel(r.oModelName).refresh();a.SzaehLBL=true;a.SzaehVis=true;a.UnitcVis=true;a.StadtLBL=false;a.StadtVis=false;a.ScheIndRbTimeEnabled=false;a.ScheIndRbTimeKeyDateEnabled=false;a.ScheIndRbTimeFactCalEnabled=false;a.ScheIndRbPerformanceEnabled=true;a.ScheIndRbPerformance=true;a.Stich=3;a.Fabkl="";a.FabklDesc="";a.FabklEnabled=false;a.FabklLBLReq=false;r.getView().getModel(r.oModelName).refresh();r.readCycleCounterData(a,n[r.index].Point);if(n[r.index].Zeieh!==""&&n[r.index].Point!==""){r.readCounterReading(n[r.index].Point,n[r.index].Zeieh)}r.counter=false}};var p="/MSCounterSet";var m=[];var g=r.getView().getModel("valueHelp");var d=[new sap.m.Text({text:"{Point}"}),new sap.m.Text({text:"{Psort}"}),new sap.m.Text({text:"{Mptyp}"}),new sap.m.Text({text:"{Pttxt}"}),new sap.m.Text({text:"{Indct}"}),new sap.m.Text({text:"{MsUnit}"})];var l=e.getValueHelp(g,p,d,m,s,"Point","Psort");l.open();l.setModel(r.getView().getModel("i18n"),"i18n")},_changeMaintPlan:function(e,t){var a=e.Warpl;var r=a.replace(/^[ ]+|[ ]+$/g,"");if(r!==""){var n="/MPlanVHSet";var l=[new sap.ui.model.Filter("Warpl","EQ",a)];var i=t.getView().getModel("valueHelp");var o=function(a){if(a.results.length>0){e.Warpl=a.results[0].Warpl}else{e.WarplVS="Error";e.WarplVST="Invalid Entry"}t.getView().getModel(t.oModelName).refresh()};var s=function(a){var r=JSON.parse(a.response.body);var n=r.error.message.value;e.WarplVS="Error";e.WarplVST=n;t.getView().getModel(t.oModelName).refresh()};t._readData(n,i,o,s,l)}else{e.Warpl=r;t.getView().getModel(t.oModelName).refresh()}},_changeEquipmentCategory:function(e,t){var a=e.getSource();var r=t.getView().getModel(t.oModelName);var n=r.getData();var l=n.EquipmentCatogory;var i=l.replace(/^[ ]+|[ ]+$/g,"");var o=t.getView().getModel("PRTVisibleEnableModel");if(o){var s=o.getData()}if(i!==""){var p="/EquipCatgValueHelps";var m=[new sap.ui.model.Filter("EquipmentCatogory","EQ",l)];var g=t.getView().getModel("valueHelp");var d=function(e){if(e.results.length>0){t.EquipmentCatogory=e.results[0].EquipmentCatogory;n.EquipmentCatogory=e.results[0].EquipmentCatogory;r.setData(n);if(t.detailFlag){n.EquipCatgDescription=e.results[0].EquipCatgDescription;r.setData(n);t.readStatusProf(l,t)}if(o){var i=e.results[0].Fhmkz;if(i){s.PRTVisible=true;s.PRTEnable=true;n.Fhmkz=true}else{s.PRTVisible=false;s.PRTEnable=false;n.Fhmkz=false;n.PlanvPrt="";n.SteufPrt="";n.KtschPrt="";n.Ewformprt="";n.SteufRef=false;n.KtschRef=false;n.EwformRef=false}r.setData(n);o.setData(s)}if(n.EquipmentCatogory==="L"&&t.lamSwitch==="X"){if(n.lam===undefined){n.lam={Lrpid:"",LrpidDesc:"",Strtptatr:"",Endptatr:"",Length:"",LinUnit:"",LinUnitDesc:"",Startmrkr:"",Endmrkr:"",Mrkdisst:"",Mrkdisend:"",MrkrUnit:"",enableLrp:true,enableMarker:false,LrpidVS:"None",StrtptatrVS:"None",EndptatrVS:"None",LinUnitVS:"None",StartmrkrVS:"None",EndmrkrVS:"None",MrkdisstVS:"None",MrkdisendVS:"None",MrkrUnitVS:"None"}}t.lam.setVisible(true);t.lam.setModel(r,"AIWLAM");t.linearChar.setVisible(true)}else{t.lam.setVisible(false);t.linearChar.setVisible(false)}}else{a.setValueState("Error");a.setValueStateText("Invalid Entry")}};var u=function(e){var t=JSON.parse(e.responseText);var r=t.error.message.value;a.setValueState("Error");a.setValueStateText(r)};t._readData(p,g,d,u,m)}else{n.EquipmentCatogory=t.EquipmentCatogory;r.setData(n)}},valueHelpFunEquipCat:function(a,r){var n=r.getView().getModel("PRTVisibleEnableModel");if(n){var l=n.getData()}var i={title:r.getView().getModel("i18n").getProperty("xtxt.EQUIP_CAT"),noDataText:r.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/EquipCatgValueHelps",template:new sap.m.StandardListItem({title:"{EquipmentCatogory}",description:"{EquipCatgDescription}"})},confirm:function(e){a.EquipmentCatogoryVS="None";a.EquipmentCatogoryVST="";a.EquipmentCatogory=e.getParameters().selectedItem.getProperty("title");if(r.detailFlag){a.EquipCatgDescription=e.getParameters().selectedItem.getProperty("description");r.readStatusProf(a.EquipmentCatogory,r);if(a.EquipmentCatogory==="L"&&r.lamSwitch==="X"){if(a.lam===undefined){a.lam={Lrpid:"",LrpidDesc:"",Strtptatr:"",Endptatr:"",Length:"",LinUnit:"",LinUnitDesc:"",Startmrkr:"",Endmrkr:"",Mrkdisst:"",Mrkdisend:"",MrkrUnit:"",enableLrp:true,enableMarker:false,LrpidVS:"None",StrtptatrVS:"None",EndptatrVS:"None",LinUnitVS:"None",StartmrkrVS:"None",EndmrkrVS:"None",MrkdisstVS:"None",MrkdisendVS:"None",MrkrUnitVS:"None"}}r.lam.setVisible(true);r.lam.setModel(new t(a),"AIWLAM");r.linearChar.setVisible(true)}else{r.lam.setVisible(false);r.linearChar.setVisible(false)}}else{r.getModel(r.oModelName).refresh()}if(n){var i=e.getParameter("selectedItem").getBindingContext().sPath;i=i+"/Fhmkz";var o=e.getParameter("selectedItem").getModel().getProperty(i);if(o){l.PRTVisible=true;l.PRTEnable=true;a.Fhmkz=true}else{l.PRTVisible=false;l.PRTEnable=false;a.Fhmkz=false;a.PlanvPrt="";a.SteufPrt="";a.KtschPrt="";a.Ewformprt="";a.SteufRef=false;a.KtschRef=false;a.EwformRef=false}n.setData(l)}}};var o="/EquipCatgValueHelps";var s=r.getView().getModel("valueHelp");var p=e.getSelectDialog(s,o,[],i,"EquipmentCatogory","EquipCatgDescription");p.open()},_changeCurrency:function(e,t){var a=e.Waers;var r=a.replace(/^[ ]+|[ ]+$/g,"");if(r!==""){var n="/CurrencySet";var l=[new sap.ui.model.Filter("Waers","EQ",a)];var i=t.getView().getModel("valueHelp");var o=function(a){if(a.results.length>0){e.Waers=a.results[0].Waers;t.Waers=a.results[0].Waers}else{e.WaersVS="Error";e.WaersVST="Invaid Entry"}t.getModel(t.oModelName).refresh()};var s=function(a){var r=JSON.parse(a.responseText);var n=r.error.message.value;e.WaersVS="Error";e.WaersVST=n;t.getModel(t.oModelName).refresh()};t._readData(n,i,o,s,l)}else{e.Waers=t.Waers;t.getModel(t.oModelName).refresh()}},valueHelpFunCurrency:function(t,a){var r={title:a.getView().getModel("i18n").getProperty("xtxt.CURRENCY"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/CurrencySet",template:new sap.m.StandardListItem({title:"{Waers}",description:"{Ltext}"})},confirm:function(e){t.WaersVS="None";t.WaersVST="";t.Waers=e.getParameters().selectedItem.getProperty("title");t.Ltext=e.getParameters().selectedItem.getProperty("description");a.getView().getModel(a.oModelName).refresh()}};var n="/CurrencySet";var l=a.getView().getModel("valueHelp");var i=e.getSelectDialog(l,n,[],r,"Waers","Ltext");i.open()},_changeStatProfile:function(e,t){var a=e.getSource();var r=t.getView().getModel(t.oModelName);var n=r.getData();var l=n.StsmEqui;var i=l.replace(/^[ ]+|[ ]+$/g,"");if(i!==""){var o="/StatusProfileSet";var s=[new sap.ui.model.Filter("Obtyp","EQ","IEQ"),new sap.ui.model.Filter("Stsma","EQ",l)];var p=t.getView().getModel("valueHelp");var m=function(e){if(e.results.length>0){n.StsmEqui=e.results[0].Obtyp;n.StsmEquiDesc=e.results[0].Txt}else{n.StsmEqui="";n.StsmEquiDesc="";a.setValueState("Error");a.setValueStateText("Invalid Entry")}r.setData(n)};var g=function(e){var t=JSON.parse(e.responseText);var r=t.error.message.value;a.setValueState("Error");a.setValueStateText(r)};t._readData(o,p,m,g,s)}else{n.StsmEqui=i;r.setData(n)}},valueHelpFunStatProf:function(t,a){var r={title:a.getView().getModel("i18n").getProperty("xtxt.STS_PROF"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/StatusProfileSet",template:new sap.m.StandardListItem({title:"{Stsma}",description:"{Txt}"})},confirm:function(e){t.StsmEquiVS="None";t.StsmEquiVST="";t.StsmEqui=e.getParameters().selectedItem.getProperty("title");t.StsmEquiDesc=e.getParameters().selectedItem.getProperty("description");a.getModel(a.oModelName).refresh()}};var n="/StatusProfileSet";var l=[new sap.ui.model.Filter("Obtyp","EQ","IFL")];var i=a.getView().getModel("valueHelp");var o=e.getSelectDialog(i,n,l,r,"Stsma","Txt");o.open()},_changeStatObj:function(e,t){var a=e.getSource();var r=t.getView().getModel(t.oModelName);var n=r.getData();var l=n.UstwEqui;var i=l.replace(/^[ ]+|[ ]+$/g,"");if(i!==""){var o="/StatusobjectSet";var s=[new sap.ui.model.Filter("Txt04","EQ",l),new sap.ui.model.Filter("Stsma","EQ",n.StsmEqui)];var p=t.getView().getModel("valueHelp");var m=function(e){if(e.results.length>0){n.UstwEqui=e.results[0].Txt04}else{n.UstwEqui="";a.setValueState("Error");a.setValueStateText("Invalid Entry")}r.setData(n)};var g=function(e){var t=JSON.parse(e.responseText);var r=t.error.message.value;a.setValueState("Error");a.setValueStateText(r)};t._readData(o,p,m,g,s)}else{n.UstwEqui=i;r.setData(n)}},valueHelpFunStatus:function(e,t){var a;if(a===undefined){var r=new sap.m.TableSelectDialog({title:t.getView().getModel("i18n").getProperty("xtxt.STS_OBJ"),noDataText:t.getView().getModel("i18n").getProperty("LOAD")+"...",columns:[new sap.m.Column({header:[new sap.m.Text({text:"Status Profile"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"User Status"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"Description"})]})],items:{path:"/StatusobjectSet?$filter=Stsma eq '"+e.StsmEqui+"'",template:new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Stsma}"}),new sap.m.Text({text:"{Txt04}"}),new sap.m.Text({text:"{txt30}"})]})},confirm:function(a){e.UstwEqui=a.getParameter("selectedItem").getCells()[1].getText();e.UstwEquiVS="None";e.UstwEquiVST="";t.generateUserStatus(e.UstwEqui,e.UswoEqui,t);t.getModel(t.oModelName).refresh()},search:function(e){if(r.getItems()){var t=e.getParameter("value").toUpperCase();t=t.replace(/^[ ]+|[ ]+$/g,"");var a=r.getItems();for(var n=0;n<a.length;n++){if(t.length>0){var l=a[n].getBindingContext().getProperty("Txt04");var i=a[n].getBindingContext().getProperty("txt30");if(l.toUpperCase().indexOf(t)===-1&&i.toUpperCase().indexOf(t)===-1){a[n].setVisible(false)}else{a[n].setVisible(true)}}else{a[n].setVisible(true)}}}}});var n="/StatusobjectSet";var l=[new sap.ui.model.Filter("Stsma","EQ",e.StsmEqui)];var i=t.getView().getModel("valueHelp");var o=function(e){if(e.results.length>0){a=e;var n=new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Stsma}"}),new sap.m.Text({text:"{Txt04}"}),new sap.m.Text({text:"{txt30}"})]});var l=new sap.ui.model.json.JSONModel;l.setData(e);r.setModel(l);r.setGrowingThreshold(e.results.length);r.bindAggregation("items","/results",n)}else{r.setNoDataText(t.getView().getModel("i18n").getProperty("NO_DATA"))}};var s=function(){};t._readData(n,i,o,s,l)}else{var p=new sap.ui.model.json.JSONModel;p.setData(a);r.setModel(p);var m=r.getItems();for(var g=0;g<m.length;g++){m[g].setVisible(true)}}r.open()},_changeStatWONum:function(e,t){var a=e.getSource();var r=t.getView().getModel(t.oModelName);var n=r.getData();var l=n.UswoEqui;var i=l.replace(/^[ ]+|[ ]+$/g,"");if(i!==""){var o="/UserstatwonumberSet";var s=[new sap.ui.model.Filter("Txt04","EQ",l),new sap.ui.model.Filter("Stsma","EQ",n.StsmEqui)];var p=t.getView().getModel("valueHelp");var m=function(e){if(e.results.length>0){n.UswoEqui=e.results[0].Txt04}else{n.UswoEqui="";a.setValueState("Error");a.setValueStateText("Invalid Entry")}r.setData(n)};var g=function(e){var t=JSON.parse(e.responseText);var r=t.error.message.value;a.setValueState("Error");a.setValueStateText(r)};t._readData(o,p,m,g,s)}else{n.UswoEqui=i;r.setData(n)}},valueHelpFunStatusWO:function(t,a){var r={title:a.getView().getModel("i18n").getProperty("xtxt.STS_WO_NO"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",multiSelect:true,columns:[new sap.m.Column({header:[new sap.m.Text({text:"{i18n>xtxt.STS_PROF}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>xtxt.USER_STS}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",visible:false,header:[new sap.m.Text({text:"{i18n>DESCRIPTION}"})]})],items:{path:"/UserstatwonumberSet?$filter=Stsma eq '"+t.StsmEqui+"'",template:new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Stsma}"}),new sap.m.Text({text:"{Txt04}"}),new sap.m.Text({text:"{Txt30}"})]})},confirm:function(e){var r=e.getParameter("selectedContexts");t.UswoEqui=r.map(function(e){return e.getObject().Txt04}).join(" ");t.UswoEquiVS="None";t.UswoEquiVST="";a.generateUserStatus(t.UstwEqui,t.UswoEqui,a);a.getModel(a.oModelName).refresh()}};var n="/UserstatwonumberSet";var l=[new sap.ui.model.Filter("Stsma","EQ",t.StsmEqui)];var i=a.getView().getModel("valueHelp");var o=[new sap.m.Text({text:"{Stsma}"}),new sap.m.Text({text:"{Txt04}"}),new sap.m.Text({text:"{Txt30}"})];var s=e.getValueHelp(i,n,o,l,r,"Txt04","Txt30");s.open();s.setModel(a.getView().getModel("i18n"),"i18n")},_changeTechnicalObjectType:function(e,t){var a=e.getSource();var r=t.getView().getModel(t.oModelName);var n=r.getData();var l=n.TechnicalObjectTyp;var i=l.replace(/^[ ]+|[ ]+$/g,"");if(i!==""){var o="/TechObjTypeValueHelpSet";var s=[new sap.ui.model.Filter("TechnicalObjectTyp","EQ",l)];var p=t.getView().getModel("valueHelp");var m=function(e){if(e.results.length>0){n.TechnicalObjectTyp=e.results[0].TechnicalObjectTyp;n.Description=e.results[0].Description}else{n.TechnicalObjectTyp="";n.Description="";a.setValueState("Error");a.setValueStateText("Invalid Entry")}r.setData(n)};var g=function(e){var t=JSON.parse(e.responseText);var r=t.error.message.value;a.setValueState("Error");a.setValueStateText(r)};t._readData(o,p,m,g,s)}else{n.TechnicalObjectTyp=i;r.setData(n)}},valueHelpFunTechObj:function(t,a){var r={title:a.getView().getModel("i18n").getProperty("xtxt.TECH_OBJ_TYPE"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/TechObjTypeValueHelpSet",template:new sap.m.StandardListItem({title:"{TechnicalObjectTyp}",description:"{Description}"})},confirm:function(e){t.TechnicalObjectTypVS="None";t.TechnicalObjectTypVST="";t.TechnicalObjectTyp=e.getParameters().selectedItem.getProperty("title");if(a.detailFlag){t.Description=e.getParameters().selectedItem.getProperty("description")}a.getModel(a.oModelName).refresh()}};var n="/TechObjTypeValueHelpSet";var l=a.getView().getModel("valueHelp");var i=e.getSelectDialog(l,n,[],r,"TechnicalObjectTyp","Description");i.open()},_changeMaintenancePlant:function(e,t){if(e.oSource){var a=e.getSource()}else{var a=e}var r=t.getView().getModel(t.oModelName);var n=r.getData();var l=n.Maintplant;var i=l.replace(/^[ ]+|[ ]+$/g,"");if(i!==""){var o="/MaintPlantVHSet";var s=[new sap.ui.model.Filter("Werks","EQ",l)];var p=t.getView().getModel("valueHelp");var m=function(e){if(e.results.length>0){n.Maintplant=e.results[0].Werks;r.setData(n);if(t.detailFlag){t.Maintplant=e.results[0].Werks;n.MaintplantDesc=e.results[0].Name1;n.Bukrs=e.results[0].Bukrs;n.Butxt=e.results[0].Butxt;n.BukrsEnabled=false;n.Werks=e.results[0].IWerk;n.Planningplantdes=e.results[0].IName1;n.Kokrs=e.results[0].Kokrs;t.SOPMaintPlant=i;if(t.oModelName==="AIWFLOC"){n.City=e.results[0].City1}r.setData(n)}var l=t.getView().getModel("dataOrigin").getData();var o=a.getName();l.forEach(function(e){if(e.property===o){e.instLoc=false;e.maintenance=true;e.currentVal=i}if(e.property==="PplaEeqz"||e.property==="PlntFloc"){e.instLoc=false;e.maintenance=true;e.currentVal=n.Werks}})}else{t.SOPMaintPlant="";n.MaintplantDesc="";r.setData(n);a.setValueState("Error");var l=t.getView().getModel("dataOrigin").getData();var o=a.getName();l.forEach(function(e){if(e.property===o){e.instLoc=false;e.maintenance=false;e.currentVal=""}if(e.property==="PplaEeqz"||e.property==="PlntFloc"){e.instLoc=false;e.maintenance=false;e.currentVal=""}})}};var g=function(e){var t=JSON.parse(e.responseText);var r=t.error.message.value;a.setValueState("Error");a.setValueStateText(r)};t._readData(o,p,m,g,s)}else{n.Maintplant=t.Maintplant;r.setData(n)}},valueHelpFunTitle:function(t,a){var r={title:a.getView().getModel("i18n").getProperty("ADDTITLE"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/AddrTittleSet",template:new sap.m.StandardListItem({title:"{Title}",description:"{TitleMedi}"})},confirm:function(e){t.Title=e.getParameters().selectedItem.getProperty("description");t.TitleCode=e.getParameters().selectedItem.getProperty("title");t.TitleVS="None";t.TitleVST="";a.getView().getModel(a.oModelName).refresh()}};var n="/AddrTittleSet";var l=a.getView().getModel("valueHelp");var i=e.getSelectDialog(l,n,[],r,"Title","TitleMedi");i.open()},valueHelpFunMaintPlant:function(t,a,r){if(r!==undefined&&r!==null){var n=r.getSource()}var l={title:a.getView().getModel("i18n").getProperty("MAINT_PLANT"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",columns:[new sap.m.Column({header:[new sap.m.Text({text:"{i18n>PLANT}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>SEARCHTERM2}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>SEARCHTERM1}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>POST_CODE}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>CITY}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>Name2}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>Name1}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>ADDR_VERSION}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",visible:false,header:[new sap.m.Text({text:"{i18n>COMPCODE}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",visible:false,header:[new sap.m.Text({text:"{i18n>COMPCODE_DESC}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",visible:false,header:[new sap.m.Text({text:"{i18n>PLAN_PLANT}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",visible:false,header:[new sap.m.Text({text:"{i18n>PLPLANT_DESC}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",visible:false,header:[new sap.m.Text({text:"{i18n>CC_PLANT}"})]})],items:{path:"/MaintPlantVHSet",template:new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Werks}"}),new sap.m.Text({text:"{Sort2}"}),new sap.m.Text({text:"{Sort1}"}),new sap.m.Text({text:"{PostCode1}"}),new sap.m.Text({text:"{City1}"}),new sap.m.Text({text:"{Name2}"}),new sap.m.Text({text:"{Name1}"}),new sap.m.Text({text:"{Nation}"}),new sap.m.Text({text:"{Bukrs}"}),new sap.m.Text({text:"{Butxt}"}),new sap.m.Text({text:"{IWerk}"}),new sap.m.Text({text:"{IName1}"}),new sap.m.Text({text:"{Kokrs}"})]})},confirm:function(e){t.MaintplantVS="None";t.MaintplantVST="";t.Maintplant=e.getParameter("selectedItem").getCells()[0].getText();var r=e.getParameter("selectedItem").getCells()[6].getText();var l=e.getParameter("selectedItem").getCells()[8].getText();var i=e.getParameter("selectedItem").getCells()[9].getText();var o=e.getParameter("selectedItem").getCells()[10].getText();var s=e.getParameter("selectedItem").getCells()[11].getText();var p=e.getParameter("selectedItem").getCells()[0].getText();var m=e.getParameter("selectedItem").getCells()[4].getText();a.getModel(a.oModelName).refresh();var g="/MaintPlantVHSet";var d=[new sap.ui.model.Filter("Werks","EQ",t.Maintplant),new sap.ui.model.Filter("IWerk","EQ",a.SOPMaintPlant),new sap.ui.model.Filter("Pplant","EQ",t.Werks)];var u=a.getView().getModel("valueHelp2");u.read(g,{filters:d,success:function(e){a.SOPMaintPlant=t.Maintplant;if(a.detailFlag){t.MaintplantDesc=r;t.Bukrs=l;t.Butxt=i;t.Werks=o;t.Planningplantdes=s;t.Kokrs=p;t.BukrsEnabled=false;if(a.oModelName==="AIWFLOC"){t.City=m}a.getModel(a.oModelName).refresh()}else{a.getModel(a.oModelName).refresh()}if(n!==undefined&&n!==null){var g=a.getView().getModel("dataOrigin").getData();var d=n.getName();g.forEach(function(e){if(e.property===d){e.instLoc=false;e.maintenance=true;e.currentVal=t.Maintplant}if(e.property==="PplaEeqz"||e.property==="PlntFloc"){e.instLoc=false;e.maintenance=true;e.currentVal=t.Werks}})}},error:function(e){var r=JSON.parse(e.responseText);var n=r.error.message.value;sap.m.MessageBox.show(n,{title:"Error",icon:sap.m.MessageBox.Icon.ERROR,actions:[sap.m.MessageBox.Action.OK],onClose:function(e){t.Maintplant=a.SOPMaintPlant;a.getModel(a.oModelName).setData(t)}})}})},search:function(e){if(e.getSource().getBinding("items")){var t=e.getParameter("value");e.getSource().getBinding("items").filter(!t?[]:[new sap.ui.model.Filter([new sap.ui.model.Filter("Werks",sap.ui.model.FilterOperator.Contains,t),new sap.ui.model.Filter("Name1",sap.ui.model.FilterOperator.Contains,t)],false)])}}};var i="/MaintPlantVHSet";var o=[];var s=a.getView().getModel("valueHelp2");var p=[new sap.m.Text({text:"{Werks}"}),new sap.m.Text({text:"{Sort2}"}),new sap.m.Text({text:"{Sort1}"}),new sap.m.Text({text:"{PostCode1}"}),new sap.m.Text({text:"{City1}"}),new sap.m.Text({text:"{Name2}"}),new sap.m.Text({text:"{Name1}"}),new sap.m.Text({text:"{Nation}"}),new sap.m.Text({text:"{Bukrs}"}),new sap.m.Text({text:"{Butxt}"}),new sap.m.Text({text:"{IWerk}"}),new sap.m.Text({text:"{IName1}"}),new sap.m.Text({text:"{Kokrs}"})];var m=e.getValueHelp(s,i,p,o,l,"Werks","Name1");m.open();m.setModel(a.getView().getModel("i18n"),"i18n")},valueHelpFunCopyFloc:function(e,t){var a;if(a===undefined){var r=new sap.m.SelectDialog({title:t.getView().getModel("i18n").getProperty("FLOC_TXT"),noDataText:t.getView().getModel("i18n").getProperty("LOAD")+"...",growingThreshold:5e3,items:{path:"/FunctionLocationSet",template:new sap.m.StandardListItem({title:"{Tplnr}",description:"{Pltxt}"})},confirm:function(a){e.Tplnr=a.getParameters().selectedItem.getProperty("title");e.TplnrVS="None";e.TplnrVST="";t._copyFragment.getModel("copyModel").refresh()},search:function(e){var t=e.getParameter("value");if(e.getSource().getBinding("items")){e.getSource().getBinding("items").filter(!t?[]:[new sap.ui.model.Filter([new sap.ui.model.Filter("Tplnr",sap.ui.model.FilterOperator.Contains,t),new sap.ui.model.Filter("Pltxt",sap.ui.model.FilterOperator.Contains,t)],false)])}}});var n="/FunctionLocationSet";var l=t.getView().getModel("valueHelp");var i=function(e){if(e.results.length>0){if(t._copyFragmentFlag){var n=t.getView().getModel(t.oModelAIWFLOC).getData();if(n.length>0){for(var l=0;l<n.length;l++){if(n[l].Functionallocation){var i={Tplnr:n[l].Functionallocation,Pltxt:n[l].Flocdescription};e.results.unshift(i)}}}}a=e;var o=new sap.m.StandardListItem({title:"{Tplnr}",description:"{Pltxt}",active:true});var s=new sap.ui.model.json.JSONModel;s.setData(e);r.setModel(s);r.bindAggregation("items","/results",o)}else{r.setNoDataText(t.getView().getModel("i18n").getProperty("NO_DATA"))}};var o=function(){};t._readData(n,l,i,o)}else{var s=new sap.ui.model.json.JSONModel;s.setData(a);r.setModel(s);var p=r.getItems();for(var m=0;m<p.length;m++){p[m].setVisible(true)}}r.open()},valueHelpFunCopyEqui:function(e,t){var a;if(a===undefined){var r=new sap.m.SelectDialog({title:t.getView().getModel("i18n").getProperty("EQUIP_TXT"),noDataText:t.getView().getModel("i18n").getProperty("LOAD")+"...",growingThreshold:5e3,items:{path:"/EquipmentNumberSet",template:new sap.m.StandardListItem({title:"{Equnr}",description:"{Eqktx}"})},confirm:function(a){e.Equnr=a.getParameters().selectedItem.getProperty("title");e.EqunrVS="None";e.EqunrVST="";t._copyFragment.getModel("copyModel").refresh()},search:function(e){var t=e.getParameter("value");if(e.getSource().getBinding("items")){e.getSource().getBinding("items").filter(!t?[]:[new sap.ui.model.Filter([new sap.ui.model.Filter("Equnr",sap.ui.model.FilterOperator.Contains,t),new sap.ui.model.Filter("Eqktx",sap.ui.model.FilterOperator.Contains,t)],false)])}}});var n="/EquipmentNumberSet";var l=t.getView().getModel("valueHelp");var i=function(e){if(e.results.length>0){if(t._copyFragmentFlag){var n=t.getView().getModel(t.oModelAIWEQUI).getData();if(n.length>0){for(var l=0;l<n.length;l++){if(n[l].Equnr){var i={Equnr:n[l].Equnr,Eqktx:n[l].Eqktx};e.results.unshift(i)}}}}a=e;var o=new sap.m.StandardListItem({title:"{Equnr}",description:"{Eqktx}",active:true});var s=new sap.ui.model.json.JSONModel;s.setData(e);r.setModel(s);r.bindAggregation("items","/results",o)}else{r.setNoDataText(t.getView().getModel("i18n").getProperty("NO_DATA"))}};var o=function(){};t._readData(n,l,i,o)}else{var s=new sap.ui.model.json.JSONModel;s.setData(a);r.setModel(s);var p=r.getItems();for(var m=0;m<p.length;m++){p[m].setVisible(true)}}r.open()},_changeLocation:function(e,t){var a=e.getSource();var r=t.getView().getModel(t.oModelName);var n=r.getData();var l=n.Location;var i=l.replace(/^[ ]+|[ ]+$/g,"");if(i!==""){var o="/LocationVHSet";var s=[new sap.ui.model.Filter("Stand","EQ",l)];var p=t.getView().getModel("valueHelp");var m=function(e){if(e.results.length>0){n.Location=i;n.Locationdesc=e.results[0].Ktext;var l=t.getView().getModel("dataOrigin").getData();var o=a.getName();l.forEach(function(e){if(e.property===o){e.instLoc=false;e.maintenance=true;e.currentVal=i}})}else{n.Location="";n.Locationdesc="";a.setValueState("Error");var l=t.getView().getModel("dataOrigin").getData();var o=a.getName();l.forEach(function(e){if(e.property===o){e.instLoc=false;e.maintenance=false;e.currentVal=""}})}r.setData(n)};var g=function(e){var t=JSON.parse(e.responseText);var r=t.error.message.value;a.setValueState("Error");a.setValueStateText(r)};t._readData(o,p,m,g,s)}else{n.Location=i;r.setData(n)}},valueHelpFunLocation:function(t,a,r){if(r!==undefined&&r!==null){var n=r.getSource()}var l={title:a.getView().getModel("i18n").getProperty("LOC"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",columns:[new sap.m.Column({header:[new sap.m.Text({text:"{i18n>PLANT}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>LOC}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>NAME}"})]})],items:{path:"/LocationVHSet",template:new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Werks}"}),new sap.m.Text({text:"{Stand}"}),new sap.m.Text({text:"{Ktext}"})]})},confirm:function(e){t.LocationVS="None";t.LocationVST="";t.Location=e.getParameter("selectedItem").getCells()[1].getText();t.Locationdesc=e.getParameter("selectedItem").getCells()[2].getText();a.getModel(a.oModelName).refresh();if(n!==undefined&&n!=null){var r=a.getView().getModel("dataOrigin").getData();var l=n.getName();r.forEach(function(e){if(e.property===l){e.instLoc=false;e.maintenance=true;e.currentVal=t.Location}})}}};var i="/LocationVHSet";var o=[];var s=a.getView().getModel("valueHelp");var p=[new sap.m.Text({text:"{Werks}"}),new sap.m.Text({text:"{Stand}"}),new sap.m.Text({text:"{Ktext}"})];var m=e.getValueHelp(s,i,p,o,l,"Stand","Ktext");m.open();m.setModel(a.getView().getModel("i18n"),"i18n")},_changeAbcIndicator:function(e,t){var a=e.getSource();var r=t.getView().getModel(t.oModelName);var n=r.getData();var l=n.Abckz;var i=l.replace(/^[ ]+|[ ]+$/g,"");if(i!==""){var o="/ABCIndicatorSet";var s=[new sap.ui.model.Filter("Abckz","EQ",l)];var p=t.getView().getModel("valueHelp");var m=function(e){if(e.results.length>0){n.Abckz=i;n.Abctx=e.results[0].Abctx;r.setData(n);var l=t.getView().getModel("dataOrigin").getData();var o=a.getName();l.forEach(function(e){if(e.property===o){e.instLoc=false;e.maintenance=true;e.currentVal=i}})}else{n.Abctx="";n.Abckz="";a.setValueState("Error");r.setData(n);var l=t.getView().getModel("dataOrigin").getData();var o=a.getName();l.forEach(function(e){if(e.property===o){e.instLoc=false;e.maintenance=false;e.currentVal=""}})}};var g=function(e){var t=JSON.parse(e.responseText);var r=t.error.message.value;a.setValueState("Error");a.setValueStateText(r)};t._readData(o,p,m,g,s)}else{n.Abckz=i;r.setData(n)}},valueHelpFunAbcInd:function(t,a,r){if(r!==undefined&&r!=null){var n=r.getSource()}var l={title:a.getView().getModel("i18n").getProperty("ABC_IND"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/ABCIndicatorSet",template:new sap.m.StandardListItem({title:"{Abckz}",description:"{Abctx}"})},confirm:function(e){t.Abckz=e.getParameters().selectedItem.getProperty("title");t.Abctx=e.getParameters().selectedItem.getProperty("description");t.AbckzVS="None";t.AbckzVST="";a.getModel(a.oModelName).refresh();if(n!==undefined&&n!=null){var r=a.getView().getModel("dataOrigin").getData();var l=n.getName();r.forEach(function(e){if(e.property===l){e.instLoc=false;e.maintenance=true;e.currentVal=t.Abckz}})}}};var i="/ABCIndicatorSet";var o=a.getView().getModel("valueHelp");var s=e.getSelectDialog(o,i,[],l,"Abckz","Abctx");s.open()},_changeWorkCenter:function(e,t){var a=e.getSource();var r=t.getView().getModel(t.oModelName);var n=r.getData();var l=n.Arbpl;var i=l.replace(/^[ ]+|[ ]+$/g,"");if(i!==""){var o="/WorkCenterVHSet";var s=n.Werks?n.Werks:"";var p=[new sap.ui.model.Filter("Arbpl","EQ",l),new sap.ui.model.Filter("Werks","EQ",s)];var m=t.getView().getModel("valueHelp");var g=function(e){if(e.results.length>0){n.Arbpl=i;n.Ktext=e.results[0].Ktext;n.WcWerks=e.results[0].Werks;r.setData(n);var l=t.getView().getModel("dataOrigin").getData();var o=a.getName();l.forEach(function(e){if(e.property===o){e.instLoc=false;e.maintenance=true;e.currentVal=i}})}else{n.Arbpl="";n.Ktext="";n.WcWerks="";a.setValueState("Error");r.setData(n);var l=t.getView().getModel("dataOrigin").getData();var o=a.getName();l.forEach(function(e){if(e.property===o){e.instLoc=false;e.maintenance=false;e.currentVal=""}})}};var d=function(e){var t=JSON.parse(e.responseText);var r=t.error.message.value;a.setValueState("Error");a.setValueStateText(r)};t._readData(o,m,g,d,p)}else{n.Arbpl=i;r.setData(n)}},valueHelpFunWc:function(e,t,r){if(r!==undefined&&r!==null){var n=r.getSource()}var l;if(l===undefined){var i=new sap.m.TableSelectDialog({title:t.getView().getModel("i18n").getProperty("WC"),noDataText:t.getView().getModel("i18n").getProperty("LOAD")+"...",columns:[new sap.m.Column({header:[new sap.m.Text({text:"Work Center Category"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"Plant"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"Work Center"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"Description"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"Language"})]})],items:{path:"/WorkCenterVHSet",template:new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Verwe}"}),new sap.m.Text({text:"{Werks}"}),new sap.m.Text({text:"{Arbpl}"}),new sap.m.Text({text:"{Ktext}"}),new sap.m.Text({text:"{Spras}"})]})},confirm:function(r){e.Arbpl=r.getParameter("selectedItem").getCells()[2].getText();e.Ktext=r.getParameter("selectedItem").getCells()[3].getText();e.WcWerks=r.getParameter("selectedItem").getCells()[1].getText();e.ArbplVS="None";e.ArbplVST="";t.getModel(t.oModelName).refresh();var l=t.getView().getModel("dataOrigin").getData();var i=n.getName();l.forEach(function(e){if(e.property===i){e.instLoc=false;e.maintenance=true;e.currentVal=a}})},search:function(e){if(e.getSource().getBinding("items")){var t=e.getParameter("value");e.getSource().getBinding("items").filter(!t?[]:[new sap.ui.model.Filter([new sap.ui.model.Filter("Arbpl",sap.ui.model.FilterOperator.Contains,t),new sap.ui.model.Filter("Ktext",sap.ui.model.FilterOperator.Contains,t)],false)])}}});var o="/WorkCenterVHSet";var s=t.getView().getModel("valueHelp");var p=e.Werks?e.Werks:"";var m=[new sap.ui.model.Filter("Werks","EQ",p)];var g=function(e){if(e.results.length>0){if(sap.ui.getCore().getModel("AIWListWCModel")){var a=sap.ui.getCore().getModel("AIWListWCModel").getData();if(a.length>0){for(var r=0;r<a.length;r++){if(a[r].wc){var n={Verwe:a[r].wcCat,Werks:a[r].plant,Arbpl:a[r].wc,Ktext:a[r].wcDesc,Spras:e.results[0].Spras};e.results.unshift(n)}}}}l=e;var o=new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Verwe}"}),new sap.m.Text({text:"{Werks}"}),new sap.m.Text({text:"{Arbpl}"}),new sap.m.Text({text:"{Ktext}"}),new sap.m.Text({text:"{Spras}"})]});var s=new sap.ui.model.json.JSONModel;s.setData(e);s.setSizeLimit(e.results.length);s.isSizeLimit=e.results.length;i.setModel(s);i.bindAggregation("items","/results",o)}else{i.setNoDataText(t.getView().getModel("i18n").getProperty("NO_DATA"))}};var d=function(){};t._readData(o,s,g,d,m)}else{var r=new sap.ui.model.json.JSONModel;r.setData(l);i.setModel(r);var u=i.getItems();for(var c=0;c<u.length;c++){u[c].setVisible(true)}}i.open()},_changePlantSec:function(e,t){var a=e.getSource();var r=t.getView().getModel(t.oModelName);var n=r.getData();var l=n.BeberFl;var i=l.replace(/^[ ]+|[ ]+$/g,"");if(i!==""){var o="/PlantSectionSet";var s=[new sap.ui.model.Filter("Beber","EQ",l)];var p=t.getView().getModel("valueHelp");var m=function(e){if(e.results.length>0){n.BeberFl=i;n.Fing=e.results[0].Fing;n.Tele=e.results[0].Tele;var l=t.getView().getModel("dataOrigin").getData();var o=a.getName();l.forEach(function(e){if(e.property===o){e.instLoc=false;e.maintenance=true;e.currentVal=i}})}else{n.BeberFl="";n.Fing="";n.Tele="";a.setValueState("Error");var l=t.getView().getModel("dataOrigin").getData();var o=a.getName();l.forEach(function(e){if(e.property===o){e.instLoc=false;e.maintenance=false;e.currentVal=""}})}r.setData(n)};var g=function(e){var t=JSON.parse(e.responseText);var r=t.error.message.value;a.setValueState("Error");a.setValueStateText(r)};t._readData(o,p,m,g,s)}else{n.BeberFl=i;r.setData(n)}},valueHelpFunPlantSec:function(t,a,r){if(r!==undefined&&r!=null){var n=r.getSource()}var l={title:a.getView().getModel("i18n").getProperty("PL_SEC"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",columns:[new sap.m.Column({header:[new sap.m.Text({text:"{i18n>PLANT_SEC}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>PERSON_RESP}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>PHONE}"})]})],items:{path:"/PlantSectionSet",template:new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Beber}"}),new sap.m.Text({text:"{Fing}"}),new sap.m.Text({text:"{Tele}"})]})},confirm:function(e){t.BeberFl=e.getParameter("selectedItem").getCells()[0].getText();t.Fing=e.getParameter("selectedItem").getCells()[1].getText();t.Tele=e.getParameter("selectedItem").getCells()[2].getText();t.BeberFlVS="None";t.BeberFlVST="";a.getModel(a.oModelName).refresh();if(n!==undefined&&n!=null){var r=a.getView().getModel("dataOrigin").getData();var l=n.getName();r.forEach(function(e){if(e.property===l){e.instLoc=false;e.maintenance=true;e.currentVal=t.BeberFl}})}}};var i="/PlantSectionSet";var o=[];var s=a.getView().getModel("valueHelp");var p=[new sap.m.Text({text:"{Beber}"}),new sap.m.Text({text:"{Fing}"}),new sap.m.Text({text:"{Tele}"})];var m=e.getValueHelp(s,i,p,o,l,"Beber","Fing");m.open();m.setModel(a.getView().getModel("i18n"),"i18n")},_changeCompanyCode:function(e,t){var a=e.getSource();var r=t.getView().getModel(t.oModelName);var n=r.getData();var l=n.Bukrs;var i=l.replace(/^[ ]+|[ ]+$/g,"");if(i!==""){var o="/CompanyCodeVHSet";var s=[new sap.ui.model.Filter("Bukrs","EQ",l)];var p=t.getView().getModel("valueHelp");var m=function(e){if(e.results.length>0){n.Bukrs=i;n.Butxt=e.results[0].Butxt;if(t.oModelName==="AIWFLOC"){n.City=e.results[0].Ort01}}else{n.Bukrs="";n.Butxt="";a.setValueState("Error");a.setValueStateText("Invalid Entry")}r.setData(n)};var g=function(e){var t=JSON.parse(e.responseText);var r=t.error.message.value;a.setValueState("Error");a.setValueStateText(r)};t._readData(o,p,m,g,s)}else{n.Bukrs=i;r.setData(n)}},valueHelpFunCompCode:function(t,a){var r={title:a.getView().getModel("i18n").getProperty("COMPCODE"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",columns:[new sap.m.Column({header:[new sap.m.Text({text:"{i18n>COMPCODE}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>COMP_NAME}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>CITY}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>xtxt.CURRENCY}"})]})],items:{path:"/CompanyCodeVHSet",template:new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Bukrs}"}),new sap.m.Text({text:"{Butxt}"}),new sap.m.Text({text:"{Ort01}"}),new sap.m.Text({text:"{Waers}"})]})},confirm:function(e){t.Bukrs=e.getParameter("selectedItem").getCells()[0].getText();t.Butxt=e.getParameter("selectedItem").getCells()[1].getText();t.BukrsVS="None";t.BukrsVST="";if(a.oModelName==="AIWFLOC"){t.City=e.getParameter("selectedItem").getCells()[2].getText()}a.getModel(a.oModelName).refresh()}};var n="/CompanyCodeVHSet";var l=[];var i=a.getView().getModel("valueHelp");var o=[new sap.m.Text({text:"{Bukrs}"}),new sap.m.Text({text:"{Butxt}"}),new sap.m.Text({text:"{Ort01}"}),new sap.m.Text({text:"{Waers}"})];var s=e.getValueHelp(i,n,o,l,r,"Bukrs","Butxt");s.open();s.setModel(a.getView().getModel("i18n"),"i18n")},_changeCostCenter:function(e,t){var a=e.getSource();var r=t.getView().getModel(t.oModelName);var n=r.getData();var l=n.Kostl;var i=l.replace(/^[ ]+|[ ]+$/g,"");if(i!==""){var o="/CostCenterSet";var s=[new sap.ui.model.Filter("Kostl","EQ",l)];if(n.Kokrs!==""){s.push(new sap.ui.model.Filter("Kokrs","EQ",n.Kokrs))}var p=t.getView().getModel("valueHelp");var m=function(e){if(e.results.length>0){n.Kostl=i;n.Kokrs=e.results[0].Kokrs;n.Mctxt=e.results[0].Mctxt;r.setData(n);var l=t.getView().getModel("dataOrigin").getData();var o=a.getName();l.forEach(function(e){if(e.property===o){e.instLoc=false;e.maintenance=true;e.currentVal=i}})}else{n.Kostl="";n.Kokrs="";n.Mctxt="";a.setValueState("Error");r.setData(n);var l=t.getView().getModel("dataOrigin").getData();var o=a.getName();l.forEach(function(e){if(e.property===o){e.instLoc=false;e.maintenance=false;e.currentVal=""}})}};var g=function(e){var t=JSON.parse(e.responseText);var r=t.error.message.value;a.setValueState("Error");a.setValueStateText(r)};t._readData(o,p,m,g,s)}else{n.Kostl=i;r.setData(n)}},valueHelpFunCostCenter:function(t,a,r){if(r!==undefined&&r!=null){var n=r.getSource()}var l={title:a.getView().getModel("i18n").getProperty("CC"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",columns:[new sap.m.Column({header:[new sap.m.Text({text:"{i18n>CC}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>COMPCODE}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>CCTR_CATGRY}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>CO_AREA}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>PERSON_RESP}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>USR_RESP}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>SHRT_TXT}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>LANGUAGE}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>VALID_FRM}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>VALID_TO}"})]})],items:{path:"/CostCenterSet",template:new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Kostl}"}),new sap.m.Text({text:"{Bukrs}"}),new sap.m.Text({text:"{Kosar}"}),new sap.m.Text({text:"{Kokrs}"}),new sap.m.Text({text:"{Verak}"}),new sap.m.Text({text:"{VerakUser}"}),new sap.m.Text({text:"{Mctxt}"}),new sap.m.Text({text:"{Spras}"}),new sap.m.Text({text:{parts:[{path:"Datab"}],formatter:a.formatter.dateFormat}}),new sap.m.Text({text:{parts:[{path:"Datbi"}],formatter:a.formatter.dateFormat}})]})},confirm:function(e){t.Kostl=e.getParameter("selectedItem").getCells()[0].getText();t.Kokrs=e.getParameter("selectedItem").getCells()[3].getText();t.Mctxt=e.getParameter("selectedItem").getCells()[6].getText();t.KostlVS="None";t.KostlVST="";a.getModel(a.oModelName).refresh();if(n!==undefined&&n!=null){var r=a.getView().getModel("dataOrigin").getData();var l=n.getName();r.forEach(function(e){if(e.property===l){e.instLoc=false;e.maintenance=true;e.currentVal=t.Kostl}})}}};var i="/CostCenterSet";var o=[];if(t.Kokrs!==""){o.push(new sap.ui.model.Filter("Kokrs","EQ",t.Kokrs))}var s=a.getView().getModel("valueHelp");var p=[new sap.m.Text({text:"{Kostl}"}),new sap.m.Text({text:"{Bukrs}"}),new sap.m.Text({text:"{Kosar}"}),new sap.m.Text({text:"{Kokrs}"}),new sap.m.Text({text:"{Verak}"}),new sap.m.Text({text:"{VerakUser}"}),new sap.m.Text({text:"{Mctxt}"}),new sap.m.Text({text:"{Spras}"}),new sap.m.Text({text:{parts:[{path:"Datab"}],formatter:a.formatter.dateFormat}}),new sap.m.Text({text:{parts:[{path:"Datbi"}],formatter:a.formatter.dateFormat}})];var m=e.getValueHelp(s,i,p,o,l,"Kostl","Mctxt");m.open();m.setModel(a.getView().getModel("i18n"),"i18n")},_changePlanningPlant:function(e,t){var a=e.getSource();var r=t.getView().getModel(t.oModelName);var n=r.getData();var l=n.Werks;var i=l.replace(/^[ ]+|[ ]+$/g,"");if(i!==""){var o="/PlanningPlantSet";var s=[new sap.ui.model.Filter("Werks","EQ",l)];var p=t.getView().getModel("valueHelp");var m=function(e){if(e.results.length>0){n.Werks=i;n.Planningplantdes=e.results[0].Name1;r.setData(n);var l=t.getView().getModel("dataOrigin").getData();var o=a.getName();l.forEach(function(e){if(e.property===o){e.instLoc=false;e.maintenance=true;e.currentVal=i}})}else{n.Werks="";n.Planningplantdes="";a.setValueState("Error");r.setData(n);var l=t.getView().getModel("dataOrigin").getData();var o=a.getName();l.forEach(function(e){if(e.property===o){e.instLoc=false;e.maintenance=false;e.currentVal=""}})}};var g=function(e){var t=JSON.parse(e.responseText);var r=t.error.message.value;a.setValueState("Error");a.setValueStateText(r)};t._readData(o,p,m,g,s)}else{n.Werks=i;r.setData(n)}},valueHelpFunPlanPlant:function(t,a,r){if(r!==undefined&&r!=null){var n=r.getSource()}var l={title:a.getView().getModel("i18n").getProperty("PL_PLANT"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/PlanningPlantSet",template:new sap.m.StandardListItem({title:"{Werks}",description:"{Name1}"})},confirm:function(e){t.Werks=e.getParameters().selectedItem.getProperty("title");t.Planningplantdes=e.getParameters().selectedItem.getProperty("description");t.WerksVS="None";t.WerksVST="";a.getModel(a.oModelName).refresh();if(n!==undefined&&n!=null){var r=a.getView().getModel("dataOrigin").getData();var l=n.getName();r.forEach(function(e){if(e.property===l){e.instLoc=false;e.maintenance=true;e.currentVal=t.Werks}})}}};var i="/PlanningPlantSet";var o=a.getView().getModel("valueHelp");var s=e.getSelectDialog(o,i,[],l,"Werks","Name1");s.open()},_changePlannerGroup:function(e,t){var a=e.getSource();var r=t.getView().getModel(t.oModelName);var n=r.getData();var l=n.Ingrp;var i=l.replace(/^[ ]+|[ ]+$/g,"");if(i!==""){var o="/PlannerGroupSet";var s=[new sap.ui.model.Filter("Ingrp","EQ",l)];var p=t.getView().getModel("valueHelp");var m=function(e){if(e.results.length>0){n.Ingrp=i;n.Innam=e.results[0].Innam;r.setData(n);var l=t.getView().getModel("dataOrigin").getData();var o=a.getName();l.forEach(function(e){if(e.property===o){e.instLoc=false;e.maintenance=true;e.currentVal=i}})}else{n.Ingrp="";n.Innam="";a.setValueState("Error");r.setData(n);var l=t.getView().getModel("dataOrigin").getData();var o=a.getName();l.forEach(function(e){if(e.property===o){e.instLoc=false;e.maintenance=false;e.currentVal=""}})}};var g=function(e){var t=JSON.parse(e.responseText);var r=t.error.message.value;a.setValueState("Error");a.setValueStateText(r)};t._readData(o,p,m,g,s)}else{n.Ingrp=i;r.setData(n)}},valueHelpFunPlGrp:function(t,a,r){if(r!==undefined&&r!==null){var n=r.getSource()}var l={title:a.getView().getModel("i18n").getProperty("PL_GRP"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",columns:[new sap.m.Column({header:[new sap.m.Text({text:"{i18n>PL_PLANT}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>PLANNER_GRP}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>PM_PLNRGRP_NAME}"})]})],items:{path:"/PlannerGroupSet",template:new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Iwerk}"}),new sap.m.Text({text:"{Ingrp}"}),new sap.m.Text({text:"{Innam}"})]})},confirm:function(e){t.Ingrp=e.getParameter("selectedItem").getCells()[1].getText();t.Innam=e.getParameter("selectedItem").getCells()[2].getText();t.IngrpVS="None";t.IngrpVST="";a.getModel(a.oModelName).refresh();if(n!==undefined&&n!==null){var r=a.getView().getModel("dataOrigin").getData();var l=n.getName();r.forEach(function(e){if(e.property===l){e.instLoc=false;e.maintenance=true;e.currentVal=t.Ingrp}})}}};var i="/PlannerGroupSet";var o=[];var s=a.getView().getModel("valueHelp");var p=[new sap.m.Text({text:"{Iwerk}"}),new sap.m.Text({text:"{Ingrp}"}),new sap.m.Text({text:"{Innam}"})];var m=e.getValueHelp(s,i,p,o,l,"Ingrp","Innam");m.open();m.setModel(a.getView().getModel("i18n"),"i18n")},_changeMainArbpl:function(e,t){var a=e.getSource();var r=t.getView().getModel(t.oModelName);var n=r.getData();var l=n.MainArbpl;var i=l.replace(/^[ ]+|[ ]+$/g,"");if(i!==""){var o="/WorkCenterVHSet";var s=n.Werks?n.Werks:"";var m=[new sap.ui.model.Filter("Arbpl","EQ",l),new sap.ui.model.Filter("Arbpl","EQ",s)];var g=t.getView().getModel("valueHelp");var d=function(e){if(e.results.length>0){n.MainArbpl=i;n.MainKtext=e.results[0].Ktext;n.MainWerks=e.results[0].Werks;r.setData(n);var l=t.getView().getModel("dataOrigin").getData();var o=a.getName();l.forEach(function(e){if(e.property===o){e.instLoc=false;e.maintenance=true;e.currentVal=n.MainWerks}if(e.property==="WorkCenterPlant"){e.instLoc=false;e.maintenance=true;e.currentVal=p.MainWerks}})}else{n.MainArbpl="";n.MainWerks="";n.MainKtext="";a.setValueState("Error");r.setData(n);var l=t.getView().getModel("dataOrigin").getData();var o=a.getName();l.forEach(function(e){if(e.property===o){e.instLoc=false;e.maintenance=false;e.currentVal=""}if(e.property==="WorkCenterPlant"){e.instLoc=false;e.maintenance=false;e.currentVal=""}})}};var u=function(e){var t=JSON.parse(e.responseText);var r=t.error.message.value;a.setValueState("Error");a.setValueStateText(r)};t._readData(o,g,d,u,m)}else{n.MainArbpl=i;r.setData(n)}},valueHelpFunMainWc:function(e,t,a){if(a!==undefined&&a!==null){var r=a.getSource()}var n;if(n===undefined){var l=new sap.m.TableSelectDialog({title:t.getView().getModel("i18n").getProperty("MAIN_WC"),noDataText:t.getView().getModel("i18n").getProperty("LOAD")+"...",columns:[new sap.m.Column({header:[new sap.m.Text({text:"Work Center Category"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"Plant"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"Work Center"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"Description"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"Language"})]})],items:{path:"/WorkCenterVHSet",template:new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Verwe}"}),new sap.m.Text({text:"{Werks}"}),new sap.m.Text({text:"{Arbpl}"}),new sap.m.Text({text:"{Ktext}"}),new sap.m.Text({text:"{Spras}"})]})},confirm:function(a){e.MainArbpl=a.getParameter("selectedItem").getCells()[2].getText();e.MainKtext=a.getParameter("selectedItem").getCells()[3].getText();e.MainWerks=a.getParameter("selectedItem").getCells()[1].getText();e.MainArbplVS="None";e.MainArbplVST="";t.getModel(t.oModelName).refresh();if(r!==undefined&&r!==null){var n=t.getView().getModel("dataOrigin").getData();var l=r.getName();n.forEach(function(t){if(t.property===l){t.instLoc=false;t.maintenance=true;t.currentVal=e.MainArbpl}if(t.property==="WorkCenterPlant"){t.instLoc=false;t.maintenance=true;t.currentVal=e.MainWerks}})}},search:function(e){if(e.getSource().getBinding("items")){var t=e.getParameter("value");e.getSource().getBinding("items").filter(!t?[]:[new sap.ui.model.Filter([new sap.ui.model.Filter("Arbpl",sap.ui.model.FilterOperator.Contains,t),new sap.ui.model.Filter("Ktext",sap.ui.model.FilterOperator.Contains,t)],false)])}}});var i="/WorkCenterVHSet";var o=t.getView().getModel("valueHelp");var s=e.Werks?e.Werks:"";var p=[new sap.ui.model.Filter("Werks","EQ",s)];var m=function(e){if(e.results.length>0){if(sap.ui.getCore().getModel("AIWListWCModel")){var a=sap.ui.getCore().getModel("AIWListWCModel").getData();if(a.length>0){for(var r=0;r<a.length;r++){if(a[r].wc){var i={Verwe:a[r].wcCat,Werks:a[r].plant,Arbpl:a[r].wc,Ktext:a[r].wcDesc,Spras:e.results[0].Spras};e.results.unshift(i)}}}}n=e;var o=new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Verwe}"}),new sap.m.Text({text:"{Werks}"}),new sap.m.Text({text:"{Arbpl}"}),new sap.m.Text({text:"{Ktext}"}),new sap.m.Text({text:"{Spras}"})]});var s=new sap.ui.model.json.JSONModel;s.setData(e);s.setSizeLimit(e.results.length);s.isSizeLimit=e.results.length;l.setModel(s);l.bindAggregation("items","/results",o)}else{l.setNoDataText(t.getView().getModel("i18n").getProperty("NO_DATA"))}};var g=function(){};t._readData(i,o,m,g,p)}else{var a=new sap.ui.model.json.JSONModel;a.setData(n);l.setModel(a);var d=l.getItems();for(var u=0;u<d.length;u++){d[u].setVisible(true)}}l.open()},_changeFunctionalLocation:function(e,t){var a;if(t.oModelName){a=t.oModelName}else if(t.oSearchModelName){a=t.oSearchModelName}var r=e.getSource();var n=t.getView().getModel(a);var l=n.getData();var i=l.Tplnr;var o=i.replace(/^[ ]+|[ ]+$/g,"");if(o!==""){var s="/FunctionLocationSet";var p=[new sap.ui.model.Filter("Tplnr","EQ",i)];var m=t.getView().getModel("valueHelp");var g=function(e){if(e.results.length>0){t.Tplnr=o;l.Tplnr=o;l.Pltxt=e.results[0].Pltxt;n.setData(l);if(a.indexOf("Search")>-1){return}if(a==="AIWEQUI"){t.fetchSupFlocEquiData(o,"FL",l.Pltxt,"change")}if(a==="AIWMSPT"){t.fetchData(a)}if(a==="itemDetailView"){if(l.Equnr!==""||l.Equnr!==undefined){l.Equnr="";l.Eqktx="";n.setData(l)}a="AIWMPMI";t.fetchData(a,parseInt(t.mainRowIndex),parseInt(t.itemPath));if(e.results[0].Fltyp==="L"&&t.lamSwitch==="X"){t.lam.setVisible(true)}else{t.lam.setVisible(false)}}}else{l.Tplnr="";l.Pltxt="";r.setValueState("Error");r.setValueStateText("Invalid Entry")}n.setData(l)};var d=function(e){var t=JSON.parse(e.responseText);var a=t.error.message.value;r.setValueState("Error");r.setValueStateText(a)};t._readData(s,m,g,d,p)}else{l.Tplnr=t.Tplnr;n.setData(l)}},valueHelpFunFloc:function(e,t){var a;if(a===undefined){var r;if(t.oModelName){r=t.oModelName}else if(t.oSearchModelName){r=t.oSearchModelName}var n=e.getSource();var l=t.getView().getModel(r);var i=l.getData();var o=new sap.m.SelectDialog({title:t.getView().getModel("i18n").getProperty("FLOC_TXT"),noDataText:t.getView().getModel("i18n").getProperty("LOAD")+"...",growingThreshold:5e3,items:{path:"/FunctionLocationSet",template:new sap.m.StandardListItem({title:"{Tplnr}",description:"{Pltxt}"})},confirm:function(e){i.Tplnr=e.getParameter("selectedItem").getProperty("title");i.Pltxt=e.getParameter("selectedItem").getProperty("description");n.setValueState("None");n.setValueStateText("");l.setData(i);if(r.indexOf("Search")>-1){return}if(r!=="AIWFLOC"){if(r==="AIWEQUI"){t.fetchSupFlocEquiData(i.Tplnr,"FL",i.Pltxt,"change");$("#"+t.getView().byId("FunctionalLocation").sId+"-inner").val(e.getParameter("selectedItem").getProperty("title")).change()}if(r==="itemDetailView"){if(i.Equnr!==""||i.Equnr!==undefined){i.Equnr="";i.Eqktx="";l.setData(i)}r="AIWMPMI";t.fetchData(r,parseInt(t.mainRowIndex),parseInt(t.itemPath));var a=e.getParameter("selectedItem").getBindingContext().sPath;var o=e.getSource().getModel().getProperty(a).Fltyp;if(o==="L"&&t.lamSwitch==="X"){t.lam.setVisible(true)}else{t.lam.setVisible(false)}}else{t.fetchData(r)}}},search:function(e){var t=e.getParameter("value");if(e.getSource().getBinding("items")){e.getSource().getBinding("items").filter(!t?[]:[new sap.ui.model.Filter([new sap.ui.model.Filter("Tplnr",sap.ui.model.FilterOperator.Contains,t),new sap.ui.model.Filter("Pltxt",sap.ui.model.FilterOperator.Contains,t)],false)])}}});var s="/FunctionLocationSet";var p=t.getView().getModel("valueHelp");var m=function(e){if(e.results.length>0){var r=sap.ui.getCore().getModel("AIWFLOC").getData();if(r.length>0){for(var n=0;n<r.length;n++){if(r[n].Functionallocation){var l={Tplnr:r[n].Functionallocation,Pltxt:r[n].Flocdescription};e.results.unshift(l)}}}a=e;var i=new sap.m.StandardListItem({title:"{Tplnr}",description:"{Pltxt}",active:true});var s=new sap.ui.model.json.JSONModel;s.setData(e);o.setModel(s);o.bindAggregation("items","/results",i)}else{o.setNoDataText(t.getView().getModel("i18n").getProperty("NO_DATA"))}};var g=function(){};t._readData(s,p,m,g)}else{var d=new sap.ui.model.json.JSONModel;d.setData(a);o.setModel(d);var u=o.getItems();for(var c=0;c<u.length;c++){u[c].setVisible(true)}}o.open()},_changeSuperOrdEqui:function(e,t){var a=e.getSource();var r=t.getView().getModel(t.oModelName);var n=r.getData();var l=n.SuperordinateEquip;var i=l.replace(/^[ ]+|[ ]+$/g,"");if(i!==""){var o="/EquipmentNumberSet";var s=[new sap.ui.model.Filter("Equnr","EQ",l)];var p=t.getView().getModel("valueHelp");var m=function(e){t.BusyDialog.close();if(e.results.length>0){t.SuperordinateEquip=i;n.SuperordinateEquipDesc=e.results[0].Eqktx;n.SuperordinateEquip=i;r.setData(n);if(t.viewName&&t.viewName==="ChangeEqui"){t.fetchSupFlocEquiDataChange(i,"EQ",n.SuperordinateEquipDesc,"change")}else{t.fetchSupFlocEquiData(i,"EQ",n.SuperordinateEquipDesc,"change")}}else{n.SuperordinateEquipDesc="";a.setValueState("Error");a.setValueStateText("Invalid Entry")}r.setData(n)};var g=function(e){t.BusyDialog.close();var r=JSON.parse(e.responseText);var n=r.error.message.value;a.setValueState("Error");a.setValueStateText(n)};t.BusyDialog.open();t._readData(o,p,m,g,s)}else{n.SuperordinateEquip=t.SuperordinateEquip;r.setData(n)}},valueHelpFunSuperOrdEq:function(e,t){var a;if(a===undefined){var r=e.getSource();var n=t.getView().getModel("AIWEQUI");var l=n.getData();var i=new sap.m.SelectDialog({title:t.getView().getModel("i18n").getProperty("EQUIP_TXT"),noDataText:t.getView().getModel("i18n").getProperty("LOAD")+"...",growingThreshold:5e3,items:{path:"/EquipmentNumberSet",template:new sap.m.StandardListItem({title:"{Equnr}",description:"{Eqktx}"})},confirm:function(e){r.setValue(e.getParameters().selectedItem.getProperty("title"));l.SuperordinateEquipDesc=e.getParameters().selectedItem.getProperty("description");r.setValueState("None");r.setValueStateText("");n.setData(l);t.fetchSupFlocEquiData(r.getValue(),"EQ",l.SuperordinateEquipDesc,"change");$("#"+t.getView().byId("superOrdEq").sId+"-inner").val(e.getParameter("selectedItem").getProperty("title")).change()},search:function(e){var t=e.getParameter("value");if(e.getSource().getBinding("items")){e.getSource().getBinding("items").filter(!t?[]:[new sap.ui.model.Filter([new sap.ui.model.Filter("Equnr",sap.ui.model.FilterOperator.Contains,t),new sap.ui.model.Filter("Eqktx",sap.ui.model.FilterOperator.Contains,t)],false)])}}});var o="/EquipmentNumberSet";var s=t.getView().getModel("valueHelp");var p=function(e){if(e.results.length>0){var r=sap.ui.getCore().getModel("AIWEQUI").getData();if(r.length>0){for(var n=0;n<r.length;n++){if(r[n].Equnr){var l={Equnr:r[n].Equnr,Eqktx:r[n].Eqktx};e.results.unshift(l)}}}a=e;var o=new sap.m.StandardListItem({title:"{Equnr}",description:"{Eqktx}",active:true});var s=new sap.ui.model.json.JSONModel;s.setData(e);i.setModel(s);i.bindAggregation("items","/results",o)}else{i.setNoDataText(t.getView().getModel("i18n").getProperty("NO_DATA"))}};var m=function(){};t._readData(o,s,p,m)}else{var g=new sap.ui.model.json.JSONModel;g.setData(a);i.setModel(g);var d=i.getItems();for(var u=0;u<d.length;u++){d[u].setVisible(true)}}i.open()},_changeConstructionType:function(e,t){var a=e.getSource();var r=t.getView().getModel(t.oModelName);var n=r.getData();var l=n.ConstrType;var i=l.replace(/^[ ]+|[ ]+$/g,"");if(i!==""){var o="/MaterialSHSet";var s=[new sap.ui.model.Filter("Matnr","EQ",l)];var p=t.getView().getModel("valueHelp");var m=function(e){if(e.results.length>0){n.ConstrType=i;n.ConstructionDesc=e.results[0].Maktx}else{n.ConstrType="";n.ConstructionDesc="";a.setValueState("Error");a.setValueStateText("Invalid Entry")}r.setData(n)};var g=function(e){var t=JSON.parse(e.responseText);var r=t.error.message.value;a.setValueState("Error");a.setValueStateText(r)};t._readData(o,p,m,g,s)}else{n.ConstrType=i;r.setData(n)}},valueHelpFunConstType:function(e){var t=e.getView().getModel("valueHelp");t.setDefaultCountMode(sap.ui.model.odata.CountMode.None);t.setRefreshAfterChange(false);e._valueHelpDialog=sap.ui.xmlfragment("ugiaiwui.mdg.aiw.request.Fragments.Common.MaterialVH",e);e._valueHelpDialog.setModel(t);e._valueHelpDialog.open();e.inputId="ConstructionType"},_changeCntryChange:function(e,t){var a=e.getSource();var r=t.getView().getModel(t.oModelName);var n=r.getData();var l=n.RefPosta;var i=l.replace(/^[ ]+|[ ]+$/g,"");if(i!==""){var o="/CountrySet";var s=[new sap.ui.model.Filter("Land1","EQ",l)];var p=t.getView().getModel("valueHelp");var m=function(e){if(e.results.length>0){n.RefPosta=i;n.Landx=e.results[0].Landx;n.addIntlBtn=true;a.setValueState("None");a.setValueStateText("");t.onTimeZoneValidation("",n.RefPosta,n.PostCod1);var l=t.getView().getModel("dataOrigin").getData();if(l){l.forEach(function(e){if(e.property==="Adrnr"){e.instLoc=false;e.maintenance=true;e.currentVal=""}})}}else{n.RefPosta="";n.Landx="";n.addIntlBtn=false;a.setValueState("Error");var l=t.getView().getModel("dataOrigin").getData();if(l){l.forEach(function(e){if(e.property==="Adrnr"){e.instLoc=false;e.maintenance=false;e.currentVal=""}})}}r.setData(n)};var g=function(e){var t=JSON.parse(e.responseText);var r=t.error.message.value;a.setValueState("Error");a.setValueStateText(r)};t._readData(o,p,m,g,s)}else{n.RefPosta=i;r.setData(n)}},valueHelpFunCntry:function(t,a){var r=t.getSource();var n=a.getView().getModel(a.oModelName);var l=n.getData();var i={title:a.getView().getModel("i18n").getProperty("COUNTRY"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/CountrySet",template:new sap.m.StandardListItem({title:"{Land1}",description:"{Landx}"})},confirm:function(e){l.RefPosta=e.getParameter("selectedItem").getProperty("title");l.Landx=e.getParameter("selectedItem").getProperty("description");l.addIntlBtn=true;r.setValueState("None");r.setValueStateText("");n.setData(l);a.onTimeZoneValidation("",l.RefPosta,l.PostCod1);var t=a.getView().getModel("dataOrigin").getData();if(t){t.forEach(function(e){if(e.property==="Adrnr"){e.instLoc=false;e.maintenance=true;e.currentVal=l.RefPosta}})}}};var o="/CountrySet";var s=a.getView().getModel("valueHelp");var p=e.getSelectDialog(s,o,[],i,"Land1","Landx");p.open()},_changeLangChange:function(e,t){var a=e.getSource();var r=t.getView().getModel(t.oModelName);var n=r.getData();var l=n.Langucode;var i=l.replace(/^[ ]+|[ ]+$/g,"");if(i!==""){var o="/LanguageSet";var s=[new sap.ui.model.Filter("Sprsl","EQ",l)];var p=t.getView().getModel("valueHelp");var m=function(e){if(e.results.length>0){n.Langucode=i;n.LanguP=e.results[0].Sptxt}else{n.Langucode="";n.LanguP="";a.setValueState("Error");a.setValueStateText("Invalid Entry")}r.setData(n)};var g=function(e){var t=JSON.parse(e.responseText);var r=t.error.message.value;a.setValueState("Error");a.setValueStateText(r)};t._readData(o,p,m,g,s)}else{n.Langucode=i;r.setData(n)}},valueHelpFunLang:function(t,a){var r={title:a.getView().getModel("i18n").getProperty("LangKey"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/LanguageSet",template:new sap.m.StandardListItem({title:"{Sprsl}",description:"{Sptxt}"})},confirm:function(e){t.Langucode=e.getParameter("selectedItem").getProperty("title");t.LanguP=e.getParameter("selectedItem").getProperty("description");t.LangucodeVS="None";t.LangucodeVST="";a.getModel(a.oModelName).refresh()}};var n="/LanguageSet";var l=a.getView().getModel("valueHelp");var i=e.getSelectDialog(l,n,[],r,"Sprsl","Sptxt");i.open()},_changeMaintStrategy:function(e,t){var a=t.getView().getModel("mainView");var r=a.getData();r.viewBusy=true;a.setData(r);var n=e.getSource();var l=t.getView().getModel(t.oModelName);var i=l.getData();var o=i.Strat;var s=o.replace(/^[ ]+|[ ]+$/g,"");if(s!==""){var p="/StrategySet";var m=t.getView().getModel("valueHelp");var g=[new sap.ui.model.Filter("Strat","EQ",o)];var d=function(e){if(e.results.length>0){i.StratDesc=e.results[0].Ktext;i.ButtonNewCycleEnabled=false;var p=e.results[0].Termk;if(p==="3"){i.Stich=3;i.AbrhoLBL=false;i.AbrhoVis=false;i.HunitVis=false;i.FabklLBL=false;i.Fabkl="";i.FabklVis=false;i.FabklDesc="";i.FabklDescVis=false;t.stratUnit=e.results[0].Zeieh;i.Unitc=t.stratUnit;i.UnitcVis=true;i.SzaehLBL=true;i.SzaehVis=true;i.Szaeh="";i.MpcyclenoLBL=true;i.MpcyclenoVis=true;i.StadtVis=false;i.StadtLBL=false}else{i.AbrhoLBL=true;i.AbrhoVis=true;i.HunitVis=true;i.FabklLBL=true;i.Fabkl="";i.FabklVis=true;i.FabklDesc="";i.FabklDescVis=true;i.SzaehLBL=false;i.SzaehVis=false;i.Szaeh="";i.MpcyclenoLBL=false;i.MpcyclenoVis=false;i.Unitc="";i.UnitcVis=false;i.StadtVis=true;i.StadtLBL=true;i.StadtLBLText=t.getView().getModel("i18n").getProperty("CYCLE_START_TXT")}i.Strat=s;l.setData(i);t.readScheduling(i,o)}else{i.Strat="";i.StratDesc="";n.setValueState("Error");n.setValueStateText("Invalid Entry")}r.viewBusy=false;a.setData(r);l.setData(i)};var u=function(e){r.viewBusy=false;a.setData(r);var t=JSON.parse(e.responseText);var l=t.error.message.value;n.setValueState("Error");n.setValueStateText(l)};t._readData(p,m,d,u,g)}else{i.Strat=s;l.setData(i);r.viewBusy=false;a.setData(r)}},valueHelpFunMaintStrategy:function(t,a){var r={title:a.getView().getModel("i18n").getProperty("MAINT_STR"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",columns:[new sap.m.Column({header:[new sap.m.Text({text:"{i18n>STRATEGY}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>DESCRIPTION}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>SCHE_IND_TXT}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>UNIT}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>FACT_CAL}"})]})],items:{path:"/StrategySet",template:new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Strat}"}),new sap.m.Text({text:"{Ktext}"}),new sap.m.Text({text:"{Termk}"}),new sap.m.Text({text:"{Zeieh}"}),new sap.m.Text({text:"{Fabkl}"})]})},confirm:function(e){t.StratVS="None";t.StratVST="";t.Strat=e.getParameter("selectedItem").getCells()[0].getText();t.StratDesc=e.getParameter("selectedItem").getCells()[1].getText();var r=e.getParameter("selectedItem").getCells()[0].getText();var n=e.getParameter("selectedItem").getCells()[2].getText();t.ButtonNewCycleEnabled=false;if(n==="3"){t.ScheIndRbPerformance=false;t.AbrhoLBL=false;t.AbrhoVis=false;t.HunitVis=false;t.FabklLBL=false;t.Fabkl="";t.FabklVis=false;t.FabklDesc="";t.FabklDescVis=false;a.stratUnit=e.getParameter("selectedItem").getCells()[3].getText();t.SzaehLBL=true;t.SzaehVis=true;t.Szaeh="";t.Unitc=a.stratUnit;t.UnitcVis=true;t.StadtVis=false;t.StadtLBL=false;t.MpcyclenoLBL=true;t.MpcyclenoVis=true}else{t.AbrhoLBL=true;t.AbrhoVis=true;t.HunitVis=true;t.FabklLBL=true;t.Fabkl="";t.FabklVis=true;t.FabklDesc="";t.FabklDescVis=true;t.SzaehLBL=false;t.SzaehVis=false;t.Szaeh="";t.Unitc="";t.UnitcVis=false;t.StadtVis=true;t.StadtLBL=true;t.StadtLBLText=a.getView().getModel("i18n").getProperty("CYCLE_START_TXT");t.MpcyclenoLBL=false;t.MpcyclenoVis=false}a.getView().getModel(a.oModelName).refresh();a.readScheduling(t,r)}};var n="/StrategySet";var l=[];var i=a.getView().getModel("valueHelp");var o=[new sap.m.Text({text:"{Strat}"}),new sap.m.Text({text:"{Ktext}"}),new sap.m.Text({text:"{Termk}"}),new sap.m.Text({text:"{Zeieh}"}),new sap.m.Text({text:"{Fabkl}"})];var s=e.getValueHelp(i,n,o,l,r,"Strat","Ktext");s.open();s.setModel(a.getView().getModel("i18n"),"i18n")},_changeCycleSet:function(e,t){var a=e.getSource();var r=t.getView().getModel(t.oModelName);var n=r.getData();var l=n.Wset;var i=l.replace(/^[ ]+|[ ]+$/g,"");if(i!==""){var o="/CyclesetSet";var s=t.getView().getModel("valueHelp");var p=[new sap.ui.model.Filter("Strat","EQ",l)];var m=function(e){if(e.results.length>0){n.Wset=i;n.Ktext=e.results[0].Ktext;n.ScheIndText=false;n.ScheIndTitle=false;n.ScheIndLBL=false;n.ScheIndRbTimeVis=false;n.ScheIndRbTimeKeyDateVis=false;n.ScheIndRbTimeFactCalVis=false;n.ScheIndRbPerformanceVis=false;n.Stich=0;n.AbrhoLBL=false;n.AbrhoVis=false;n.HunitVis=false;n.FabklLBL=false;n.Fabkl="";n.FabklVis=false;n.FabklDesc="";n.FabklDescVis=false;n.ButtonNewCycleEnabled=true;n.OPText=true;n.OPTitle=true;n.OPLBL=true;n.OROPVis=true;n.AndOPvis=true;r.setData(n);t.readCycleDetails(l)}else{n.Wset="";n.Ktext="";a.setValueState("Error");a.setValueStateText("Invalid Entry")}r.setData(n)};var g=function(e){var t=JSON.parse(e.response.body);var r=t.error.message.value;a.setValueState("Error");a.setValueStateText(r)};t._readData(o,s,m,g,p)}else{n.Wset=i;r.setData(n)}},valueHelpFunCycleSet:function(t,a){var r={title:a.getView().getModel("i18n").getProperty("CYC_SET"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",columns:[new sap.m.Column({header:[new sap.m.Text({text:"{i18n>STRATEGY}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>DESCRIPTION}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>SCHE_IND_TXT}"})]})],items:{path:"/CyclesetSet",template:new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Strat}"}),new sap.m.Text({text:"{Ktext}"}),new sap.m.Text({text:"{Termk}"}),new sap.m.Text({text:"{Zeieh}"}),new sap.m.Text({text:"{Fabkl}"})]})},confirm:function(e){t.WsetVS="None";t.WsetVST="";t.Wset=e.getParameter("selectedItem").getCells()[0].getText();t.Ktext=e.getParameter("selectedItem").getCells()[1].getText();t.ScheIndText=false;t.ScheIndTitle=false;t.ScheIndLBL=false;t.ScheIndRbTimeVis=false;t.ScheIndRbTimeKeyDateVis=false;t.ScheIndRbTimeFactCalVis=false;t.ScheIndRbPerformanceVis=false;t.Stich=0;t.AbrhoLBL=false;t.AbrhoVis=false;t.HunitVis=false;t.FabklLBL=false;t.Fabkl="";t.FabklVis=false;t.FabklDesc="";t.FabklDescVis=false;t.ButtonNewCycleEnabled=true;t.OPText=true;t.OPTitle=true;t.OPLBL=true;t.OROPVis=true;t.AndOPvis=true;a.getView().getModel(a.oModelName).refresh();a.readCycleDetails(t.Wset)}};var n="/CyclesetSet";var l=[];var i=a.getView().getModel("valueHelp");var o=[new sap.m.Text({text:"{Strat}"}),new sap.m.Text({text:"{Ktext}"}),new sap.m.Text({text:"{Termk}"}),new sap.m.Text({text:"{Zeieh}"}),new sap.m.Text({text:"{Fabkl}"})];var s=e.getValueHelp(i,n,o,l,r,"Strat","Ktext");s.open();s.setModel(a.getView().getModel("i18n"),"i18n")},valueHelpFunSchedulePeriod:function(t,a){var r={title:a.getView().getModel("i18n").getProperty("SCHE_PERIOD_TXT"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/SchPeriodUnitSet",template:new sap.m.StandardListItem({title:"{Mseh3}",description:"{Msehl}"})},confirm:function(e){t.HunitVS="None";t.HunitVST="";t.Hunit=e.getParameters().selectedItem.getProperty("title");a.getView().getModel(a.oModelName).refresh()}};var n="/SchPeriodUnitSet";var l=a.getView().getModel("valueHelp");var i=e.getSelectDialog(l,n,[],r,"Mseh3","Msehl");i.open()},SchedulePeriodUnitChange:function(e,t,a){var r=e.getSource();var n=r.getValue().toUpperCase();var l=n.replace(/^[ ]+|[ ]+$/g,"");if(l!==""){var i="/SchPeriodUnitSet";var o=[new sap.ui.model.Filter("Mseh3","EQ",l)];var s=a.getView().getModel("valueHelp");var p=function(e){if(e.results.length>0){t.Hunit=l;t.HunitVS="None";t.HunitVST=""}else{t.Hunit="";t.HunitVS="Error";t.HunitVST=""}a.getView().getModel(a.oModelName).refresh()};var m=function(e){var t=JSON.parse(e.response.body);var a=t.error.message.value};a._readData(i,s,p,m,o)}else{t.Hunit="";t.HunitVS="None";t.HunitVST="";a.getView().getModel(a.oModelName).refresh()}},_changeFactoryCalendar:function(e,t){var a=e.getSource();var r=t.getView().getModel(t.oModelName);var n=r.getData();var l=n.Fabkl;var i=l.replace(/^[ ]+|[ ]+$/g,"");if(i!==""){var o="/FactoryCalenderSet";var s=[new sap.ui.model.Filter("Ident","EQ",l)];var p=t.getView().getModel("valueHelp");var m=function(e){if(e.results.length>0){n.FabklDesc=e.results[0].Ltext;n.Fabkl=i}else{n.FabklDesc="";n.Fabkl="";a.setValueState("Error");a.setValueStateText("Invalid Entry")}r.setData(n)};var g=function(e){var t=JSON.parse(e.response.body);var r=t.error.message.value;a.setValueState("Error");a.setValueStateText(r)};t._readData(o,p,m,g,s)}else{n.Fabkl=i;r.setData(n)}},valueHelpFunFactoryCalendar:function(t,a){var r={title:a.getView().getModel("i18n").getProperty("FACT_CAL"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/FactoryCalenderSet",template:new sap.m.StandardListItem({title:"{Ident}",description:"{Ltext}"})},confirm:function(e){t.FabklVS="None";t.FabklVST="";t.Fabkl=e.getParameters().selectedItem.getProperty("title");t.FabklDesc=e.getParameters().selectedItem.getProperty("description");a.getView().getModel(a.oModelName).refresh()}};var n="/FactoryCalenderSet";var l=a.getView().getModel("valueHelp");var i=e.getSelectDialog(l,n,[],r,"Ident","Ltext");i.open()},_changeCounter:function(e,t){var a=e.getSource();var r=t.getView().getModel(t.oModelName);var n=r.getData();var l=n.Mpcycleno;var i=l.replace(/^[ ]+|[ ]+$/g,"");if(i!==""){var o="/MSCounterSet";var s=t.getView().getModel("valueHelp");var p=function(e){if(e.results.length>0){n.Mpcycleno=i;r.setData(n);if(t.stratUnit===""||t.stratUnit===undefined){n.Unitc=t.readCounterData(n,i,"counterUnit")}t.counter=false}else{a.setValueState("Error");a.setValueStateText("Invalid Entry")}t.getView().getModel(t.oModelName).refresh()};var m=function(e){var t=JSON.parse(e.response.body);var r=t.error.message.value;a.setValueState("Error");a.setValueStateText(r)};var g=[new sap.ui.model.Filter("Point","EQ",l)];t._readData(o,s,p,m,g)}else{n.Mpcycleno=i;r.setData(n)}},valueHelpFunCounter:function(t,a,r,n){var l,i,o;if(t==="Point"){l=n.getView().getModel(n.oModelName).getProperty("/cycleModel");var s=a.getSource().getBindingContext(n.oModelName).sPath;s=s.substring(s.lastIndexOf("/")+1);n.index=parseInt(s.substr(-1))}var p={title:n.getView().getModel("i18n").getProperty("COUNTER_TXT"),noDataText:n.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/MSCounterSet",template:new sap.m.StandardListItem({title:"{Point}",description:"{Psort}"})},confirm:function(e){if(t==="Mpcycleno"){r.Mpcycleno=e.getParameters().selectedItem.getProperty("title");r.MpcyclenoVS="None";n.getView().getModel(n.oModelName).refresh();n.readCounterData(r,r.Mpcycleno,"counterUnit")}else if(t==="Point"){l[n.index].Point=e.getParameters().selectedItem.getProperty("title");l[n.index].Psort=e.getParameters().selectedItem.getProperty("description");l[n.index].PointVS="None";n.getView().getModel(n.oModelName).setProperty("/cycleModel",l);n.getView().getModel(n.oModelName).refresh();r.SzaehLBL=true;r.SzaehVis=true;r.UnitcVis=true;r.StadtLBL=false;r.StadtVis=false;r.ScheIndRbTimeEnabled=false;r.ScheIndRbTimeKeyDateEnabled=false;r.ScheIndRbTimeFactCalEnabled=false;r.ScheIndRbPerformanceEnabled=true;r.ScheIndRbPerformance=true;r.Stich=3;r.Fabkl="";r.FabklDesc="";r.FabklEnabled=false;r.FabklLBLReq=false;n.getView().getModel(n.oModelName).refresh();n.readCounterData(r,l[n.index].Point,"counterUnit","Point");if(l[n.index].Zeieh!==""&&l[n.index].Point!==""){n.readCounterReading(l[n.index].Point,l[n.index].Zeieh)}}n.counter=false}};var m="/MSCounterSet";var g=n.getView().getModel("valueHelp");var i=e.getSelectDialog(g,m,[],p,"Point","Psort");i.open()},valueHelpFunUnit:function(t,a,r){var n=r.getView().getModel(r.oModelName).getProperty("/cycleModel");var l=t.getSource().getBindingContext(r.oModelName).sPath;l=l.substring(l.lastIndexOf("/")+1);r.index=parseInt(l.substr(-1));var i={title:r.getView().getModel("i18n").getProperty("CYCLE_UNIT_TXT"),noDataText:r.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/SchPeriodUnitSet",template:new sap.m.StandardListItem({title:"{Mseh3}",description:"{Msehl}"})},confirm:function(e){r.cycleCounterUnit=e.getParameters().selectedItem.getProperty("title");n[r.index].Zeieh=e.getParameters().selectedItem.getProperty("title");n[r.index].Ofsetunit=e.getParameters().selectedItem.getProperty("title");n[r.index].ZeiehVS="None";var t=e.getParameters().selectedItem.getProperty("title");if(t==="D"||t==="DAY"||t==="WK"||t==="YR"||t==="MON"||t==="HR"||t==="H"){r.counter=false;a.ScheIndRbTimeEnabled=true;a.ScheIndRbTimeKeyDateEnabled=true;a.ScheIndRbTimeFactCalEnabled=true;if(a.ScheIndRbPerformance===true){a.ScheIndRbTime=true;a.Stich=0}a.SzaehLBL=false;a.SzaehVis=false;a.UnitcVis=false;a.StadtLBL=true;a.StadtVis=true;a.ScheIndRbPerformanceEnabled=false;n[r.index].PointVS="None";r.ValidateTimeKey(n,r.index,a)}else{r.counter=true;a.SzaehLBL=true;a.SzaehVis=true;a.UnitcVis=true;a.StadtLBL=false;a.StadtVis=false;n[r.index].PointVS="Error";a.Stich=3;a.ScheIndRbPerformance=true;a.ScheIndRbPerformanceEnabled=true;a.ScheIndRbTimeEnabled=false;a.ScheIndRbTimeKeyDateEnabled=false;a.ScheIndRbTimeFactCalEnabled=false;var l=r.getView().getModel("i18n").getProperty("COUNTER_MANDMSG");r.invokeMessage(l)}r.getView().getModel(r.oModelName).setProperty("/cycleModel",n);r.getView().getModel(r.oModelName).refresh();if(n[r.index].Zeieh!==""&&n[r.index].Point!==""){r.readCounterReading(n[r.index].Point,n[r.index].Zeieh)}}};var o="/SchPeriodUnitSet";var s=r.getView().getModel("valueHelp");var p=e.getSelectDialog(s,o,[],i,"Mseh3","Msehl");p.open()},_changeFlocCategory:function(e,t){var a=e.getSource();var r=t.getView().getModel(t.oModelName);var n=r.getData();var l=n.Floccategory;var i=l.replace(/^[ ]+|[ ]+$/g,"");if(i!==""){var o="/FLocCatgValueHelpSet";var s=[new sap.ui.model.Filter("FlocCategory","EQ",l)];var p=t.getView().getModel("valueHelp");var m=function(e){if(e.results.length>0){n.Floccategory=i;n.FlocCategoryDesc=e.results[0].FlocCategoryDesc;r.setData(n);if(t.detailFlag){t.readStatusProf(l,t);if(n.Floccategory==="L"&&t.lamSwitch==="X"){if(n.lam===undefined){n.lam={Lrpid:"",LrpidDesc:"",Strtptatr:"",Endptatr:"",Length:"",LinUnit:"",LinUnitDesc:"",Startmrkr:"",Endmrkr:"",Mrkdisst:"",Mrkdisend:"",MrkrUnit:"",enableLrp:true,enableMarker:false,LrpidVS:"None",StrtptatrVS:"None",EndptatrVS:"None",LinUnitVS:"None",StartmrkrVS:"None",EndmrkrVS:"None",MrkdisstVS:"None",MrkdisendVS:"None",MrkrUnitVS:"None"}}t.lam.setVisible(true);t.lam.setModel(r,"AIWLAM");t.linearChar.setVisible(true)}else{t.lam.setVisible(false);t.linearChar.setVisible(false)}}}else{n.FlocCategoryDesc="";n.Floccategory="";a.setValueState("Error");a.setValueStateText("Invalid Entry")}r.setData(n)};var g=function(e){var t=JSON.parse(e.responseText);var r=t.error.message.value;a.setValueState("Error");a.setValueStateText(r)};t._readData(o,p,m,g,s)}else{n.Floccategory=i;r.setData(n)}},valueHelpFunFlocCat:function(e,a){var r;if(r===undefined){var n=new sap.m.SelectDialog({title:a.getView().getModel("i18n").getProperty("FUNLOC_CAT"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/FLocCatgValueHelpSet",template:new sap.m.StandardListItem({title:"{FlocCategory}",description:"{FlocCategoryDesc}"})},confirm:function(r){e.Floccategory=r.getParameters().selectedItem.getProperty("title");e.FloccategoryVS="None";e.FloccategoryVST="";e.FlocCategoryDesc=r.getParameters().selectedItem.getProperty("description");a.getModel(a.oModelName).refresh();if(a.detailFlag){a.readStatusProf(e.Floccategory,a);if(e.Floccategory==="L"&&a.lamSwitch==="X"){if(e.lam===undefined){e.lam={Lrpid:"",LrpidDesc:"",Strtptatr:"",Endptatr:"",Length:"",LinUnit:"",LinUnitDesc:"",Startmrkr:"",Endmrkr:"",Mrkdisst:"",Mrkdisend:"",MrkrUnit:"",enableLrp:true,enableMarker:false,LrpidVS:"None",StrtptatrVS:"None",EndptatrVS:"None",LinUnitVS:"None",StartmrkrVS:"None",EndmrkrVS:"None",MrkdisstVS:"None",MrkdisendVS:"None",MrkrUnitVS:"None"}}a.lam.setVisible(true);a.lam.setModel(new t(e),"AIWLAM");a.linearChar.setVisible(true)}else{a.lam.setVisible(false);a.linearChar.setVisible(false)}}},search:function(e){var t=e.getParameter("value");if(e.getSource().getBinding("items")){e.getSource().getBinding("items").filter(!t?[]:[new sap.ui.model.Filter([new sap.ui.model.Filter("FlocCategory",sap.ui.model.FilterOperator.Contains,t),new sap.ui.model.Filter("FlocCategoryDesc",sap.ui.model.FilterOperator.Contains,t)],false)])}}});var l="/FLocCatgValueHelpSet";var i=a.getView().getModel("valueHelp");var o=function(e){if(e.results.length>0){r=e;var t=new sap.m.StandardListItem({title:"{FlocCategory}",description:"{FlocCategoryDesc}",active:true});var l=new sap.ui.model.json.JSONModel;l.setData(e);n.setModel(l);n.bindAggregation("items","/results",t)}else{n.setNoDataText(a.getView().getModel("i18n").getProperty("NO_DATA"))}};var s=function(){};a._readData(l,i,o,s)}else{var p=new sap.ui.model.json.JSONModel;p.setData(r);n.setModel(p);var m=n.getItems();for(var g=0;g<m.length;g++){m[g].setVisible(true)}}n.open()},_changeStrIndicator:function(e,t){var a=e.Strucindicator;var r=a.replace(/^[ ]+|[ ]+$/g,"");if(r!==""){var n="/StrucIndicatorValueHelpSet";var l=[new sap.ui.model.Filter("StrucIndicator","EQ",a)];var i=t.getView().getModel("valueHelp");var o=function(a){if(a.results.length>0){e.Strucindicator=r;e.StrucIndicatorDesc=a.results[0].StrucIndicatorDesc;e.EditMask=a.results[0].EditMask;e.Hierarchy=a.results[0].Hierarchy;t.getModel(t.oModelName).refresh();t.readSupFlocDetails()}else{e.Strucindicator="";e.StrucIndicatorDesc="";e.EditMask="";e.Hierarchy="";e.StrucindicatorVS="Error";e.StrucindicatorVST="Invalid Entry";t.getModel(t.oModelName).refresh()}};var s=function(a){var r=JSON.parse(a.responseText);var n=r.error.message.value;e.StrucindicatorVS="Error";e.StrucindicatorVST=n;t.getModel(t.oModelName).refresh()};t._readData(n,i,o,s,l)}else{e.Strucindicator=r;t.getModel(t.oModelName).refresh()}},valueHelpFunStrInd:function(t,a){var r={title:a.getView().getModel("i18n").getProperty("STR_IND"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",columns:[new sap.m.Column({header:[new sap.m.Text({text:"{i18n>STR_IND}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>STR_IND_DESC}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>EDIT_MASK}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>HIER_LEVELS}"})]})],items:{path:"/StrucIndicatorValueHelpSet",template:new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{StrucIndicator}"}),new sap.m.Text({text:"{StrucIndicatorDesc}"}),new sap.m.Text({text:"{EditMask}"}),new sap.m.Text({text:"{Hierarchy}"})]})},confirm:function(e){if(t.Functionallocation===""||t.Functionallocation===undefined){t.Strucindicator="";a.getModel(a.oModelName).refresh();a.invokeMessage(a.getResourceBundle().getText("functionalLocationMand"))}else{t.StrucindicatorVS="None";t.StrucindicatorVST="";t.Strucindicator=e.getParameter("selectedItem").getCells()[0].getText();t.StrucIndicatorDesc=e.getParameter("selectedItem").getCells()[1].getText();t.EditMask=e.getParameter("selectedItem").getCells()[2].getText();t.Hierarchy=e.getParameter("selectedItem").getCells()[3].getText();a.getModel(a.oModelName).refresh();a.readSupFlocDetails()}}};var n="/StrucIndicatorValueHelpSet";var l=[];var i=a.getView().getModel("valueHelp");var o=[new sap.m.Text({text:"{StrucIndicator}"}),new sap.m.Text({text:"{StrucIndicatorDesc}"}),new sap.m.Text({text:"{EditMask}"}),new sap.m.Text({text:"{Hierarchy}"})];var s=e.getValueHelp(i,n,o,l,r,"StrucIndicator","StrucIndicatorDesc");s.open();s.setModel(a.getView().getModel("i18n"),"i18n")},_changeSupFunctionalLocation:function(e,t){var a=e.SupFunctionallocation;var r=a.replace(/^[ ]+|[ ]+$/g,"");if(r!==""){var n="/ChangeRequestSet";var l=[new sap.ui.model.Filter("Tplma","EQ",a),new sap.ui.model.Filter("Tplkz","EQ",e.Strucindicator),new sap.ui.model.Filter("Tplnr","EQ",e.Functionallocation)];var i=["FLAddr","FLClass","FLEmail","FLFax","FLLAM","FLLAMCH","FLMltxt","FLPermit","FLPrtnr","FLTele","FLUrl","FLVal","FuncLoc"];var o={$expand:i};var s=t.getView().getModel();var p=function(a){if(a.results.length>0){var n=a.results[0].FuncLoc.results[0];e.SupFunctionallocation=r;e.SupFlocdescription=n.Supflocdesc;t.getModel(t.oModelName).refresh();if(t.viewName&&t.viewName==="ChangeFloc"){t.readSupFlocDetailsChange(r,"SUP",n.Supflocdesc)}else{t.readSupFlocDetails(r,"SUP",n.Supflocdesc)}}else{e.SupFunctionallocationVS="Error";e.SupFunctionallocationVST="Invalid Entry";t.getModel(t.oModelName).refresh()}};var m=function(a){var r=JSON.parse(a.responseText);var n=r.error.message.value;e.SupFunctionallocationVS="Error";e.SupFunctionallocationVST=n;t.getModel(t.oModelName).refresh()};t._readData(n,s,p,m,l,o)}else{e.SupFunctionallocation=r;t.getModel(t.oModelName).refresh()}},valueHelpFunSupFloc:function(e,t){var a;if(a===undefined){var r;if(t.oModelName){r=t.oModelName}else if(t.oSearchModelName){r=t.oSearchModelName}var n=e.getSource();var l=t.getView().getModel(r);var i=l.getData();var o=new sap.m.SelectDialog({title:t.getView().getModel("i18n").getProperty("FLOC_TXT"),noDataText:t.getView().getModel("i18n").getProperty("LOAD")+"...",growingThreshold:5e3,items:{path:"/FunctionLocationSet",template:new sap.m.StandardListItem({title:"{Tplnr}",description:"{Pltxt}"})},confirm:function(e){i.SupFunctionallocation=e.getParameter("selectedItem").getProperty("title");i.SupFlocdescription=e.getParameter("selectedItem").getProperty("description");n.setValueState("None");n.setValueStateText("");l.setData(i);t.readSupFlocDetails(i.SupFunctionallocation,"SUP",i.SupFlocdescription);$("#"+t.getView().byId("FunctionalLocation").sId+"-inner").val(d.getParameter("selectedItem").getProperty("title")).change()},search:function(e){var t=e.getParameter("value");if(e.getSource().getBinding("items")){e.getSource().getBinding("items").filter(!t?[]:[new sap.ui.model.Filter([new sap.ui.model.Filter("Tplnr",sap.ui.model.FilterOperator.Contains,t),new sap.ui.model.Filter("Pltxt",sap.ui.model.FilterOperator.Contains,t)],false)])}},liveChange:function(e){var t=e.getParameter("value").toUpperCase();t=t.replace(/^[ ]+|[ ]+$/g,"");var a=o.getItems();for(var r=0;r<a.length;r++){if(t.length>0){var n=a[r].getBindingContext().getProperty("Tplnr");var l=a[r].getBindingContext().getProperty("Pltxt");if(n.toUpperCase().indexOf(t)===-1&&l.toUpperCase().indexOf(t)===-1){a[r].setVisible(false)}else{a[r].setVisible(true)}}else{a[r].setVisible(true)}}}});var s="/FunctionLocationSet";var p=t.getView().getModel("valueHelp");var m=function(e){if(e.results.length>0){var r=sap.ui.getCore().getModel("AIWFLOC").getData();if(r.length>0){for(var n=0;n<r.length;n++){if(r[n].Functionallocation){var l={Tplnr:r[n].Functionallocation,Pltxt:r[n].Flocdescription};e.results.unshift(l)}}}a=e;var i=new sap.m.StandardListItem({title:"{Tplnr}",description:"{Pltxt}",active:true});var s=new sap.ui.model.json.JSONModel;s.setData(e);o.setModel(s);o.bindAggregation("items","/results",i)}else{o.setNoDataText(t.getView().getModel("i18n").getProperty("NO_DATA"))}};var g=function(){};t._readData(s,p,m,g)}else{var d=new sap.ui.model.json.JSONModel;d.setData(a);o.setModel(d);var u=o.getItems();for(var c=0;c<u.length;c++){u[c].setVisible(true)}}o.open()},_changeMeasPointObject:function(e,t){var a=e.ObtypMs;var r=a.replace(/^[ ]+|[ ]+$/g,"");if(r!==""){var n="/MSPObjTypeSet";var l=[new sap.ui.model.Filter("Obtyp","EQ",a)];var i=t.getView().getModel("valueHelp");var o=function(a){if(a.results.length>0){e.ObtypMs=r;e.Txt=a.results[0].Txt}else{e.ObtypMs="";e.Txt="";e.ObtypMsVS="Error";e.ObtypMsVST="Invalid Entry"}t.getModel(t.oModelName).refresh()};var s=function(a){var r=JSON.parse(a.response.body);var n=r.error.message.value;e.ObtypMsVS="Error";e.ObtypMsVST=n;t.getModel(t.oModelName).refresh()};t._readData(n,i,o,s,l);e.EqunrVS="None";e.TplnrVS="None";e.Equnr="";e.Eqktx="";e.Tplnr="";e.Pltxt="";if(r==="IEQ"){e.EqunrInpVis=true;e.EqunrLblVis=true;e.EqktxInpVis=true;e.EqunrEnabled=true;e.TplnrInpVis=false;e.TplnrLblVis=false;e.PltxtInpVis=false;e.TplnrEnabled=false;t.getModel(t.oModelName).refresh()}if(r==="IFL"){e.EqunrInpVis=false;e.EqunrLblVis=false;e.EqktxInpVis=false;e.EqunrEnabled=false;e.TplnrInpVis=true;e.TplnrLblVis=true;e.PltxtInpVis=true;e.TplnrEnabled=true;t.getModel(t.oModelName).refresh()}}else{e.ObtypMs=r;t.getModel(t.oModelName).refresh()}},valueHelpMeasPointObj:function(t,a){var r={title:a.getView().getModel("i18n").getProperty("MEASPOINT_OBJ_TXT"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/MSPObjTypeSet",template:new sap.m.StandardListItem({title:"{Obtyp}",description:"{Txt}"})},confirm:function(e){t.ObtypMs=e.getParameters().selectedItem.getProperty("title");t.Txt=e.getParameters().selectedItem.getProperty("description");t.ObtypMsVS="None";t.ObtypMsVST="";t.EqunrVS="None";t.TplnrVS="None";t.Equnr="";t.Eqktx="";t.Tplnr="";t.Pltxt="";if(t.ObtypMs==="IEQ"){t.EqunrInpVis=true;t.EqunrLblVis=true;t.EqktxInpVis=true;t.EqunrEnabled=true;t.TplnrInpVis=false;t.TplnrLblVis=false;t.PltxtInpVis=false;t.TplnrEnabled=false}if(t.ObtypMs==="IFL"){t.EqunrInpVis=false;t.EqunrLblVis=false;t.EqktxInpVis=false;t.EqunrEnabled=false;t.TplnrInpVis=true;t.TplnrLblVis=true;t.PltxtInpVis=true;t.TplnrEnabled=true}a.getModel(a.oModelName).refresh()}};var n="/MSPObjTypeSet";var l=a.getView().getModel("valueHelp");var i=e.getSelectDialog(l,n,[],r,"Obtyp","Txt");i.open()},_changeMeasPointCategory:function(e,a){var r=e.Mptyp;var n=r.replace(/^[ ]+|[ ]+$/g,"");if(n!==""){var l="/MSPTypeSet";var i=[new sap.ui.model.Filter("Mptyp","EQ",r)];var o=a.getView().getModel("valueHelp");var s=function(r){if(r.results.length>0){e.Mptyp=n;e.Mpttx=r.results[0].Mpttx;if(e.Mptyp==="L"&&a.lamSwitch==="X"){if(e.Mptyp==="L"&&e.lam===undefined){e.lam={Lrpid:"",LrpidDesc:"",Strtptatr:"",Endptatr:"",Length:"",LinUnit:"",LinUnitDesc:"",Startmrkr:"",Endmrkr:"",Mrkdisst:"",Mrkdisend:"",MrkrUnit:"",enableLrp:true,enableMarker:false,LrpidVS:"None",StrtptatrVS:"None",EndptatrVS:"None",LinUnitVS:"None",StartmrkrVS:"None",EndmrkrVS:"None",MrkdisstVS:"None",MrkdisendVS:"None",MrkrUnitVS:"None"}}a.lam.setVisible(true);a.lam.setModel(new t(e),"AIWLAM")}else{a.lam.setVisible(false)}}else{e.Mptyp="";e.Mpttx="";e.MptypVS="Error";e.MptypVST="Invalid Entry"}a.getModel(a.oModelName).refresh()};var p=function(t){var r=JSON.parse(t.response.body);var n=r.error.message.value;e.MptypVS="Error";e.MptypVST=n;a.getModel(a.oModelName).refresh()};a._readData(l,o,s,p,i)}else{e.Mptyp=n;a.getModel(a.oModelName).refresh()}},valueHelpFunMsptCat:function(a,r){var n={title:r.getView().getModel("i18n").getProperty("MP_CAT_TXT"),noDataText:r.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/MSPTypeSet",template:new sap.m.StandardListItem({title:"{Mptyp}",description:"{Mpttx}"})},confirm:function(e){a.MptypVS="None";a.MptypVST="";a.Mptyp=e.getParameters().selectedItem.getProperty("title");a.Mpttx=e.getParameters().selectedItem.getProperty("description");r.getModel(r.oModelName).refresh();if(a.Mptyp==="L"&&r.lamSwitch==="X"){if(a.lam===undefined){a.lam={Lrpid:"",LrpidDesc:"",Strtptatr:"",Endptatr:"",Length:"",LinUnit:"",LinUnitDesc:"",Startmrkr:"",Endmrkr:"",Mrkdisst:"",Mrkdisend:"",MrkrUnit:"",enableLrp:true,enableMarker:false,LrpidVS:"None",StrtptatrVS:"None",EndptatrVS:"None",LinUnitVS:"None",StartmrkrVS:"None",EndmrkrVS:"None",MrkdisstVS:"None",MrkdisendVS:"None",MrkrUnitVS:"None"}}r.lam.setVisible(true);r.lam.setModel(new t(a),"AIWLAM")}else{r.lam.setVisible(false)}}};var l="/MSPTypeSet";var i=r.getView().getModel("valueHelp");var o=e.getSelectDialog(i,l,[],n,"Mptyp","Mpttx");o.open()},_changeCharacteristicName:function(e,t){var a=e.AtnamMs;var r=a.replace(/^[ ]+|[ ]+$/g,"");if(r!==""){var n="/CharNameSet";var l=[new sap.ui.model.Filter("Atnam","EQ",a)];var i=t.getView().getModel("valueHelp");var o=function(a){t.BusyDialog.close();if(a.results.length>0){e.AtnamMs=r;e.Atbez=a.results[0].Atbez;t.readCharUnit(e,t,r)}else{e.AtnamMs="";e.Atbez="";e.AtnamMsVS="Error";e.AtnamMsVST="Invalid Entry"}t.getModel(t.oModelName).refresh()};var s=function(a){t.BusyDialog.close();var r=JSON.parse(a.response.body);var n=r.error.message.value;e.AtnamMsVS="Error";e.AtnamMsVST=n;t.getModel(t.oModelName).refresh()};t.BusyDialog.open();t._readData(n,i,o,s,l)}else{e.AtnamMs=r;t.getModel(t.oModelName).refresh()}},_changeDecimalPlace:function(e,t){var a=e.Decim;var r=a.replace(/^[ ]+|[ ]+$/g,"");if(r!==""){var n="/DecimalSet";var l=[new sap.ui.model.Filter("Decim","EQ",a)];var i=t.getView().getModel("valueHelp");var o=function(a){if(a.results.length>0){e.Decim=r}else{e.Decim=""}t.getModel(t.oModelName).refresh()};var s=function(e){var a=JSON.parse(e.response.body);var r=a.error.message.value;t.getModel(t.oModelName).refresh()};t._readData(n,i,o,s,l)}else{e.Decim=r;t.getModel(t.oModelName).refresh()}},valueHelpFunChar:function(t,a){var r={title:a.getView().getModel("i18n").getProperty("CHAR_NAME_TXT"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",columns:[new sap.m.Column({header:[new sap.m.Text({text:"{i18n>CHARACTERISTIC}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>DESCRIPTION}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>VALID_FRM}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>CHARS_GRP}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>FORMAT}"})]})],items:{path:"/CharNameSet",template:new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Atnam}"}),new sap.m.Text({text:"{Atbez}"}),new sap.m.Text({text:"{Datuv}"}),new sap.m.Text({text:"{Atkla}"}),new sap.m.Text({text:"{Atfor}"})]})},confirm:function(e){t.AtnamMs=e.getParameter("selectedItem").getCells()[0].getText();t.Atbez=e.getParameter("selectedItem").getCells()[1].getText();t.AtnamMsVS="None";t.AtnamMsVSt="";a.getModel(a.oModelName).refresh();e.getSource().getBinding("items").filter([]);a.readCharUnit(t,a,t.AtnamMs)}};var n="/CharNameSet";var l=[];var i=a.getView().getModel("valueHelp");var o=[new sap.m.Text({text:"{Atnam}"}),new sap.m.Text({text:"{Atbez}"}),new sap.m.Text({text:"{Datuv}"}),new sap.m.Text({text:"{Atkla}"}),new sap.m.Text({text:"{Atfor}"})];var s=e.getValueHelp(i,n,o,l,r,"Atnam","Atbez");s.open();s.setModel(a.getView().getModel("i18n"),"i18n")},_changeCodeGroup:function(e,t){var a=e.Codgr;var r=a.replace(/^[ ]+|[ ]+$/g,"");if(r!==""){var n="/CodeGrpSet";var l=[new sap.ui.model.Filter("Codegruppe","EQ",a),new sap.ui.model.Filter("Mptyp","EQ",e.Mptyp)];var i=t.getView().getModel("valueHelp");var o=function(a){if(a.results.length>0){e.Codgr=r;e.Codgrtxt=a.results[0].Kurztext}else{e.Codgrtxt="";e.CodgrVS="Error";e.CodgrVST="Invalid Entry"}t.getModel(t.oModelName).refresh()};var s=function(a){var r=JSON.parse(a.response.body);var n=r.error.message.value;e.CodgrVS="Error";e.CodgrVST=n;t.getModel(t.oModelName).refresh()};t._readData(n,i,o,s,l)}else{e.Codgr=r;t.getModel(t.oModelName).refresh()}},valueHelpFunCodeGrp:function(t,a){var r={title:a.getView().getModel("i18n").getProperty("CODE_GRP_TXT"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",columns:[new sap.m.Column({header:[new sap.m.Text({text:"{i18n>CATALOG}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>CODE_GRP_TXT}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"Short Text"})]})],items:{path:"/CodeGrpSet?$filter=Mptyp%20eq%20%27"+t.Mptyp+"%27",template:new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Katalogart}"}),new sap.m.Text({text:"{Codegruppe}"}),new sap.m.Text({text:"{Kurztext}"})]})},confirm:function(e){t.Codgr=e.getParameter("selectedItem").getCells()[1].getText();t.Codgrtxt=e.getParameter("selectedItem").getCells()[2].getText();t.CodgrVS="None";t.CodgrVST="";a.getModel(a.oModelName).refresh()}};var n="/CodeGrpSet";var l=[new sap.ui.model.Filter("Mptyp","EQ",t.Mptyp)];var i=a.getView().getModel("valueHelp");var o=[new sap.m.Text({text:"{Katalogart}"}),new sap.m.Text({text:"{Codegruppe}"}),new sap.m.Text({text:"{Kurztext}"})];var s=e.getValueHelp(i,n,o,l,r,"Katalogart","Codegruppe");s.open();s.setModel(a.getView().getModel("i18n"),"i18n")},valueHelpDecimalPlace:function(t,a){var r={title:a.getView().getModel("i18n").getProperty("DECIMAL_PLACES"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/DecimalSet",template:new sap.m.StandardListItem({title:"{Decim}",description:"{Text}"})},confirm:function(e){t.Decim=e.getParameters().selectedItem.getProperty("title");a.getModel(a.oModelName).refresh()}};var n="/DecimalSet";var l=a.getView().getModel("valueHelp");var i=e.getSelectDialog(l,n,[],r,"Decim","Text");i.open()},valueHelpCycleSetSeq:function(e,t){var a=new sap.m.SelectDialog({title:t.getView().getModel("i18n").getProperty("CYCLE_SET_SEQ"),noDataText:t.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/",template:new sap.m.StandardListItem({title:"{Cycleseqi}",description:""})},confirm:function(a){e.CycleseqVS="None";e.Cycleseq=a.getParameters().selectedItem.getProperty("title");t.getView().getModel(t.oModelName).refresh()},search:function(e){var t=e.getParameter("value");if(e.getSource().getBinding("items")){e.getSource().getBinding("items").filter(!t?[]:[new sap.ui.model.Filter([new sap.ui.model.Filter("Cycleseqi",sap.ui.model.FilterOperator.Contains,t)],false)])}}});if(t.cycleSeq.length>0){var r=new sap.ui.model.json.JSONModel;r.setData(t.cycleSeq);a.setModel(r)}else{a.setNoDataText(t.getView().getModel("i18n").getProperty("NO_DATA"))}a.open()},_changeAssembly:function(e,t){var a=e.getSource();var r=t.getView().getModel("itemDetailView");var n=r.getData();var l=n.AsmblyOb;var i=l.replace(/^[ ]+|[ ]+$/g,"");if(i!==""){var o="/MaterialVH_PRTSet";var s=[new sap.ui.model.Filter("Matnr","EQ",l)];var p=t.getView().getModel("valueHelp");var m=function(e){if(e.results.length>0){n.AsmblyOb=i;n.Assemblydesc=e.results[0].Maktg;r.setData(n)}else{a.setValueState("Error");a.setValueStateText("Invalid Entry")}};var g=function(e){var t=JSON.parse(e.response.body);var l=t.error.message.value;a.setValueState("Error");a.setValueStateText(l);r.setData(n)};t._readData(o,p,m,g,s)}else{e.AsmblyOb=i;t.getView().getModel(t.oModelName).refresh()}},valueHelpAssembly:function(t,a){var r=t.getSource();var n=a.getView().getModel("itemDetailView");var l=n.getData();var i={title:a.getView().getModel("i18n").getProperty("ASSEMBLY"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",columns:[new sap.m.Column({header:[new sap.m.Text({text:"{i18n>DESCRIPTION}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>LANGUAGE}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>MATERIAL}"})]})],items:{path:"/MaterialVH_PRTSet",template:new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Maktg}"}),new sap.m.Text({text:"{Spras}"}),new sap.m.Text({text:"{Matnr}"})]})},confirm:function(e){l.AsmblyOb=e.getParameter("selectedItem").getCells()[2].getText();l.Assemblydesc=e.getParameter("selectedItem").getCells()[0].getText();r.setValueState("None");r.setValueStateText("");n.setData(l)}};var o="/MaterialVH_PRTSet";var s=[];var p=a.getView().getModel("valueHelp");var m=[new sap.m.Text({text:"{Maktg}"}),new sap.m.Text({text:"{Spras}"}),new sap.m.Text({text:"{Matnr}"})];var g=e.getValueHelp(p,o,m,s,i,"Matnr","Maktg");g.open();g.setModel(a.getView().getModel("i18n"),"i18n")},_changeOrderType:function(e,t){var a=e.Auart;var r=a.replace(/^[ ]+|[ ]+$/g,"");if(r!==""){var n="/MPLANOrdertypeSet";var l=[new sap.ui.model.Filter("Auart","EQ",a)];var i=t.getView().getModel("valueHelp");var o=function(a){if(a.results.length>0){e.Auart=r;e.oTypeTxt=a.results[0].Txt}else{e.Auart="";e.oTypeTxt="";e.AuartVS="Error";e.AuartVST="Invalid Entry"}t.getView().getModel(t.oModelName).refresh()};var s=function(a){var r=JSON.parse(a.response.body);var n=r.error.message.value;e.AuartVS="Error";e.AuartVST=n;t.getView().getModel(t.oModelName).refresh()};t._readData(n,i,o,s,l)}else{e.Auart=r;t.getView().getModel(t.oModelName).refresh()}},valueHelpFunOrderType:function(t,a){var r={title:a.getView().getModel("i18n").getProperty("ORDER_TYPE"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/MPLANOrdertypeSet",template:new sap.m.StandardListItem({title:"{Auart}",description:"{Txt}"})},confirm:function(e){t.Auart=e.getParameters().selectedItem.getProperty("title");t.oTypeTxt=e.getParameters().selectedItem.getProperty("description");t.AuartVS="None";a.getView().getModel(a.oModelName).refresh()}};var n="/MPLANOrdertypeSet";var l=a.getView().getModel("valueHelp");var i=e.getSelectDialog(l,n,[],r,"Auart","Txt");i.open()},_changeNotifType:function(e,t){var a=e.getSource();var r=t.getView().getModel("itemDetailView");var n=r.getData();var l=n.Qmart;var i=l.replace(/^[ ]+|[ ]+$/g,"");if(i!==""){var o="/NotifType_genSet";var s=[new sap.ui.model.Filter("Qmart","EQ",l)];var p=t.getView().getModel("valueHelp");var m=function(e){if(e.results.length>0){n.Qmart=i;n.nTypeTxt=e.results[0].Qmartx}else{n.Qmart="";n.nTypeTxt="";a.setValueState("Error");a.setValueStateText("Invalid Entry")}r.setData(n)};var g=function(e){var t=JSON.parse(e.response.body);var r=t.error.message.value;a.setValueState("Error");a.setValueStateText(r)};t._readData(o,p,m,g,s)}else{n.Qmart=i;r.setData(n)}},valueHelpFunNotifType:function(t,a){var r=t.getSource();var n=a.getView().getModel("itemDetailView");var l=n.getData();var i={title:a.getView().getModel("i18n").getProperty("NOTIF_TYPE"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/NotifType_genSet",template:new sap.m.StandardListItem({title:"{Qmart}",description:"{Qmartx}"})},confirm:function(e){l.Qmart=e.getParameters().selectedItem.getProperty("title");l.nTypeTxt=e.getParameters().selectedItem.getProperty("description");r.setValueState("None");r.setValueStateText("");n.setData(l)}};var o="/NotifType_genSet";var s=a.getView().getModel("valueHelp");var p=e.getSelectDialog(s,o,[],i,"Qmart","Qmartx");p.open()},_changeMpmiMainWc:function(e,t){var a=e.ArbpMi;var r=a.replace(/^[ ]+|[ ]+$/g,"");if(r!==""){var n="/WorkCenterVHSet";var l=e.Werks?e.Werks:"";var i=[new sap.ui.model.Filter("Arbpl","EQ",a),new sap.ui.model.Filter("Werks","EQ",l)];var o=t.getView().getModel("valueHelp");var s=function(a){if(a.results.length>0){e.ArbpMi=r;e.WergwMi=a.results[0].Werks;if(e.enableLoc===false){e.ArbplIl=r;e.Workcenterdesc=""}}else{e.ArbpMi="";e.WergwMi="";e.ArbpMiVS="Error";e.ArbpMiVST="Invalid Entry"}t.getView().getModel(t.oModelName).refresh()};var p=function(a){var r=JSON.parse(a.response.body);var n=r.error.message.value;e.ArbpMiVS="Error";e.ArbpMiVST=n;t.getView().getModel(t.oModelName).refresh()};t._readData(n,o,s,p,i)}else{e.ArbpMi=r;t.getView().getModel(t.oModelName).refresh()}},valueHelpFunMpmiMainWc:function(e,t){var a;if(a===undefined){var r=new sap.m.TableSelectDialog({title:t.getView().getModel("i18n").getProperty("MAIN_WC"),noDataText:t.getView().getModel("i18n").getProperty("LOAD")+"...",columns:[new sap.m.Column({header:[new sap.m.Text({text:"Work Center Category"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"Plant"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"Work Center"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"Description"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"Language"})]})],items:{path:"/WorkCenterVHSet",template:new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Verwe}"}),new sap.m.Text({text:"{Werks}"}),new sap.m.Text({text:"{Arbpl}"}),new sap.m.Text({text:"{Ktext}"}),new sap.m.Text({text:"{Spras}"})]})},confirm:function(a){e.ArbpMi=a.getParameter("selectedItem").getCells()[2].getText();e.WergwMi=a.getParameter("selectedItem").getCells()[1].getText();e.ArbpMiVS="None";e.ArbpMiVST="";if(e.enableLoc===false){e.ArbplIl=a.getParameter("selectedItem").getCells()[2].getText();e.Workcenterdesc=""}t.getView().getModel(t.oModelName).refresh()},search:function(e){var t=e.getParameter("value");if(e.getSource().getBinding("items")){e.getSource().getBinding("items").filter(!t?[]:[new sap.ui.model.Filter([new sap.ui.model.Filter("Arbpl",sap.ui.model.FilterOperator.Contains,t),new sap.ui.model.Filter("Ktext",sap.ui.model.FilterOperator.Contains,t)],false)])}}});var n="/WorkCenterVHSet";var l=t.getView().getModel("valueHelp");var i=e.Werks?e.Werks:"";var o=[new sap.ui.model.Filter("Werks","EQ",i)];var s=function(e){if(e.results.length>0){if(sap.ui.getCore().getModel("AIWListWCModel")){var n=sap.ui.getCore().getModel("AIWListWCModel").getData();if(n.length>0){for(var l=0;l<n.length;l++){if(n[l].wc){var i={Verwe:n[l].wcCat,Werks:n[l].plant,Arbpl:n[l].wc,Ktext:n[l].wcDesc,Spras:e.results[0].Spras};e.results.unshift(i)}}}}a=e;var o=new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Verwe}"}),new sap.m.Text({text:"{Werks}"}),new sap.m.Text({text:"{Arbpl}"}),new sap.m.Text({text:"{Ktext}"}),new sap.m.Text({text:"{Spras}"})]});var s=new sap.ui.model.json.JSONModel;s.setData(e);r.setModel(s);r.bindAggregation("items","/results",o)}else{r.setNoDataText(t.getView().getModel("i18n").getProperty("NO_DATA"))}};var p=function(){};t._readData(n,l,s,p,o)}else{var m=new sap.ui.model.json.JSONModel;m.setData(a);r.setModel(m);var g=r.getItems();for(var d=0;d<g.length;d++){g[d].setVisible(true)}}r.open()},_changeMpmiMainWcPlnt:function(e,t){var a=e.WergwMi;var r=a.replace(/^[ ]+|[ ]+$/g,"");if(r!==""){var n="/WorkCenterVHSet";var l=[new sap.ui.model.Filter("Werks","EQ",a)];var i=t.getView().getModel("valueHelp");var o=function(a){if(a.results.length>0){e.WergwMi=r}else{e.WergwMiVS="Error";e.WergwMiVST="Invalid Entry"}t.getView().getModel(t.oModelName).refresh()};var s=function(a){var r=JSON.parse(a.response.body);var n=r.error.message.value;e.WergwMiVS="Error";e.WergwMiVST=n;t.getView().getModel(t.oModelName).refresh()};t._readData(n,i,o,s,l)}else{e.WergwMi=r;t.getView().getModel(t.oModelName).refresh()}},valueHelpFunMpmiMainWcPlnt:function(t,a){var r={title:a.getView().getModel("i18n").getProperty("PLAN_FOR_WC"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",columns:[new sap.m.Column({header:[new sap.m.Text({text:"{i18n>WC_CATEGORY}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>PLANT}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>WC}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>DESCRIPTION}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>LANGUAGE}"})]})],items:{path:"/WorkCenterVHSet",template:new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Verwe}"}),new sap.m.Text({text:"{Werks}"}),new sap.m.Text({text:"{Arbpl}"}),new sap.m.Text({text:"{Ktext}"}),new sap.m.Text({text:"{Spras}"})]})},confirm:function(e){t.WergwMi=e.getParameter("selectedItem").getCells()[1].getText();t.WergwMiVS="None";a.getView().getModel(a.oModelName).refresh()}};var n="/WorkCenterVHSet";var l=[];var i=a.getView().getModel("valueHelp");var o=[new sap.m.Text({text:"{Verwe}"}),new sap.m.Text({text:"{Werks}"}),new sap.m.Text({text:"{Arbpl}"}),new sap.m.Text({text:"{Ktext}"}),new sap.m.Text({text:"{Spras}"})];var s=e.getValueHelp(i,n,o,l,r,"Werks","Arbpl");s.open();s.setModel(a.getView().getModel("i18n"),"i18n")},_changeFloc:function(e,t){var a=e.Tplnr;var r=a.replace(/^[ ]+|[ ]+$/g,"");if(r!==""){var n="/FunctionLocationSet";var l=[new sap.ui.model.Filter("Tplnr","EQ",a)];var i=t.getView().getModel("valueHelp");var o=function(n){if(n.results.length>0){e.Tplnr=r;e.Pltxt=n.results[0].Pltxt;t.getView().getModel(t.oModelName).refresh();if(e.Equnr!==""&&a===""){t.readPlantData(a)}else if(e.Equnr!==""&&a!==""){t.readPlantData(a)}else if(e.Equnr===""&&a!==""){t.readPlantData(a)}if(t.strategy==="PERF"||t.strategy==="singlePerf"){t.readCounter()}}else{e.Tplnr="";e.Pltxt="";e.TplnrVS="Error";e.TplnrVST="Invalid Entry"}t.getView().getModel(t.oModelName).refresh()};var s=function(a){var r=JSON.parse(a.response.body);var n=r.error.message.value;e.TplnrVS="Error";e.TplnrVST=n;t.getView().getModel(t.oModelName).refresh()};t._readData(n,i,o,s,l)}else{e.Tplnr=r;t.getView().getModel(t.oModelName).refresh()}},valueHelpFunMaintPlan:function(e,t){var a;if(a===undefined){var r=new sap.m.SelectDialog({title:t.getView().getModel("i18n").getProperty("MAINTPLAN_TXT"),noDataText:t.getView().getModel("i18n").getProperty("LOAD")+"...",growingThreshold:5e3,items:{path:"/MPlanVHSet",template:new sap.m.StandardListItem({title:"{Warpl}",description:"{Wptxt}"})},confirm:function(a){e.Warpl=a.getParameters().selectedItem.getProperty("title");e.WarplVS="None";e.WarplVST="";t.getView().getModel(t.oModelName).refresh();if(t._copyFragmentFlag){t._copyFragment.getModel("copyModel").refresh()}},search:function(e){var t=e.getParameter("value");if(e.getSource().getBinding("items")){e.getSource().getBinding("items").filter(!t?[]:[new sap.ui.model.Filter([new sap.ui.model.Filter("Warpl",sap.ui.model.FilterOperator.Contains,t),new sap.ui.model.Filter("Wptxt",sap.ui.model.FilterOperator.Contains,t)],false)])}}});var n="/MPlanVHSet";var l=t.getView().getModel("valueHelp");var i=function(e){if(e.results.length>0){if(t._copyFragmentFlag){var n=t.getView().getModel(t.oModelAIWMPMI).getData();if(n.length>0){for(var l=0;l<n.length;l++){if(n[l].Warpl){var i={Warpl:n[l].Warpl,Wptxt:n[l].Wptxt};e.results.unshift(i)}}}}a=e;var o=new sap.m.StandardListItem({title:"{Warpl}",description:"{Wptxt}",active:true});var s=new sap.ui.model.json.JSONModel;s.setData(e);r.setModel(s);r.bindAggregation("items","/results",o)}else{r.setNoDataText(t.getView().getModel("i18n").getProperty("NO_DATA"))}};var o=function(){};t._readData(n,l,i,o)}else{var s=new sap.ui.model.json.JSONModel;s.setData(a);r.setModel(s);var p=r.getItems();for(var m=0;m<p.length;m++){p[m].setVisible(true)}}r.open()},_changeMaintenanceCatPlan:function(e,t){var a=e.Mptyp;var r=a.replace(/^[ ]+|[ ]+$/g,"");if(r!==""){var n="/MPLANItemCatgSet";var l=[new sap.ui.model.Filter("Mptyp","EQ",a)];var i=t.getView().getModel("valueHelp");var o=function(a){if(a.results.length>0){e.Mptyp=r}else{e.MptypVS="Error";e.MptypVST="Invalid Entry"}t.getView().getModel(t.ModelName).refresh()};var s=function(a){var r=JSON.parse(a.response.body);var n=r.error.message.value;e.MptypVS="Error";e.MptypVST=n;t.getView().getModel(t.ModelName).refresh()};t._readData(n,i,o,s,l)}else{e.Mptyp=r;t.getView().getModel(t.ModelName).refresh()}},valueHelpFunMaintCat:function(t,a){var r={title:a.getView().getModel("i18n").getProperty("MAINTPLAN_TXT"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/MPLANItemCatgSet",template:new sap.m.StandardListItem({title:"{Mptyp}",description:"{Txt}"})},confirm:function(e){t.Mptyp=e.getParameters().selectedItem.getProperty("title");t.MptypVS="None";t.MptypVST="";a.getView().getModel(a.oModelName).refresh()}};var n="/MPLANItemCatgSet";var l=a.getView().getModel("valueHelp");var i=e.getSelectDialog(l,n,[],r,"Mptyp","Txt");i.open()},_changeMaintenanceStrategy:function(e,t){var a=e.Strat;var r=a.replace(/^[ ]+|[ ]+$/g,"");if(r!==""){var n="/StrategySet";var l=[new sap.ui.model.Filter("Strat","EQ",a)];var i=t.getView().getModel("valueHelp");var o=function(a){if(a.results.length>0){e.Strat=r}else{e.StratVS="Error";e.StratVST="Invalid Entry"}t.getView().getModel(t.oModelName).refresh()};var s=function(a){var r=JSON.parse(a.response.body);var n=r.error.message.value;e.StratVS="Error";e.StratVST=n;t.getView().getModel(t.oModelName).refresh()};t._readData(n,i,o,s,l)}else{e.Strat=r;t.getView().getModel(t.oModelName).refresh()}},valueHelpFunMaintenanceStrategy:function(t,a){var r={title:a.getView().getModel("i18n").getProperty("MAINT_STR"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",columns:[new sap.m.Column({header:[new sap.m.Text({text:"{i18n>STRATEGY}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>DESCRIPTION}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>SCHE_IND_TXT}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>UNIT}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>FACT_CAL}"})]})],items:{path:"/StrategySet",template:new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Strat}"}),new sap.m.Text({text:"{Ktext}"}),new sap.m.Text({text:"{Termk}"}),new sap.m.Text({text:"{Zeieh}"}),new sap.m.Text({text:"{Fabkl}"})]})},confirm:function(e){t.Strat=e.getParameter("selectedItem").getCells()[0].getText();t.StratVS="None";t.StratVST="";a.getView().getModel(a.oModelName).refresh()}};var n="/StrategySet";var l=a.getView().getModel("valueHelp");var i=[];var o=[new sap.m.Text({text:"{Strat}"}),new sap.m.Text({text:"{Ktext}"}),new sap.m.Text({text:"{Termk}"}),new sap.m.Text({text:"{Zeieh}"}),new sap.m.Text({text:"{Fabkl}"})];var s=e.getValueHelp(l,n,o,i,r,"Strat","Ktext");s.open();s.setModel(a.getView().getModel("i18n"),"i18n")},_changeSortField:function(e,t){var a=e.MplanSort;var r=a.replace(/^[ ]+|[ ]+$/g,"");if(r!==""){var n="/MplanSortSet";var l=[new sap.ui.model.Filter("PlanSort","EQ",a)];var i=t.getView().getModel("valueHelp");i.read(n,{filters:l,success:function(a){if(a.results.length>0){e.MplanSort=r}else{e.MplanSortVS="Error";e.MplanSortVST="Invalid Entry"}t.getView().getModel(t.oModelName).refresh()},error:function(a){var r=JSON.parse(a.response.body);var n=r.error.message.value;e.MplanSortVS="Error";e.MplanSortVST=n;t.getView().getModel(t.oModelName).refresh()}})}else{e.MplanSort=r;t.getView().getModel(t.oModelName).refresh()}},valueHelpFunSortField:function(t,a){var r={title:a.getView().getModel("i18n").getProperty("MP_SORT"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/MplanSortSet",template:new sap.m.StandardListItem({title:"{PlanSort}",description:"{Txt}"})},confirm:function(e){t.MplanSort=e.getParameters().selectedItem.getProperty("title");t.MplanSortVS="None";t.MplanSortVST="";a.getView().getModel(a.oModelName).refresh()}};var n="/MplanSortSet";var l=a.getView().getModel("valueHelp");var i=e.getSelectDialog(l,n,[],r,"PlanSort","Txt");i.open()},valueHelpFunMeasPoint:function(e,t){var a,r;if(a===undefined){r=new sap.m.TableSelectDialog({title:t.getView().getModel("i18n").getProperty("MEASPOINT_TXT"),noDataText:t.getView().getModel("i18n").getProperty("LOAD")+"...",columns:[new sap.m.Column({header:[new sap.m.Text({text:"Measuring Point"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"Meas. Position"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"Description"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"MeasPt Category"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"Counter"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"Functional Location"})]})],items:{path:"/MSPT_FL_VHSet",template:new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Point}"}),new sap.m.Text({text:"{Psort}"}),new sap.m.Text({text:"{Pttxt}"}),new sap.m.Text({text:"{Mptyp}"}),new sap.m.Text({text:"{Indct}"}),new sap.m.Text({text:"{Tplnr}"})]})},confirm:function(a){e.Mspoint=a.getParameter("selectedItem").getCells()[0].getText();e.MspointVS="None";e.MspointVST="";t.getView().getModel(t.oModelName).refresh();if(t._copyFragmentFlag){t._copyFragment.getModel("copyModel").refresh()}},search:function(e){var t=e.getParameter("value");if(e.getSource().getBinding("items")){e.getSource().getBinding("items").filter(!t?[]:[new sap.ui.model.Filter([new sap.ui.model.Filter("Point",sap.ui.model.FilterOperator.Contains,t),new sap.ui.model.Filter("Pttxt",sap.ui.model.FilterOperator.Contains,t)],false)])}}});var n="/MSPT_FL_VHSet";var l=t.getView().getModel("valueHelp");var i=function(e){if(e.results.length>0){if(t._copyFragmentFlag){var a=t.getView().getModel(t.oModelAIWMSPT).getData();if(a.length>0){for(var n=0;n<a.length;n++){if(a[n].Mspoint){var l={Indct:a[n].Indct,Mptyp:a[n].Mptyp,Point:a[n].Mspoint,Psort:a[n].Psort,Pttxt:a[n].Pttxt,Tplnr:a[n].Tplnr};e.results.unshift(l)}}}}t.pSearchResults=e;var i=new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Point}"}),new sap.m.Text({text:"{Psort}"}),new sap.m.Text({text:"{Pttxt}"}),new sap.m.Text({text:"{Mptyp}"}),new sap.m.Text({text:"{Indct}"}),new sap.m.Text({text:"{Tplnr}"})]});var o=new sap.ui.model.json.JSONModel;o.setData(e);r.setModel(o);r.bindAggregation("items","/results",i)}else{r.setNoDataText(t.getView().getModel("i18n").getProperty("NO_DATA"))}};var o=function(){};t._readData(n,l,i,o())}else{var s=new sap.ui.model.json.JSONModel;s.setData(a);r.setModel(s);var p=r.getItems();for(var m=0;m<p.length;m++){p[m].setVisible(true)}}r.open()},TLTypeVH:function(t,a){var r={title:a.getView().getModel("i18n").getProperty("TL_TYPE"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/MPTlTypeSet",template:new sap.m.StandardListItem({title:"{Plnty}",description:"{Txt}"})},confirm:function(e){t.PlntyMi=e.getParameters().selectedItem.getProperty("title");t.PlnnrMi="";t.PlnalMi="";t.Gpcounterdesc="";t.PlntyMiState="None";a.getView().getModel(a.oModelName).refresh()}};var n="/MPTlTypeSet";var l=[new sap.ui.model.Filter("Equnr","EQ",t.Equnr),new sap.ui.model.Filter("Tplnr","EQ",t.Tplnr),new sap.ui.model.Filter("Plnty","EQ","")];var i=a.getView().getModel("valueHelp");var o=e.getSelectDialog(i,n,l,r,"Plnty","Txt");o.open()},TLGroupVH:function(e,t){var a=new sap.m.TableSelectDialog({title:t.getView().getModel("i18n").getProperty("GRP"),noDataText:t.getView().getModel("i18n").getProperty("LOAD")+"...",columns:[new sap.m.Column({header:[new sap.m.Text({text:"{i18n>TL_TYPE}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>GRP}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>GRP_C}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>description}"})]})],items:{path:"/MPTListSet",template:new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Plnty}"}),new sap.m.Text({text:"{Plnnr}"}),new sap.m.Text({text:"{Plnal}"}),new sap.m.Text({text:"{Ktext}"})]})},confirm:function(a){e.PlntyMi=a.getParameter("selectedItem").getCells()[0].getText();e.PlnnrMi=a.getParameter("selectedItem").getCells()[1].getText();e.PlnalMi=a.getParameter("selectedItem").getCells()[2].getText();e.Gpcounterdesc=a.getParameter("selectedItem").getCells()[3].getText();e.PlnnrMiState="None";t.getView().getModel(t.oModelName).refresh()},search:function(e){var t=e.getParameter("value");e.getSource().getBinding("items").filter(!t?[]:[new sap.ui.model.Filter([new sap.ui.model.Filter("Plnnr",sap.ui.model.FilterOperator.Contains,t),new sap.ui.model.Filter("Ktext",sap.ui.model.FilterOperator.Contains,t)],false)])}});var r="";if(t.strategy!=="Blank"){r=t.strategy}var n="/MPTListSet";var l=[new sap.ui.model.Filter("Equnr","EQ",e.Equnr),new sap.ui.model.Filter("Tplnr","EQ",e.Tplnr),new sap.ui.model.Filter("Plnty","EQ",e.PlntyMi),new sap.ui.model.Filter("Werks","EQ",e.Werks),new sap.ui.model.Filter("Plnal","EQ",""),new sap.ui.model.Filter("Plnnr","EQ",""),new sap.ui.model.Filter("Strat","EQ",r)];var i=t.getView().getModel("valueHelp");var o=function(r){var n;if(e.PlntyMi==="A"&&sap.ui.getCore().getModel("AIWListGTLModel")){n=sap.ui.getCore().getModel("AIWListGTLModel").getData();if(n.length>0){for(var l=0;l<n.length;l++){for(var i=0;i<n[l].header.length;i++){var o={Plnty:e.PlntyMi,Plnnr:n[l].grp,Plnal:n[l].header[i].Plnal,Ktext:n[l].header[i].Ktext};r.results.unshift(o)}}}}else if(e.PlntyMi==="E"&&sap.ui.getCore().getModel("AIWListETLModel")){n=sap.ui.getCore().getModel("AIWListETLModel").getData();if(n.length>0){for(var l=0;l<n.length;l++){if(n[l].equipment===e.Equnr){for(var i=0;i<n[l].header.length;i++){var o={Plnty:e.PlntyMi,Plnnr:n[l].grp,Plnal:n[l].header[i].Plnal,Ktext:n[l].header[i].Ktext};r.results.unshift(o)}}}}}else if(e.PlntyMi==="T"&&sap.ui.getCore().getModel("AIWListFTLModel")){n=sap.ui.getCore().getModel("AIWListFTLModel").getData();if(n.length>0){for(var l=0;l<n.length;l++){if(n[l].floc===e.Tplnr){for(var i=0;i<n[l].header.length;i++){var o={Plnty:e.PlntyMi,Plnnr:n[l].grp,Plnal:n[l].header[i].Plnal,Ktext:n[l].header[i].Ktext};r.results.unshift(o)}}}}}if(r.results.length>0){var s=new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Plnty}"}),new sap.m.Text({text:"{Plnnr}"}),new sap.m.Text({text:"{Plnal}"}),new sap.m.Text({text:"{Ktext}"})]});var p=new sap.ui.model.json.JSONModel;p.setData(r);a.setModel(p);a.bindAggregation("items","/results",s)}else{a.setNoDataText(t.getView().getModel("i18n").getProperty("NO_DATA"))}};var s=function(){};t._readData(n,i,o,s,l);a.open();a.setModel(t.getView().getModel("i18n"),"i18n")},TLCounterVH:function(e,t){var a=new sap.m.TableSelectDialog({title:t.getView().getModel("i18n").getProperty("COUNTER"),noDataText:t.getView().getModel("i18n").getProperty("LOAD")+"...",columns:[new sap.m.Column({header:[new sap.m.Text({text:"{i18n>TL_TYPE}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>GRP}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>GRP_C}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>description}"})]})],items:{path:"/MPTListSet",template:new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Plnty}"}),new sap.m.Text({text:"{Plnnr}"}),new sap.m.Text({text:"{Plnal}"}),new sap.m.Text({text:"{Ktext}"})]})},confirm:function(a){e.PlntyMi=a.getParameter("selectedItem").getCells()[0].getText();e.PlnnrMi=a.getParameter("selectedItem").getCells()[1].getText();e.PlnalMi=a.getParameter("selectedItem").getCells()[2].getText();e.Gpcounterdesc=a.getParameter("selectedItem").getCells()[3].getText();e.PlnnrMiState="None";t.getView().getModel(t.oModelName).refresh()},search:function(e){var t=e.getParameter("value");e.getSource().getBinding("items").filter(!t?[]:[new sap.ui.model.Filter([new sap.ui.model.Filter("Plnal",sap.ui.model.FilterOperator.Contains,t),new sap.ui.model.Filter("Ktext",sap.ui.model.FilterOperator.Contains,t)],false)])}});var r="";if(t.strategy!=="Blank"){r=t.strategy}var n="/MPTListSet";var l=[new sap.ui.model.Filter("Equnr","EQ",e.Equnr),new sap.ui.model.Filter("Tplnr","EQ",e.Tplnr),new sap.ui.model.Filter("Plnty","EQ",e.PlntyMi),new sap.ui.model.Filter("Werks","EQ",e.Werks),new sap.ui.model.Filter("Plnal","EQ",""),new sap.ui.model.Filter("Plnnr","EQ",e.PlnnrMi),new sap.ui.model.Filter("Strat","EQ",r)];var i=t.getView().getModel("valueHelp");var o=function(r){var n;if(e.PlntyMi==="A"&&sap.ui.getCore().getModel("AIWListGTLModel")){n=sap.ui.getCore().getModel("AIWListGTLModel").getData();if(n.length>0){for(var l=0;l<n.length;l++){if(n[l].grp===e.PlnnrMi){for(var i=0;i<n[l].header.length;i++){var o={Plnty:e.PlntyMi,Plnnr:n[l].grp,Plnal:n[l].header[i].Plnal,Ktext:n[l].header[i].Ktext};r.results.unshift(o)}}}}}else if(e.PlntyMi==="E"&&sap.ui.getCore().getModel("AIWListETLModel")){n=sap.ui.getCore().getModel("AIWListETLModel").getData();if(n.length>0){for(var l=0;l<n.length;l++){if(n[l].equipment===e.Equnr&&n[l].grp===e.PlnnrMi){for(var i=0;i<n[l].header.length;i++){var o={Plnty:e.PlntyMi,Plnnr:n[l].grp,Plnal:n[l].header[i].Plnal,Ktext:n[l].header[i].Ktext};r.results.unshift(o)}}}}}else if(e.PlntyMi==="T"&&sap.ui.getCore().getModel("AIWListFTLModel")){n=sap.ui.getCore().getModel("AIWListFTLModel").getData();if(n.length>0){for(var l=0;l<n.length;l++){if(n[l].floc===e.Tplnr&&n[l].grp===e.PlnnrMi){for(var i=0;i<n[l].header.length;i++){var o={Plnty:e.PlntyMi,Plnnr:n[l].grp,Plnal:n[l].header[i].Plnal,Ktext:n[l].header[i].Ktext};r.results.unshift(o)}}}}}if(r.results.length>0){var s=new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Plnty}"}),new sap.m.Text({text:"{Plnnr}"}),new sap.m.Text({text:"{Plnal}"}),new sap.m.Text({text:"{Ktext}"})]});var p=new sap.ui.model.json.JSONModel;p.setData(r);a.setModel(p);a.bindAggregation("items","/results",s)}else{a.setNoDataText(t.getView().getModel("i18n").getProperty("NO_DATA"))}};var s=function(){};t._readData(n,i,o,s,l);a.open();a.setModel(t.getView().getModel("i18n"),"i18n")},_changeTLType:function(e,t){var a=e.getSource();var r=t.getView().getModel(t.oModelName);var n=r.getData();n.PlnnrMi="";n.PlnalMi="";n.Gpcounterdesc="";var l=n.PlntyMi;var i=l.replace(/^[ ]+|[ ]+$/g,"");if(i!==""){var o="/MPTlTypeSet";var s=[new sap.ui.model.Filter("Equnr","EQ",n.Equnr),new sap.ui.model.Filter("Tplnr","EQ",n.Tplnr),new sap.ui.model.Filter("Plnty","EQ",i)];var p=t.getView().getModel("valueHelp");var m=function(e){if(e.results.length>0){n.PlntyMi=i;n.PlntyMiState="None"}else{n.PlntyMi="";n.PlnnrMi="";n.PlnalMi="";n.PlntyMiState="Error"}r.setData(n)};var g=function(e){var t=JSON.parse(e.responseText);var r=t.error.message.value;a.setValueState("Error");a.setValueStateText(r)};t._readData(o,p,m,g,s)}else{n.PlntyMi=i;r.setData(n)}},_changeTLGroup:function(e,t){var a=e.getSource();var r=t.getView().getModel(t.oModelName);var n=r.getData();var l=n.PlnnrMi;var i=l.replace(/^[ ]+|[ ]+$/g,"");if(i!==""){var o="";if(t.strategy!=="Blank"){o=t.strategy}var s="/MPTListSet";var p=[new sap.ui.model.Filter("Equnr","EQ",n.Equnr),new sap.ui.model.Filter("Tplnr","EQ",n.Tplnr),new sap.ui.model.Filter("Plnty","EQ",n.PlntyMi),new sap.ui.model.Filter("Werks","EQ",n.Werks),new sap.ui.model.Filter("Plnal","EQ",""),new sap.ui.model.Filter("Plnnr","EQ",i),new sap.ui.model.Filter("Strat","EQ",o)];var m=t.getView().getModel("valueHelp");var g=function(e){var t;if(e.results.length>0){n.PlnnrMi=i;n.PlnnrMiState="None";n.PlntyMi=e.results[0].Plnty;n.PlnalMi=e.results[0].Plnal;n.Gpcounterdesc=e.results[0].Ktext}else if(n.PlntyMi==="A"&&sap.ui.getCore().getModel("AIWListGTLModel")){t=sap.ui.getCore().getModel("AIWListGTLModel").getData();if(t.length>0){for(var a=0;a<t.length;a++){if(t[a].grp===i){for(var l=0;l<t[a].header.length;l++){n.PlnnrMi=i;n.PlnnrMiState="None";n.PlntyMi=t[a].header[l].Plnty;n.PlnalMi=t[a].header[l].Plnal;n.Gpcounterdesc=t[a].header[l].Ktext}}}}}else if(n.PlntyMi==="E"&&sap.ui.getCore().getModel("AIWListETLModel")){t=sap.ui.getCore().getModel("AIWListETLModel").getData();if(t.length>0){for(var a=0;a<t.length;a++){if(t[a].equipment===n.Equnr&&t[a].grp===i){for(var l=0;l<t[a].header.length;l++){n.PlnnrMi=i;n.PlnnrMiState="None";n.PlntyMi=t[a].header[l].Plnty;n.PlnalMi=t[a].header[l].Plnal;n.Gpcounterdesc=t[a].header[l].Ktext}}}}}else if(n.PlntyMi==="T"&&sap.ui.getCore().getModel("AIWListFTLModel")){t=sap.ui.getCore().getModel("AIWListFTLModel").getData();if(t.length>0){for(var a=0;a<t.length;a++){if(t[a].floc===n.Tplnr&&t[a].grp===i){for(var l=0;l<t[a].header.length;l++){n.PlnnrMi=i;n.PlnnrMiState="None";n.PlntyMi=t[a].header[l].Plnty;n.PlnalMi=t[a].header[l].Plnal;n.Gpcounterdesc=t[a].header[l].Ktext}}}}}else{n.PlnnrMi="";n.PlnnrMiState="Error";n.PlnalMi="";n.Gpcounterdesc=""}r.setData(n)};var d=function(e){var t=JSON.parse(e.responseText);var r=t.error.message.value;a.setValueState("Error");a.setValueStateText(r)};t._readData(s,m,g,d,p)}else{n.PlnnrMi=i;r.setData(n)}},_changeTLCounter:function(e,t){var a=e.getSource();var r=t.getView().getModel(t.oModelName);var n=r.getData();var l=n.PlnalMi;var i=l.replace(/^[ ]+|[ ]+$/g,"");if(i!==""){var o="";if(t.strategy!=="Blank"){o=t.strategy}var s="/MPTListSet";var p=[new sap.ui.model.Filter("Equnr","EQ",n.Equnr),new sap.ui.model.Filter("Tplnr","EQ",n.Tplnr),new sap.ui.model.Filter("Plnty","EQ",n.PlntyMi),new sap.ui.model.Filter("Werks","EQ",n.Werks),new sap.ui.model.Filter("Plnal","EQ",i),new sap.ui.model.Filter("Plnnr","EQ",n.PlnnrMi),new sap.ui.model.Filter("Strat","EQ",o)];var m=t.getView().getModel("valueHelp");var g=function(e){var t;if(e.results.length>0){n.PlnalMi=i;n.PlnalMiState="None";n.PlntyMi=e.results[0].Plnty;n.PlnnrMi=e.results[0].Plnnr;n.Gpcounterdesc=e.results[0].Ktext}else if(n.PlntyMi==="A"&&sap.ui.getCore().getModel("AIWListGTLModel")){t=sap.ui.getCore().getModel("AIWListGTLModel").getData();if(t.length>0){for(var a=0;a<t.length;a++){if(t[a].grp===n.PlnnrMi){for(var l=0;l<t[a].header.length;l++){if(t[a].header[l].Plnal===i){n.PlnalMiState="None";n.PlnalMi=i;n.Gpcounterdesc=t[a].header[l].Ktext;n.PlntyMi=t[a].header[l].Plnty;n.PlnnrMi=t[a].header[l].Plnnr}}}}}}else if(n.PlntyMi==="E"&&sap.ui.getCore().getModel("AIWListETLModel")){t=sap.ui.getCore().getModel("AIWListETLModel").getData();if(t.length>0){for(var a=0;a<t.length;a++){if(t[a].equipment===n.Equnr&&t[a].grp===n.PlnnrMi){for(var l=0;l<t[a].header.length;l++){if(t[a].header[l].Plnal===i){n.PlnalMiState="None";n.PlnalMi=t[a].header[l].Plnal;n.Gpcounterdesc=t[a].header[l].Ktext;n.PlntyMi=t[a].header[l].Plnty;n.PlnnrMi=t[a].header[l].Plnnr}}}}}}else if(n.PlntyMi==="T"&&sap.ui.getCore().getModel("AIWListFTLModel")){t=sap.ui.getCore().getModel("AIWListFTLModel").getData();if(t.length>0){for(var a=0;a<t.length;a++){if(t[a].floc===n.Tplnr&&t[a].grp===n.PlnnrMi){for(var l=0;l<t[a].header.length;l++){if(t[a].header[l].Plnal===i){n.PlnalMiState="None";n.PlnalMi=t[a].header[l].Plnal;n.Gpcounterdesc=t[a].header[l].Ktext;n.PlntyMi=t[a].header[l].Plnty;n.PlnnrMi=t[a].header[l].Plnnr}}}}}}else{n.PlnalMi="";n.PlnalMiState="Error";n.Gpcounterdesc=""}r.setData(n)};var d=function(e){var t=JSON.parse(e.responseText);var r=t.error.message.value;a.setValueState("Error");a.setValueStateText(r)};t._readData(s,m,g,d,p)}else{n.PlnalMi=i;r.setData(n)}},networkLrpVH:function(t,a){var r=a.lam.getModel("AIWLAM");var n=r.getData();var l={title:a.getView().getModel("i18n").getProperty("LRP"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/NWLRPSet",template:new sap.m.StandardListItem({title:"{LRPID}",description:"{LRP_TXT}"})},confirm:function(e){n.lam.Lrpid=e.getParameters().selectedItem.getProperty("title");n.lam.LrpidDesc=e.getParameters().selectedItem.getProperty("description");n.lam.LrpidVS="None";n.lam.enableMarker=true;n.lam.LamDer="C";var t=[];if(n.lam.Startmrkr!=""&&n.lam.Endmrkr!=""){n.lam.StartmrkrVS="Error";n.lam.EndmrkrVS="Error";t.push({type:"Error",title:"Enter a valid start marker and end marker for LRP "+n.lam.Lrpid})}else if(n.lam.Startmrkr!=""){n.lam.StartmrkrVS="Error";t.push({type:"Error",title:"Enter a valid start marker for LRP "+n.lam.Lrpid})}else if(n.lam.Endmrkr!=""){n.lam.EndmrkrVS="Error";t.push({type:"Error",title:"Enter a valid start marker for LRP "+n.lam.Lrpid})}r.setData(n);if(t.length>0){a.createMessagePopover(t,false)}else{a.calculateLAM()}}};var i="/NWLRPSet";var o=a.getView().getModel("valueHelp");var s=e.getSelectDialog(o,i,[],l,"LRPID","LRP_TXT");s.setModel(a.getView().getModel("i18n"),"i18n");s.open()},_LRPChange:function(e,t){var a=t.lam.getModel("AIWLAM");var r=a.getData();var n=e.getSource().getValue();n=n.toUpperCase();var l=n.replace(/^[ ]+|[ ]+$/g,"");if(l!=""){var i=[new sap.ui.model.Filter("LRPID","EQ",l)];var o="/NWLRPSet";var s=t.getView().getModel("valueHelp");s.read(o,{filters:i,success:function(e,n){if(e.results.length>0){r.lam.Lrpid=l;r.lam.LrpidDesc=e.results[0].LRP_TXT;r.lam.LrpidVS="None";r.lam.enableMarker=true;r.lam.LamDer="C";var i=[];if(r.lam.Startmrkr!=""&&r.lam.Endmrkr!=""){r.lam.StartmrkrVS="Error";r.lam.EndmrkrVS="Error";i.push({type:"Error",title:"Enter a valid start marker and end marker for LRP "+r.lam.Lrpid})}else if(r.lam.Startmrkr!=""){r.lam.StartmrkrVS="Error";i.push({type:"Error",title:"Enter a valid start marker for LRP "+r.lam.Lrpid})}else if(r.lam.Endmrkr!=""){r.lam.EndmrkrVS="Error";i.push({type:"Error",title:"Enter a valid start marker for LRP "+r.lam.Lrpid})}a.setData(r);if(i.length>0){t.createMessagePopover(i,false)}else{t.calculateLAM()}}else{r.lam.Lrpid="";r.lam.LrpidVS="Error";r.lam.LrpidDesc="";a.setData(r)}},error:function(e){r.lam.Lrpid="";r.lam.LrpidVS="Error";r.lam.LrpidDesc="";a.setData(r);var n=JSON.parse(e.response.body);var l=n.error.message.value;t.invokeMessage(l)}})}else{r.lam.Lrpid="";r.lam.LrpidDesc="";r.lam.LrpidVS="None"}},lengthCheck:function(e){var t;var a=e.lam.getModel("AIWLAM");var r=a.getData();if(r.lam.Length==="0"||r.lam.Length===""){var n=r.lam.Strtptatr;var l=r.lam.Endptatr;var i,o;if(l!==""&&n!==""){i=parseFloat(l);o=parseFloat(n);if(l.indexOf("+")>-1){i=l.split("+");i=+parseFloat(i[1])}if(l.indexOf("-")>-1){i=l.split("-");i=-parseFloat(i[1])}if(n.indexOf("+")>-1){o=n.split("+");o=+parseFloat(o[1])}if(n.indexOf("-")>-1){o=n.split("-");o=-parseFloat(o[1])}t=i-o}else if(l===""&&n===""){t=0}else if(l===""&&n!==""){if(n.indexOf("+")>-1){o=n.split("+");o=+parseFloat(o[1])}if(n.indexOf("-")>-1){o=n.split("-");o=-parseFloat(o[1])}t=o-0}else if(l!==""&&n===""){if(l.indexOf("+")>-1){i=l.split("+");i=+parseFloat(i[1])}if(l.indexOf("-")>-1){i=l.split("-");i=-parseFloat(i[1])}t=0-i}r.lam.Length=t.toString();a.setData(r)}},lamUOMVH:function(t,a,r){var n=r.lam.getModel("AIWLAM");var l=n.getData();var i={title:r.getView().getModel("i18n").getProperty("UOM"),noDataText:r.getView().getModel("i18n").getProperty("LOAD")+"...",columns:[new sap.m.Column({header:[new sap.m.Text({text:"{i18n>COMMERCIAL}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>INTMEASUNIT}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>UNITTXT}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>DIMSNTXT}"})]})],items:{path:"/LAMuomSet",template:new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Mseh3}"}),new sap.m.Text({text:"{Msehi}"}),new sap.m.Text({text:"{Msehl}"}),new sap.m.Text({text:"{Txdim}"})]})},confirm:function(e){if(t==="uom"){l.lam.LinUnit=e.getParameter("selectedItem").getCells()[1].getText();l.lam.LinUnitDesc=e.getParameter("selectedItem").getCells()[2].getText()}else if(t==="mrkrDistUnit"){l.lam.MrkrUnit=e.getParameter("selectedItem").getCells()[1].getText()}l.lam.LamDer="C";n.setData(l);r.calculateLAM()}};var o="/LAMuomSet";var s=[];var p=r.getView().getModel("valueHelp");var m=[new sap.m.Text({text:"{Mseh3}"}),new sap.m.Text({text:"{Msehi}"}),new sap.m.Text({text:"{Msehl}"}),new sap.m.Text({text:"{Txdim}"})];var g=e.getValueHelp(p,o,m,s,i,"Msehi","Msehl");g.open();g.setModel(r.getView().getModel("i18n"),"i18n")},_uomMarkerDistUnitChange:function(e,t,a){var r=this;var n=a.lam.getModel("AIWLAM");var l=n.getData();var i=t.getSource().getValue();i=i.toUpperCase();var o=i.replace(/^[ ]+|[ ]+$/g,"");if(o!==""){var s=[new sap.ui.model.Filter("Msehi","EQ",o)];var p="/LAMuomSet";var m=a.getView().getModel("valueHelp");m.read(p,{filters:s,success:function(t,r){if(t.results.length>0){if(e==="uom"){l.lam.LinUnit=o;l.lam.LinUnitDesc=t.results[0].Msehl;l.lam.LinUnitVS="None"}else if(e==="mrkrDistUnit"){l.lam.MrkrUnit=o;l.lam.MrkrUnitVS="None"}l.lam.LamDer="C";n.setData(l);a.calculateLAM()}else{if(e==="uom"){l.lam.LinUnitDesc="";l.lam.LinUnitVS="Error"}else if(e==="mrkrDistUnit"){l.lam.MrkrUnitVS="Error"}}},error:function(t){if(e==="uom"){l.lam.LinUnitDesc="";l.lam.LinUnitVS="Error"}else if(e==="mrkrDistUnit"){l.lam.MrkrUnitVS="Error"}var a=JSON.parse(t.response.body);var r=a.error.message.value}})}},EquipmentSelectDialog:function(e){var t=new sap.m.SelectDialog({title:"{i18n>EQUI_TXT}",noDataText:"{i18n>LOAD}"+"...",confirm:e.handleEquimentConfirm,search:function(e){var t=e.getParameter("value");e.getSource().getBinding("items").filter(!t?[]:[new sap.ui.model.Filter([new sap.ui.model.Filter("Equnr",sap.ui.model.FilterOperator.Contains,t),new sap.ui.model.Filter("Eqktx",sap.ui.model.FilterOperator.Contains,t)],false)])}});var a="/EquipmentNumberSet";var r=this.getF4Model(e);r.read(a,{success:function(e,a){var r=sap.ui.getCore().getModel("AIWEQUI").getData();if(r.length>0){for(var n=0;n<r.length;n++){if(r[n].Equnr){var l={Equnr:r[n].Equnr,Eqktx:r[n].Eqktx};e.results.unshift(l)}}}if(e.results.length>0){var i=new sap.m.StandardListItem({title:"{Equnr}",description:"{Eqktx}",active:true});var o=new sap.ui.model.json.JSONModel;o.setData(e);o.isSizeLimit=e.results.length;o.setSizeLimit(e.results.length);t.setModel(o);t.setGrowingThreshold(e.results.length);t.bindAggregation("items","/results",i)}else{t.setNoDataText(t.getModel("i18n").getProperty("NO_DATA"))}}});return t},FLocSelectDialog:function(e){var t=new sap.m.SelectDialog({title:"{i18n>FUNLOC_TXT}",noDataText:"{i18n>LOAD}"+"...",confirm:e.handleFLocConfirm,search:function(e){var t=e.getParameter("value");e.getSource().getBinding("items").filter(!t?[]:[new sap.ui.model.Filter([new sap.ui.model.Filter("Tplnr",sap.ui.model.FilterOperator.Contains,t),new sap.ui.model.Filter("Pltxt",sap.ui.model.FilterOperator.Contains,t)],false)])}});var a="/FunctionLocationSet";var r=this.getF4Model(e);r.read(a,{success:function(e,a){var r=sap.ui.getCore().getModel("AIWFLOC").getData();if(r.length>0){for(var n=0;n<r.length;n++){if(r[n].Functionallocation){var l={Tplnr:r[n].Functionallocation,Pltxt:r[n].Flocdescription};e.results.unshift(l)}}}if(e.results.length>0){var i=new sap.m.StandardListItem({title:"{Tplnr}",description:"{Pltxt}",active:true});var o=new sap.ui.model.json.JSONModel;o.setData(e);o.isSizeLimit=e.results.length;o.setSizeLimit(e.results.length);t.setModel(o);t.setGrowingThreshold(e.results.length);t.bindAggregation("items","/results",i)}else{t.setNoDataText(t.getModel("i18n").getProperty("NO_DATA"))}}});return t},getF4Model:function(e){this._oComponent=sap.ui.component(sap.ui.core.Component.getOwnerIdFor(e.getView()));var t=this._oComponent.getModel("NewModel");return t},CityAddrVH:function(t,a){var r={title:a.getView().getModel("i18n").getProperty("CITY"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",columns:[new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>CITY}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>CITY_EXT}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>RGIN}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>CNTRY}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>CITY_NUM}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>CITY}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>LANGUAGE}"})]})],items:{path:"/CitySet",template:new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{CityName}"}),new sap.m.Text({text:"{CityExt}"}),new sap.m.Text({text:"{Region}"}),new sap.m.Text({text:"{Country}"}),new sap.m.Text({text:"{CityCode}"}),new sap.m.Text({text:"{CityName}"}),new sap.m.Text({text:"{Langu}"})]})},confirm:function(e){t.City1=e.getParameter("selectedItem").getCells()[0].getText();t.PostCod1=e.getParameter("selectedItem").getBindingContext().getObject().PostCode;t.Region=e.getParameter("selectedItem").getBindingContext().getObject().Region;t.RegionDesc=e.getParameter("selectedItem").getBindingContext().getObject().Regiotxt;t.RefPosta=e.getParameter("selectedItem").getBindingContext().getObject().Country;t.Landx=e.getParameter("selectedItem").getBindingContext().getObject().Landx;t.TimeZone=e.getParameter("selectedItem").getBindingContext().getObject().TimeZone;t.City1VS="None";t.PostCod1VS="None";t.RegionVS="None";t.RefPostaVS="None";t.TimeZoneVS="None";a.getView().getModel(a.oModelName).refresh()}};var n="/CitySet";var l=[new sap.ui.model.Filter("Country","EQ",t.RefPosta)];var i=a.getView().getModel("valueHelp");var o=[new sap.m.Text({text:"{CityName}"}),new sap.m.Text({text:"{CityExt}"}),new sap.m.Text({text:"{Region}"}),new sap.m.Text({text:"{Country}"}),new sap.m.Text({text:"{CityCode}"}),new sap.m.Text({text:"{CityName}"}),new sap.m.Text({text:"{Langu}"})];var s=e.getValueHelp(i,n,o,l,r,"CityName","CityCode");s.open();s.setModel(a.getView().getModel("i18n"),"i18n")},_changeCityAddr:function(e,t){var a=e.getSource();var r=t.getView().getModel(t.oModelName);var n=r.getData();var l=n.City1;var i=l.replace(/^[ ]+|[ ]+$/g,"");if(i!==""){var o="/CitySet";var s=[new sap.ui.model.Filter("CityName","EQ",i),new sap.ui.model.Filter("Country","EQ",n.RefPosta)];var p=t.getView().getModel("valueHelp");var m=function(e){if(e.results.length>0){n.City1=e.results[0].CityName;n.PostCod1=e.results[0].PostCode;n.Region=e.results[0].Region;n.RegionDesc=e.results[0].Regiotxt;n.RefPosta=e.results[0].Country;n.Landx=e.results[0].Landx;n.TimeZone=e.results[0].TimeZone;n.City1VS="None";n.PostCod1VS="None";n.RegionVS="None";n.RefPostaVS="None";n.TimeZoneVS="None"}else{n.City1VS="Error"}r.setData(n)};var g=function(e){var t=JSON.parse(e.responseText);var a=t.error.message.value;n.City1VS="Error";r.setData(n)};t._readData(o,p,m,g,s)}else{n.City1VS="None";r.setData(n)}},streetVH:function(t,a){var r=t.getSource();var n=r.getBindingInfo("value").binding.getContext().sPath;var l=a.getView().getModel(a.oModelName);var i={title:a.getView().getModel("i18n").getProperty("STREET"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",columns:[new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>STREET}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>CITY}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>CITY_EXT}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>RGIN}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>LANGUAGE}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>CNTRY}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>STREET_NUM}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>STREET}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>CITY_NUM}"})]})],items:{path:"/StrtNameSet",template:new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Street}"}),new sap.m.Text({text:"{CityName}"}),new sap.m.Text({text:"{CityExt}"}),new sap.m.Text({text:"{Region}"}),new sap.m.Text({text:"{Langu}"}),new sap.m.Text({text:"{Country}"}),new sap.m.Text({text:"{StrtCode}"}),new sap.m.Text({text:"{McStreet}"}),new sap.m.Text({text:"{CityCode}"})]})},confirm:function(e){l.getProperty(n).Streeti=e.getParameter("selectedItem").getCells()[0].getText();l.getProperty(n).StreetiVS="None";l.getProperty(n).City1i=e.getParameter("selectedItem").getCells()[1].getText();l.getProperty(n).City1iVS="None";r.setValueState("None");l.refresh()}};var o="/StrtNameSet";var s=[];var p=a.getView().getModel("valueHelp");var m=[new sap.m.Text({text:"{Street}"}),new sap.m.Text({text:"{CityName}"}),new sap.m.Text({text:"{CityExt}"}),new sap.m.Text({text:"{Region}"}),new sap.m.Text({text:"{Langu}"}),new sap.m.Text({text:"{Country}"}),new sap.m.Text({text:"{StrtCode}"}),new sap.m.Text({text:"{McStreet}"}),new sap.m.Text({text:"{CityCode}"})];var g=e.getValueHelp(p,o,m,s,i,"Street","StrtCode");g.open();g.setModel(a.getView().getModel("i18n"),"i18n")},cityVH:function(t,a){var r=t.getSource();var n=r.getBindingInfo("value").binding.getContext().sPath;var l=a.getView().getModel(a.oModelName);var i=l.getData();var o={title:a.getView().getModel("i18n").getProperty("CITY"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",columns:[new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>CITY}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>CITY_EXT}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>RGIN}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>CNTRY}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>CITY_NUM}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>CITY}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>LANGUAGE}"})]})],items:{path:"/CitySet",template:new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{CityName}"}),new sap.m.Text({text:"{CityExt}"}),new sap.m.Text({text:"{Region}"}),new sap.m.Text({text:"{Country}"}),new sap.m.Text({text:"{CityCode}"}),new sap.m.Text({text:"{CityName}"}),new sap.m.Text({text:"{Langu}"})]})},confirm:function(e){l.getProperty(n).City1i=e.getParameter("selectedItem").getCells()[0].getText();l.getProperty(n).City1iVS="None";r.setValueState("None");l.refresh()}};var s="/CitySet";var p=[new sap.ui.model.Filter("Country","EQ",i.RefPosta)];var m=a.getView().getModel("valueHelp");var g=[new sap.m.Text({text:"{CityName}"}),new sap.m.Text({text:"{CityExt}"}),new sap.m.Text({text:"{Region}"}),new sap.m.Text({text:"{Country}"}),new sap.m.Text({text:"{CityCode}"}),new sap.m.Text({text:"{CityName}"}),new sap.m.Text({text:"{Langu}"})];var d=e.getValueHelp(m,s,g,p,o,"CityName","CityCode");d.open();d.setModel(a.getView().getModel("i18n"),"i18n")},_changeStreetI:function(e,t){var a=e.getSource();var r=a.getBindingInfo("value").binding.getContext().sPath;var n=t.getView().getModel(t.oModelName);var l=n.getData();var i=n.getProperty(r).Streeti;var o=i.replace(/^[ ]+|[ ]+$/g,"");if(o!==""){var s="/StrtNameSet";var p=[new sap.ui.model.Filter("Street","EQ",o)];var m=t.getView().getModel("valueHelp");var g=function(e){if(e.results.length>0){n.getProperty(r).Streeti=e.results[0].Street;n.getProperty(r).StreetiVS="None";n.getProperty(r).City1i=e.results[0].CityName;n.getProperty(r).City1iVS="None";a.setValueState("None")}else{n.getProperty(r).StreetiVS="Error";l.StreetiVS="Error"}n.setData(l)};var d=function(e){var t=JSON.parse(e.responseText);var i=t.error.message.value;n.getProperty(r).StreetiVS="Error";n.setData(l);a.setValueState("Error")};t._readData(s,m,g,d,p)}else{n.getProperty(r).StreetiVS="None";n.setData(l)}},_changeCityI:function(e,t){var a=e.getSource();var r=a.getBindingInfo("value").binding.getContext().sPath;var n=t.getView().getModel(t.oModelName);var l=n.getData();var i=n.getProperty(r).City1i;var o=i.replace(/^[ ]+|[ ]+$/g,"");if(o!==""){var s="/CitySet";var p=[new sap.ui.model.Filter("CityName","EQ",o),new sap.ui.model.Filter("Country","EQ",l.RefPosta)];var m=t.getView().getModel("valueHelp");var g=function(e){if(e.results.length>0){n.getProperty(r).City1i=e.results[0].CityName;n.getProperty(r).City1iVS="None";a.setValueState("None")}else{n.getProperty(r).City1iVS="Error";a.setValueState("Error")}n.setData(l)};var d=function(e){var t=JSON.parse(e.responseText);var i=t.error.message.value;n.getProperty(r).City1iVS="Error";n.setData(l);a.setValueState("Error")};t._readData(s,m,g,d,p)}else{n.getProperty(r).City1iVS="None";n.setData(l)}},handleImportToMocr:function(e){var t=false;var a=[];var r=0;var n;n=sap.ui.getCore().getModel(e.oSearchModelName).getData();var l=e.getView().byId("searchResults").getModel().getData();if(e.selectedIndices.length>0){for(var i=0;i<e.selectedIndices.length;i++){var o=e.selectedIndices[i].split("/")[1];o=parseInt(o);if(l[o].UsmdActive&&l[o].UsmdActive==="1"){if(e.oSearchModelName==="AIWEQUI"){a.push({type:"Error",title:l[o].Message,message:l[o].Message})}if(e.oSearchModelName==="AIWFLOC"){a.push({type:"Error",title:l[o].Message,message:l[o].Message})}if(e.oSearchModelName==="AIWMSPT"){a.push({type:"Error",title:l[o].Message,message:l[o].Message})}if(e.oSearchModelName==="AIWMPMI"){a.push({type:"Error",title:l[o].Message,message:l[o].Message})}continue}if(n.length>0){for(var s=0;s<n.length;s++){if(e.oSearchModelName==="AIWEQUI"){if(n[s].Equnr===l[o].Equi){a.push({type:"Error",title:"Equipment "+l[o].Equi+e.getResourceBundle().getText("locked"),message:"Equipment "+l[o].Equi+e.getResourceBundle().getText("locked")});t=true;break}}if(e.oSearchModelName==="AIWFLOC"){if(n[s].Functionallocation===l[o].Funcloc){a.push({type:"Error",title:"Functional Location "+l[o].Funcloc+e.getResourceBundle().getText("locked"),message:"Functional Location "+l[o].Funcloc+e.getResourceBundle().getText("locked")});t=true;break}}if(e.oSearchModelName==="AIWMSPT"){if(n[s].Mspoint===l[o].Mspoint){a.push({type:"Error",title:"Measuring Point "+l[o].Mspoint+e.getResourceBundle().getText("locked"),message:"Measuring Point "+l[o].Mspoint+e.getResourceBundle().getText("locked")});t=true;break}}if(e.oSearchModelName==="AIWMPMI"){if(n[s].Warpl===l[o].Mplan){a.push({type:"Error",title:"Maintenance Plan "+l[o].Mplan+e.getResourceBundle().getText("locked"),message:"Maintenance Plan "+l[o].Mplan+e.getResourceBundle().getText("locked")});t=true;break}}}}if(!t){t=false;r=r+1;if(e.oSearchModelName==="AIWEQUI"){e.readEquipmentData(l[o].Equi)}if(e.oSearchModelName==="AIWFLOC"){e.readFunctionalLocData(l[o].Funcloc)}if(e.oSearchModelName==="AIWMSPT"){e.readMeasuringPointData(l[o].Mspoint)}if(e.oSearchModelName==="AIWMPMI"){e.readMaintenancePlanData(l[o].Mplan)}}}e.createMessagePopover(a,r)}},LblSysVH:function(t,a){var r=t.getSource().getModel(a.oModelName);var n=t.getSource().getBindingInfo("value").binding.getContext().sPath;var l={title:a.getView().getModel("i18n").getProperty("LBLSYS_TXT"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/AltlabelVHSet",template:new sap.m.StandardListItem({title:"{Alkey}",description:"{Altxt}"})},confirm:function(e){r.getProperty(n).AltAlkey=e.getParameters().selectedItem.getProperty("title");r.getProperty(n).Altxt=e.getParameters().selectedItem.getProperty("description");r.getProperty(n).LblSysVS="None";r.refresh();a.validateLabelSystem(n,r.getData())}};var i="/AltlabelVHSet";var o=a.getView().getModel("valueHelp");var s=e.getSelectDialog(o,i,[],l,"Alkey","Altxt");s.open()},StrIndAltLblVH:function(t,a){var r=t.getSource().getModel(a.oModelName);var n=t.getSource().getBindingInfo("value").binding.getContext().sPath;var l={title:a.getView().getModel("i18n").getProperty("STR_IND"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/StrucIndicatorValueHelpSet",template:new sap.m.StandardListItem({title:"{StrucIndicator}",description:"{StrucIndicatorDesc}"})},confirm:function(e){var t=e.getParameter("selectedItem").getBindingContextPath();var l=e.getSource().getModel();r.getProperty(n).AltTplkz=e.getParameters().selectedItem.getProperty("title");r.getProperty(n).Tplxt=e.getParameters().selectedItem.getProperty("description");r.getProperty(n).Name1i=l.getProperty(t).EditMask;r.getProperty(n).StrIndVS="None";r.refresh();a.validateAltLabel(n,oJsonModel)}};var i="/StrucIndicatorValueHelpSet";var o=a.getView().getModel("valueHelp");var s=e.getSelectDialog(o,i,[],l,"StrucIndicator","StrucIndicatorDesc");s.open()},_changeLblSys:function(e,t){var a=e.getSource().getBindingInfo("value").binding.getContext().sPath;var r=t.getView().getModel(t.oModelName);var n=r.getData();var l=r.getProperty(a).AltAlkey;var i=l.replace(/^[ ]+|[ ]+$/g,"");if(i!==""){var o="/AltlabelVHSet";var s=[new sap.ui.model.Filter("Alkey","EQ",i)];var p=t.getView().getModel("valueHelp");var m=function(e){if(e.results.length>0){r.getProperty(a).AltAlkey=e.results[0].Alkey;r.getProperty(a).Altxt=e.results[0].Altxt;r.getProperty(a).LblSysVS="None";t.validateLabelSystem(a,n)}else{r.getProperty(a).LblSysVS="Error";r.getProperty(a).Altxt=""}r.setData(n)};var g=function(e){var t=JSON.parse(e.responseText);var l=t.error.message.value;r.getProperty(a).LblSysVS="Error";r.getProperty(a).Altxt="";r.setData(n)};t._readData(o,p,m,g,s)}else{r.getProperty(a).LblSysVS="None";r.getProperty(a).Altxt="";r.setData(n)}},_changeStrIntAltLbl:function(e,t){var a=e.getSource().getBindingInfo("value").binding.getContext().sPath;var r=t.getView().getModel(t.oModelName);var n=r.getData();var l=r.getProperty(a).AltTplkz;var i=l.replace(/^[ ]+|[ ]+$/g,"");if(i!==""){var o="/StrucIndicatorValueHelpSet";var s=[new sap.ui.model.Filter("StrucIndicator","EQ",i)];var p=t.getView().getModel("valueHelp");var m=function(e){if(e.results.length>0){r.getProperty(a).AltTplkz=e.results[0].StrucIndicator;r.getProperty(a).Tplxt=e.results[0].StrucIndicatorDesc;r.getProperty(a).Name1i=e.results[0].EditMask;r.getProperty(a).StrIndVS="None";t.validateAltLabel(a,r);return}else{r.getProperty(a).StrIndVS="Error";r.getProperty(a).Tplxt="";r.getProperty(a).Name1i=""}r.setData(n)};var g=function(e){var t=JSON.parse(e.responseText);var l=t.error.message.value;r.getProperty(a).StrIndVS="Error";r.getProperty(a).Tplxt="";r.getProperty(a).Name1i="";r.setData(n)};t._readData(o,p,m,g,s)}else{r.getProperty(a).StrIndVS="None";r.getProperty(a).Tplxt="";r.getProperty(a).Name1i="";r.setData(n)}},_startPointVH:function(t,a,r,n){var l=this;var i=r.lam.getModel("AIWLAM");var o=i.getData();var s={title:r.getView().getModel("i18n").getProperty("STRT_POINT"),noDataText:r.getView().getModel("i18n").getProperty("LOAD")+"...",columns:[new sap.m.Column({header:[new sap.m.Text({text:"{i18n>LINEARPOINT}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>UOMSHORT}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>DISTANCE}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>UOMSHORT}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>MARKER}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>MARKERLOC}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>UOMSHORT}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>MARKTYPE}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>MARKDESC}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>LINREFPATTERN}"})]})],items:{path:"/StartpointSet?$filter=LRPID eq '"+o.lam.Lrpid+"'",template:new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Linear_point}"}),new sap.m.Text({text:"{Linear_unit}"}),new sap.m.Text({text:"{Distance}"}),new sap.m.Text({text:"{Distance_unit}"}),new sap.m.Text({text:"{Marker}"}),new sap.m.Text({text:"{Start_point}"}),new sap.m.Text({text:"{Marker_linear_unit}"}),new sap.m.Text({text:"{Marker_type}"}),new sap.m.Text({text:"{marker_txt}"}),new sap.m.Text({text:"{LRPID}"})]})},confirm:function(e){o.lam.Startmrkr=e.getParameter("selectedItem").getCells()[4].getText();o.lam.Strtptatr=e.getParameter("selectedItem").getCells()[5].getText();o.lam.StrtptatrVS="None";o.lam.StartmrkrVS="None";o.lam.MrkdisstVS="None";o.lam.LinUnit=e.getParameter("selectedItem").getCells()[1].getText();o.lam.MrkrUnit=e.getParameter("selectedItem").getCells()[6].getText();o.lam.LamDer="C";i.setData(o);if(o.lam.Strtptatr!==""&&o.lam.Endptatr!==""){r.calculateLAM()}}};var p="/StartpointSet";var m=[new sap.ui.model.Filter("LRPID","EQ",o.lam.Lrpid),new sap.ui.model.Filter("Obart","EQ",n)];var g=r.getView().getModel("valueHelp");var d=[new sap.m.Text({text:"{Linear_point}"}),new sap.m.Text({text:"{Linear_unit}"}),new sap.m.Text({text:"{Distance}"}),new sap.m.Text({text:"{Distance_unit}"}),new sap.m.Text({text:"{Marker}"}),new sap.m.Text({text:"{Start_point}"}),new sap.m.Text({text:"{Marker_linear_unit}"}),new sap.m.Text({text:"{Marker_type}"}),new sap.m.Text({text:"{marker_txt}"}),new sap.m.Text({text:"{LRPID}"})];var u=e.getValueHelp(g,p,d,m,s,"Start_point","Marker");u.open();u.setModel(r.getView().getModel("i18n"),"i18n")},_startPointChange:function(e,t,a,r){var n=this;var l=a.lam.getModel("AIWLAM");var i=l.getData();var o=t.getSource().getValue();o=o.toUpperCase();var s=o.replace(/^[ ]+|[ ]+$/g,"");if(s!==""){var p,m;if(e==="startPoint"){p=[new sap.ui.model.Filter("LRPID","EQ",i.lam.Lrpid),new sap.ui.model.Filter("Start_point","EQ",s),new sap.ui.model.Filter("Obart","EQ",r)];m="/StartpointSet"}if(e==="startMarker"){p=[new sap.ui.model.Filter("LRPID","EQ",i.lam.Lrpid),new sap.ui.model.Filter("Marker","EQ",s),new sap.ui.model.Filter("Obart","EQ",r)];m="/StartpointSet"}var g=a.getView().getModel("valueHelp");g.read(m,{filters:p,success:function(e,t){if(e.results.length>0){i.lam.Startmrkr=e.results[0].Marker;i.lam.Strtptatr=e.results[0].Start_point;if(i.lam.Mrkdisst===""){i.lam.Mrkdisst=e.results[0].Distance}i.lam.StrtptatrVS="None";i.lam.StartmrkrVS="None";i.lam.MrkdisstVS="None";i.lam.LinUnit=e.results[0].Linear_unit;i.lam.MrkrUnit=e.results[0].Marker_linear_unit;i.lam.LamDer="C";l.setData(i);if(i.lam.Strtptatr!==""&&i.lam.Endptatr!==""){a.calculateLAM()}}else{if(i.lam.Strtptatr!==""&&i.lam.Endptatr!==""){a.calculateLAM()}}},error:function(e){t.getSource().setValueState("Error");var a=JSON.parse(e.response.body);var r=a.error.message.value}})}else{if(i.lam.Strtptatr!==""&&i.lam.Endptatr!==""){a.calculateLAM()}}},_endPointVH:function(t,a,r,n){var l=this;var i=r.lam.getModel("AIWLAM");var o=i.getData();var s={title:r.getView().getModel("i18n").getProperty("STRT_POINT"),noDataText:r.getView().getModel("i18n").getProperty("LOAD")+"...",columns:[new sap.m.Column({header:[new sap.m.Text({text:"{i18n>LINEARPOINT}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>UOMSHORT}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>DISTANCE}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>UOMSHORT}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>MARKER}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>MARKERLOC}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>UOMSHORT}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>MARKTYPE}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>MARKDESC}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>LINREFPATTERN}"})]})],items:{path:"/StartpointSet?$filter=LRPID eq '"+o.lam.Lrpid+"'",template:new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Linear_point}"}),new sap.m.Text({text:"{Linear_unit}"}),new sap.m.Text({text:"{Distance}"}),new sap.m.Text({text:"{Distance_unit}"}),new sap.m.Text({text:"{Marker}"}),new sap.m.Text({text:"{Start_point}"}),new sap.m.Text({text:"{Marker_linear_unit}"}),new sap.m.Text({text:"{Marker_type}"}),new sap.m.Text({text:"{marker_txt}"}),new sap.m.Text({text:"{LRPID}"})]})},confirm:function(e){o.lam.Endmrkr=e.getParameter("selectedItem").getCells()[4].getText();o.lam.Endptatr=e.getParameter("selectedItem").getCells()[5].getText();o.lam.EndptatrVS="None";o.lam.EndmrkrVS="None";o.lam.MrkdisendVS="None";o.lam.LinUnit=e.getParameter("selectedItem").getCells()[1].getText();o.lam.MrkrUnit=e.getParameter("selectedItem").getCells()[6].getText();o.lam.LamDer="C";i.setData(o);if(o.lam.Strtptatr!==""&&o.lam.Endptatr!==""){r.calculateLAM()}}};var p="/StartpointSet";var m=[new sap.ui.model.Filter("LRPID","EQ",o.lam.Lrpid),new sap.ui.model.Filter("Obart","EQ",n)];var g=r.getView().getModel("valueHelp");var d=[new sap.m.Text({text:"{Linear_point}"}),new sap.m.Text({text:"{Linear_unit}"}),new sap.m.Text({text:"{Distance}"}),new sap.m.Text({text:"{Distance_unit}"}),new sap.m.Text({text:"{Marker}"}),new sap.m.Text({text:"{Start_point}"}),new sap.m.Text({text:"{Marker_linear_unit}"}),new sap.m.Text({text:"{Marker_type}"}),new sap.m.Text({text:"{marker_txt}"}),new sap.m.Text({text:"{LRPID}"})];var u=e.getValueHelp(g,p,d,m,s,"Start_point","Marker");u.open();u.setModel(r.getView().getModel("i18n"),"i18n")},_endPointChange:function(e,t,a,r){var n=this;var l=a.lam.getModel("AIWLAM");var i=l.getData();var o=t.getSource().getValue();o=o.toUpperCase();var s=o.replace(/^[ ]+|[ ]+$/g,"");if(s!==""){var p,m;if(e==="endPoint"){p=[new sap.ui.model.Filter("LRPID","EQ",i.lam.Lrpid),new sap.ui.model.Filter("Start_point","EQ",s),new sap.ui.model.Filter("Obart","EQ",r)];m="/StartpointSet"}if(e==="endMarker"){p=[new sap.ui.model.Filter("LRPID","EQ",i.lam.Lrpid),new sap.ui.model.Filter("Marker","EQ",s),new sap.ui.model.Filter("Obart","EQ",r)];m="/StartpointSet"}var g=a.getView().getModel("valueHelp");g.read(m,{filters:p,success:function(e,t){if(e.results.length>0){i.lam.Endmrkr=e.results[0].Marker;i.lam.Endptatr=e.results[0].Start_point;if(i.lam.Mrkdisend===""){i.lam.Mrkdisend=e.results[0].Distance}i.lam.EndptatrVS="None";i.lam.EndmrkrVS="None";i.lam.MrkdisendVS="None";i.lam.LinUnit=e.results[0].Linear_unit;i.lam.MrkrUnit=e.results[0].Marker_linear_unit;i.lam.LamDer="C";l.setData(i);if(i.lam.Strtptatr!==""&&i.lam.Endptatr!==""){a.calculateLAM()}}else{if(i.lam.Strtptatr!==""&&i.lam.Endptatr!==""){a.calculateLAM()}}},error:function(e){t.getSource().setValueState("Error");var a=JSON.parse(e.response.body);var r=a.error.message.value}})}else{if(i.lam.Strtptatr!==""&&i.lam.Endptatr!==""){a.calculateLAM()}}},addPointDist:function(e,t){var a=t.lam.getModel("AIWLAM");var r=a.getData();var n;if(e==="SP"){var l=t.startPoint;if(l.indexOf("+")>-1){n=l.split("+");l=+parseFloat(n[1])}else if(l.indexOf("-")>-1){n=l.split("-");l=-parseFloat(n[1])}var i=r.lam.Mrkdisst;if(i.indexOf("+")>-1){n=i.split("+");i=+parseFloat(n[1])}else if(i.indexOf("-")>-1){n=i.split("-");i=-parseFloat(n[1])}if(i!==0){r.lam.Strtptatr=(parseFloat(l)+parseFloat(i)).toString()}}if(e==="EP"){var l=t.endPoint;if(l.indexOf("+")>-1){n=l.split("+");l=+parseFloat(n[1])}else if(l.indexOf("-")>-1){n=l.split("-");l=-parseFloat(n[1])}var i=r.lam.Mrkdisend;if(i.indexOf("+")>-1){n=i.split("+");i=+parseFloat(n[1])}else if(i.indexOf("-")>-1){n=i.split("-");i=-parseFloat(n[1])}if(i!==0){r.lam.Endptatr=(parseFloat(l)+parseFloat(i)).toString()}}},purchaseOrgValueHelp:function(t,a){var r={title:a.getView().getModel("i18n").getProperty("PURCH_ORG"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/xugiod01xI_EKORG",template:new sap.m.StandardListItem({title:"{PurchasingOrganization}",description:"{PurchasingOrganizationName}"})},confirm:function(e){var t=a.getView().getModel("itemDetailModel");var r=t.getData();r.Ekorg=e.getParameters().selectedItem.getProperty("title");r.Ekotx=e.getParameters().selectedItem.getProperty("description");r.POrgVS="None";t.setData(r)}};var n="/xugiod01xI_EKORG";var l=a.getView().getModel("valueHelp2");var i=e.getSelectDialog(l,n,[],r,"PurchasingOrganization","PurchasingOrganizationName");i.setModel(a.getView().getModel("i18n"),"i18n");i.open()},purchaseOrgChange:function(e,t){var a=t.getView().getModel("valueHelp2");var r=t.getView().getModel("itemDetailModel");var n=r.getData();var l=e.getSource();var i=e.getSource().getValue();var o=i.toUpperCase();var s=[new sap.ui.model.Filter("PurchasingOrganization","EQ",o)];a.read("/xugiod01xI_EKORG",{filters:s,success:function(e){if(e.results.length>0){n.Ekorg=e.results[0].PurchasingOrganization;n.Ekotx=e.results[0].PurchasingOrganizationName;n.POrgVS="None"}else{n.Ekotx="";n.POrgVS="Error"}r.setData(n)},error:function(e){var t=JSON.parse(e.response.body);var a=t.error.message.value;n.POrgVS="Error"}})},purchaseGrpValueHelp:function(t,a){var r={title:a.getView().getModel("i18n").getProperty("PURCH_GRP"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/xUGIOD01xI_EKGRP",template:new sap.m.StandardListItem({title:"{PurchasingGroup}",description:"{PurchasingGroupName}"})},confirm:function(e){var t=a.getView().getModel("itemDetailModel");var r=t.getData();r.Ekgrp=e.getParameters().selectedItem.getProperty("title");r.Eknam=e.getParameters().selectedItem.getProperty("description");r.PGrpVS="None";t.setData(r)}};var n="/xUGIOD01xI_EKGRP";var l=a.getView().getModel("valueHelp2");var i=e.getSelectDialog(l,n,[],r,"PurchasingGroup","PurchasingGroupName");i.setModel(a.getView().getModel("i18n"),"i18n");i.open()},purchaseGrpChange:function(e,t){var a=t.getView().getModel("valueHelp2");var r=t.getView().getModel("itemDetailModel");var n=r.getData();var l=e.getSource();var i=e.getSource().getValue();var o=i.toUpperCase();var s=[new sap.ui.model.Filter("PurchasingGroup","EQ",o)];a.read("/xUGIOD01xI_EKGRP",{filters:s,success:function(e){if(e.results.length>0){n.Ekgrp=e.results[0].PurchasingGroup;n.Eknam=e.results[0].PurchasingGroupName;n.PGrpVS="None"}else{n.Eknam="";n.PGrpVS="Error"}r.setData(n)},error:function(e){var t=JSON.parse(e.response.body);var a=t.error.message.value;n.PGrpVS="Error"}})},crncyValueHelp:function(t,a){var r={title:a.getView().getModel("i18n").getProperty("CURRENCY"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/CurrencySet",template:new sap.m.StandardListItem({title:"{Waers}",description:"{Ltext}"})},confirm:function(e){var t=a.getView().getModel("itemDetailModel");var r=t.getData();r.Waers=e.getParameters().selectedItem.getProperty("title");r.CrncyVS="None";t.setData(r)}};var n="/CurrencySet";var l=a.getView().getModel("valueHelp2");var i=e.getSelectDialog(l,n,[],r,"Waers","Ltext");i.setModel(a.getView().getModel("i18n"),"i18n");i.open()},crncyChange:function(e,t){var a=t.getView().getModel("valueHelp2");var r=t.getView().getModel("itemDetailModel");var n=r.getData();var l=e.getSource();var i=e.getSource().getValue();var o=i.toUpperCase();var s=[new sap.ui.model.Filter("Waers","EQ",o)];a.read("/CurrencySet",{filters:s,success:function(e){if(e.results.length>0){n.Waers=e.results[0].Waers;n.CrncyVS="None"}else{n.CrncyVS="Error"}r.setData(n)},error:function(e){var t=JSON.parse(e.response.body);var a=t.error.message.value;n.CrncyVS="Error"}})},matGrpValueHelp:function(t,a){var r={title:a.getView().getModel("i18n").getProperty("MAT_GRP"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/I_MaterialGroupText",template:new sap.m.StandardListItem({title:"{MaterialGroup}",description:"{MaterialGroupName}"})},confirm:function(e){var t=a.getView().getModel("itemDetailModel");var r=t.getData();r.Matkl=e.getParameters().selectedItem.getProperty("title");r.Wgbez=e.getParameters().selectedItem.getProperty("description");r.MatGrpVS="None";t.setData(r)}};var n="/I_MaterialGroupText";var l=a.getView().getModel("valueHelp2");var i=[new sap.ui.model.Filter("Language","EQ","EN")];var o=e.getSelectDialog(l,n,i,r,"MaterialGroup","MaterialGroupName");o.setModel(a.getView().getModel("i18n"),"i18n");o.open()},matGrpChange:function(e,t){var a=t.getView().getModel("valueHelp2");var r=t.getView().getModel("itemDetailModel");var n=r.getData();var l=e.getSource();var i=e.getSource().getValue();var o=i.toUpperCase();var s=[new sap.ui.model.Filter("MaterialGroup","EQ",o),new sap.ui.model.Filter("Language","EQ","EN")];a.read("/I_MaterialGroupText",{filters:s,success:function(e){if(e.results.length>0){n.Matkl=e.results[0].MaterialGroup;n.Wgbez=e.results[0].MaterialGroupName;n.MatGrpVS="None"}else{n.Wgbez="";n.MatGrpVS="Error"}r.setData(n)},error:function(e){var t=JSON.parse(e.response.body);var a=t.error.message.value;n.MatGrpVS="Error"}})},documentValueHelp:function(t,a){var r={title:a.getView().getModel("i18n").getProperty("DOC"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",columns:[new sap.m.Column({header:[new sap.m.Text({text:"{i18n>DOC}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>DOC_TYP}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>DOC_PART}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>DOC_VER}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>DESCRIPTION}"})]})],items:{path:"/DocumentSet",template:new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Doknr}"}),new sap.m.Text({text:"{Dokar}"}),new sap.m.Text({text:"{Doktl}"}),new sap.m.Text({text:"{Dokvr}"}),new sap.m.Text({text:"{Dktxt}"})]})},confirm:function(e){var t=a.getView().getModel("itemDetailModel");var r=t.getData();r.Bomdocitm=e.getParameter("selectedItem").getCells()[0].getText();r.Bomitmdkr=e.getParameter("selectedItem").getCells()[1].getText();r.BomitmdkrTxt=e.getParameter("selectedItem").getCells()[4].getText();r.Bomitmdtl=e.getParameter("selectedItem").getCells()[2].getText();r.Bomitmdvr=e.getParameter("selectedItem").getCells()[3].getText();r.Itmcmpdesc=e.getParameter("selectedItem").getCells()[4].getText();r.ItmcmpdescEnabled=false;r.DocVS="None";t.setData(r)}};var n="/DocumentSet";var l=[];var i=a.getView().getModel("valueHelp2");var o=[new sap.m.Text({text:"{Doknr}"}),new sap.m.Text({text:"{Dokar}"}),new sap.m.Text({text:"{Doktl}"}),new sap.m.Text({text:"{Dokvr}"}),new sap.m.Text({text:"{Dktxt}"})];var s=e.getValueHelp(i,n,o,l,r,"Doknr","Dktxt");s.open();s.setModel(a.getView().getModel("i18n"),"i18n")},documentChange:function(e,t){var a=t.getView().getModel("valueHelp2");var r=t.getView().getModel("itemDetailModel");var n=r.getData();var l=e.getSource();var i=e.getSource().getValue();var o=i.toUpperCase();var s=[new sap.ui.model.Filter("Doknr","EQ",o)];a.read("/DocumentSet",{filters:s,success:function(e){if(e.results.length>0){n.Bomdocitm=e.results[0].Doknr;n.Bomitmdkr=e.results[0].Dokar;n.BomitmdkrTxt=e.results[0].Dktxt;n.Bomitmdtl=e.results[0].Doktl;n.Bomitmdvr=e.results[0].Dokvr;n.Itmcmpdesc=e.results[0].Dktxt;n.ItmcmpdescEnabled=false;n.DocVS="None"}else{n.Bomitmdkr="";n.BomitmdkrTxt="";n.Bomitmdtl="";n.Bomitmdvr="";n.DocVS="Error";n.Itmcmpdesc="";n.ItmcmpdescEnabled=true}r.setData(n)},error:function(e){var t=JSON.parse(e.response.body);var a=t.error.message.value;n.Bomitmdkr="";n.BomitmdkrTxt="";n.Bomitmdtl="";n.Bomitmdvr="";n.DocVS="Error"}})},sizeunitValueHelp:function(t,a){var r={title:a.getView().getModel("i18n").getProperty("SIZE_UNIT"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/UOMSet",template:new sap.m.StandardListItem({title:"{Mseh3}",description:"{Msehl}"})},confirm:function(e){var t=a.getView().getModel("itemDetailModel");var r=t.getData();r.Romei=e.getParameters().selectedItem.getProperty("title");r.sizeunitVS="None";t.setData(r);a.readSizeDetails()}};var n="/UOMSet";var l=a.getView().getModel("valueHelp2");var i=[];var o=e.getSelectDialog(l,n,i,r,"Mseh3","Msehl");o.setModel(a.getView().getModel("i18n"),"i18n");o.open()},sizeunitChange:function(e,t){var a=t.getView().getModel("valueHelp2");var r=t.getView().getModel("itemDetailModel");var n=r.getData();var l=e.getSource();var i=e.getSource().getValue();var o=i.toUpperCase();var s=[new sap.ui.model.Filter("Mseh3","EQ",o)];a.read("/UOMSet",{filters:s,success:function(e){if(e.results.length>0){n.Romei=e.results[0].Mseh3;n.sizeunitVS="None";t.readSizeDetails()}else{n.sizeunitVS="Error"}r.setData(n)},error:function(e){var t=JSON.parse(e.response.body);var a=t.error.message.value;n.sizeunitVS="Error"}})},formulakeyValueHelp:function(t,a){var r={title:a.getView().getModel("i18n").getProperty("FORMULA_KEY"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/I_BillOfMaterialFormulaVH",template:new sap.m.StandardListItem({title:"{VariableSizeCompFormulaKey}",description:"{VariableSizeCompFormulaText}"})},confirm:function(e){var t=a.getView().getModel("itemDetailModel");var r=t.getData();r.Rform=e.getParameters().selectedItem.getProperty("title");r.FrmlaKeyDesc=e.getParameters().selectedItem.getProperty("description");r.FrmlaKeyVS="None";t.setData(r);a.readSizeDetails()}};var n="/I_BillOfMaterialFormulaVH";var l=a.getView().getModel("valueHelp2");var i=[];var o=e.getSelectDialog(l,n,i,r,"VariableSizeCompFormulaKey","VariableSizeCompFormulaText");o.setModel(a.getView().getModel("i18n"),"i18n");o.open()},formulakeyChange:function(e,t){var a=t.getView().getModel("valueHelp2");var r=t.getView().getModel("itemDetailModel");var n=r.getData();var l=e.getSource();var i=e.getSource().getValue();var o=i.toUpperCase();var s=[new sap.ui.model.Filter("VariableSizeCompFormulaKey","EQ",o)];a.read("/I_BillOfMaterialFormulaVH",{filters:s,success:function(e){if(e.results.length>0){n.Rform=e.results[0].VariableSizeCompFormulaKey;n.FrmlaKeyDesc=e.results[0].VariableSizeCompFormulaText;n.FrmlaKeyVS="None";t.readSizeDetails()}else{n.FrmlaKeyDesc="";n.FrmlaKeyVS="Error"}r.setData(n)},error:function(e){var t=JSON.parse(e.response.body);var a=t.error.message.value;n.FrmlaKeyVS="Error"}})},qtyVarUnitValueHelp:function(t,a){var r={title:a.getView().getModel("i18n").getProperty("COMP_UNIT"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/UOMSet",template:new sap.m.StandardListItem({title:"{Mseh3}",description:"{Msehl}"})},confirm:function(e){var t=a.getView().getModel("itemDetailModel");var r=t.getData();r.Rokme=e.getParameters().selectedItem.getProperty("title");r.QtyVarUnitVS="None";t.setData(r);a.readSizeDetails()}};var n="/UOMSet";var l=a.getView().getModel("valueHelp2");var i=[];var o=e.getSelectDialog(l,n,i,r,"Mseh3","Msehl");o.setModel(a.getView().getModel("i18n"),"i18n");o.open()},qtyVarUnitChange:function(e,t){var a=t.getView().getModel("valueHelp2");var r=t.getView().getModel("itemDetailModel");var n=r.getData();var l=e.getSource();var i=e.getSource().getValue();var o=i.toUpperCase();var s=[new sap.ui.model.Filter("Mseh3","EQ",o)];a.read("/UOMSet",{filters:s,success:function(e){if(e.results.length>0){n.Rokme=e.results[0].Mseh3;n.QtyVarUnitVS="None";t.readSizeDetails()}else{n.QtyVarUnitVS="Error"}r.setData(n)},error:function(e){var t=JSON.parse(e.response.body);var a=t.error.message.value;n.QtyVarUnitVS="Error"}})},onDOILocationVH:function(t,a){var r=t.dataOriginFrag.getModel("doiElement");var n=r.getData();if(a!==undefined&&a!==null){var l=a.getSource()}var i={title:t.getView().getModel("i18n").getProperty("LOC"),noDataText:t.getView().getModel("i18n").getProperty("LOAD")+"...",columns:[new sap.m.Column({header:[new sap.m.Text({text:"{i18n>PLANT}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>LOC}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>NAME}"})]})],items:{path:"/LocationVHSet",template:new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Werks}"}),new sap.m.Text({text:"{Stand}"}),new sap.m.Text({text:"{Ktext}"})]})},confirm:function(e){n.currentObj=e.getParameter("selectedItem").getCells()[1].getText();n.currentObjDesc=e.getParameter("selectedItem").getCells()[2].getText();t.dataOriginFrag.setModel(r,"doiElement");t.dataOriginFrag.getModel("doiElement").refresh()}};var o="/LocationVHSet";var s=[];var p=t.getView().getModel("valueHelp");var m=[new sap.m.Text({text:"{Werks}"}),new sap.m.Text({text:"{Stand}"}),new sap.m.Text({text:"{Ktext}"})];var g=e.getValueHelp(p,o,m,s,i,"Stand","Ktext");g.open();g.setModel(t.getView().getModel("i18n"),"i18n")},onDOIabcIndVH:function(t,a){var r=t.dataOriginFrag.getModel("doiElement");var n=r.getData();if(a!==undefined&&a!=null){var l=a.getSource()}var i={title:t.getView().getModel("i18n").getProperty("ABC_IND"),noDataText:t.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/ABCIndicatorSet",template:new sap.m.StandardListItem({title:"{Abckz}",description:"{Abctx}"})},confirm:function(e){n.currentObj=e.getParameters().selectedItem.getProperty("title");n.currentObjDesc=e.getParameters().selectedItem.getProperty("description");t.dataOriginFrag.setModel(r,"doiElement");t.dataOriginFrag.getModel("doiElement").refresh()}};var o="/ABCIndicatorSet";var s=t.getView().getModel("valueHelp");var p=e.getSelectDialog(s,o,[],i,"Abckz","Abctx");p.open()},onDOIPlantSecVH:function(t,a){var r=t.dataOriginFrag.getModel("doiElement");var n=r.getData();if(a!==undefined&&a!=null){var l=a.getSource()}var i={title:t.getView().getModel("i18n").getProperty("PL_SEC"),noDataText:t.getView().getModel("i18n").getProperty("LOAD")+"...",columns:[new sap.m.Column({header:[new sap.m.Text({text:"{i18n>PLANT_SEC}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>PERSON_RESP}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>PHONE}"})]})],items:{path:"/PlantSectionSet",template:new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Beber}"}),new sap.m.Text({text:"{Fing}"}),new sap.m.Text({text:"{Tele}"})]})},confirm:function(e){n.currentObj=e.getParameter("selectedItem").getCells()[0].getText();n.currentObjDesc=e.getParameter("selectedItem").getCells()[1].getText();n.currentObjDesc2=e.getParameter("selectedItem").getCells()[2].getText();t.dataOriginFrag.setModel(r,"doiElement");t.dataOriginFrag.getModel("doiElement").refresh()}};var o="/PlantSectionSet";var s=[];var p=t.getView().getModel("valueHelp");var m=[new sap.m.Text({text:"{Beber}"}),new sap.m.Text({text:"{Fing}"}),new sap.m.Text({text:"{Tele}"})];var g=e.getValueHelp(p,o,m,s,i,"Beber","Fing");g.open();g.setModel(t.getView().getModel("i18n"),"i18n")},onDOIMainwcVH:function(e,t){var a=e.dataOriginFrag.getModel("doiElement");var r=a.getData();var n;if(n===undefined){var l=new sap.m.TableSelectDialog({title:e.getView().getModel("i18n").getProperty("WC"),noDataText:e.getView().getModel("i18n").getProperty("LOAD")+"...",columns:[new sap.m.Column({header:[new sap.m.Text({text:"Work Center Category"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"Plant"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"Work Center"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"Description"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"Language"})]})],items:{path:"/WorkCenterVHSet",template:new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Verwe}"}),new sap.m.Text({text:"{Werks}"}),new sap.m.Text({text:"{Arbpl}"}),new sap.m.Text({text:"{Ktext}"}),new sap.m.Text({text:"{Spras}"})]})},confirm:function(t){r.currentObj=t.getParameter("selectedItem").getCells()[2].getText();r.currentObjDesc=t.getParameter("selectedItem").getCells()[3].getText();r.currentObjDesc2=t.getParameter("selectedItem").getCells()[1].getText();e.dataOriginFrag.setModel(a,"doiElement");e.dataOriginFrag.getModel("doiElement").refresh()},search:function(e){if(e.getSource().getBinding("items")){var t=e.getParameter("value");e.getSource().getBinding("items").filter(!t?[]:[new sap.ui.model.Filter([new sap.ui.model.Filter("Arbpl",sap.ui.model.FilterOperator.Contains,t),new sap.ui.model.Filter("Ktext",sap.ui.model.FilterOperator.Contains,t)],false)])}}});var i="/WorkCenterVHSet";var o=e.getView().getModel("valueHelp");var s=e.getView().getModel(e.oModelName).getData().Werks;var p=[new sap.ui.model.Filter("Werks","EQ",s)];var m=function(t){if(t.results.length>0){if(sap.ui.getCore().getModel("AIWListWCModel")){var a=sap.ui.getCore().getModel("AIWListWCModel").getData();if(a.length>0){for(var r=0;r<a.length;r++){if(a[r].wc){var i={Verwe:a[r].wcCat,Werks:a[r].plant,Arbpl:a[r].wc,Ktext:a[r].wcDesc,Spras:t.results[0].Spras};t.results.unshift(i)}}}}n=t;var o=new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Verwe}"}),new sap.m.Text({text:"{Werks}"}),new sap.m.Text({text:"{Arbpl}"}),new sap.m.Text({text:"{Ktext}"}),new sap.m.Text({text:"{Spras}"})]});var s=new sap.ui.model.json.JSONModel;s.setData(t);s.setSizeLimit(t.results.length);s.isSizeLimit=t.results.length;l.setModel(s);l.bindAggregation("items","/results",o)}else{l.setNoDataText(e.getView().getModel("i18n").getProperty("NO_DATA"))}};var g=function(){};e._readData(i,o,m,g,p)}else{var t=new sap.ui.model.json.JSONModel;t.setData(n);l.setModel(t);var d=l.getItems();for(var u=0;u<d.length;u++){d[u].setVisible(true)}}l.open()},onDOICostCenterVH:function(t,a){var r=t.dataOriginFrag.getModel("doiElement");var n=r.getData();if(a!==undefined&&a!=null){var l=a.getSource()}var i={title:t.getView().getModel("i18n").getProperty("CC"),noDataText:t.getView().getModel("i18n").getProperty("LOAD")+"...",columns:[new sap.m.Column({header:[new sap.m.Text({text:"{i18n>CC}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>COMPCODE}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>CCTR_CATGRY}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>CO_AREA}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>PERSON_RESP}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>USR_RESP}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>SHRT_TXT}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>LANGUAGE}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>VALID_FRM}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>VALID_TO}"})]})],items:{path:"/CostCenterSet",template:new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Kostl}"}),new sap.m.Text({text:"{Kokrs}"}),new sap.m.Text({text:"{Bukrs}"}),new sap.m.Text({text:"{Kosar}"}),new sap.m.Text({text:"{Verak}"}),new sap.m.Text({text:"{VerakUser}"}),new sap.m.Text({text:"{Mctxt}"}),new sap.m.Text({text:"{Spras}"}),new sap.m.Text({text:{parts:[{path:"Datab"}],formatter:t.formatter.dateFormat}}),new sap.m.Text({text:{parts:[{path:"Datbi"}],formatter:t.formatter.dateFormat}})]})},confirm:function(e){n.currentObj=e.getParameter("selectedItem").getCells()[0].getText();n.currentObjDesc=e.getParameter("selectedItem").getCells()[2].getText();n.currentObjDesc2=e.getParameter("selectedItem").getCells()[6].getText();t.dataOriginFrag.setModel(r,"doiElement");t.dataOriginFrag.getModel("doiElement").refresh()}};var o="/CostCenterSet";var s=[];var p=t.getView().getModel(t.oModelName).getData().Kokrs;if(p!==""){s.push(new sap.ui.model.Filter("Kokrs","EQ",p))}var m=t.getView().getModel("valueHelp");var g=[new sap.m.Text({text:"{Kostl}"}),new sap.m.Text({text:"{Kokrs}"}),new sap.m.Text({text:"{Bukrs}"}),new sap.m.Text({text:"{Kosar}"}),new sap.m.Text({text:"{Verak}"}),new sap.m.Text({text:"{VerakUser}"}),new sap.m.Text({text:"{Mctxt}"}),new sap.m.Text({text:"{Spras}"}),new sap.m.Text({text:{parts:[{path:"Datab"}],formatter:t.formatter.dateFormat}}),new sap.m.Text({text:{parts:[{path:"Datbi"}],formatter:t.formatter.dateFormat}})];var d=e.getValueHelp(m,o,g,s,i,"Kostl","Mctxt");d.open();d.setModel(t.getView().getModel("i18n"),"i18n")},onDOIPlanPlantVH:function(t,a){var r=t.dataOriginFrag.getModel("doiElement");var n=r.getData();if(a!==undefined&&a!=null){var l=a.getSource()}var i={title:t.getView().getModel("i18n").getProperty("PL_PLANT"),noDataText:t.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/PlanningPlantSet",template:new sap.m.StandardListItem({title:"{Werks}",description:"{Name1}"})},confirm:function(e){n.currentObj=e.getParameters().selectedItem.getProperty("title");n.currentObjDesc=e.getParameters().selectedItem.getProperty("description");t.dataOriginFrag.setModel(r,"doiElement");t.dataOriginFrag.getModel("doiElement").refresh()}};var o="/PlanningPlantSet";var s=t.getView().getModel("valueHelp");var p=e.getSelectDialog(s,o,[],i,"Werks","Name1");p.open()},onDOIPlanrGrpVH:function(t,a){var r=t.dataOriginFrag.getModel("doiElement");var n=r.getData();if(a!==undefined&&a!==null){var l=a.getSource()}var i={title:t.getView().getModel("i18n").getProperty("PL_GRP"),noDataText:t.getView().getModel("i18n").getProperty("LOAD")+"...",columns:[new sap.m.Column({header:[new sap.m.Text({text:"{i18n>PL_PLANT}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>PLANNER_GRP}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>PM_PLNRGRP_NAME}"})]})],items:{path:"/PlannerGroupSet",template:new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Iwerk}"}),new sap.m.Text({text:"{Ingrp}"}),new sap.m.Text({text:"{Innam}"})]})},confirm:function(e){n.currentObj=e.getParameter("selectedItem").getCells()[1].getText();n.currentObjDesc=e.getParameter("selectedItem").getCells()[2].getText();t.dataOriginFrag.setModel(r,"doiElement");t.dataOriginFrag.getModel("doiElement").refresh()}};var o="/PlannerGroupSet";var s=[];var p=t.getView().getModel("valueHelp");var m=[new sap.m.Text({text:"{Iwerk}"}),new sap.m.Text({text:"{Ingrp}"}),new sap.m.Text({text:"{Innam}"})];var g=e.getValueHelp(p,o,m,s,i,"Ingrp","Innam");g.open();g.setModel(t.getView().getModel("i18n"),"i18n")},UOMVH:function(t,a){var r=t.getSource();var n={title:a.getView().getModel("i18n").getProperty("UOM"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/UOMSet",template:new sap.m.StandardListItem({title:"{Mseh3}",description:"{Msehl}"})},confirm:function(e){r.setValue(e.getParameters().selectedItem.getProperty("title"));r.setValueState("None")}};var l="/UOMSet";var i=a.getView().getModel("valueHelp2");var o=[];var s=e.getSelectDialog(i,l,o,n,"Mseh3","Msehl");s.setModel(a.getView().getModel("i18n"),"i18n");s.open()},_UOMchange:function(e,t){var a=e.getSource();var r=a.getValue().toUpperCase();var n=r.replace(/^[ ]+|[ ]+$/g,"");if(n!==""){n=n.toUpperCase();var l="/UOMSet";var i=[new sap.ui.model.Filter("Mseh3","EQ",r)];var o=t.getView().getModel("valueHelp2");var s=function(e){if(e.results.length>0){a.setValue(e.results[0].Mseh3);a.setValueState("None")}else{a.setValueState("Error")}};var p=function(e){var t=JSON.parse(e.responseText);var r=t.error.message.value;a.setValueState("Error")};t._readData(l,o,s,p,i)}},RelTypeVH:function(t,a){var r=t.getSource();var n={title:a.getView().getModel("i18n").getProperty("REL_TYPE"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/TLRelCatSet",template:new sap.m.StandardListItem({title:"{Aobkt}",description:"{Aobtx}"})},confirm:function(e){r.setValue(e.getParameters().selectedItem.getProperty("title"));r.setValueState("None")}};var l="/TLRelCatSet";var i=a.getView().getModel("valueHelp2");var o=[];var s=e.getSelectDialog(i,l,o,n,"Aobkt","Aobtx");s.setModel(a.getView().getModel("i18n"),"i18n");s.open()},_changeRelType:function(e,t){var a=e.getSource();var r=a.getValue();var n=r.replace(/^[ ]+|[ ]+$/g,"");if(n!==""){n=n.toUpperCase();var l="/TLRelCatSet";var i=[new sap.ui.model.Filter("Aobkt","EQ",r)];var o=t.getView().getModel("valueHelp2");var s=function(e){if(e.results.length>0){a.setValue(e.results[0].Aobkt);a.setValueState("None")}else{a.setValueState("Error")}};var p=function(e){var t=JSON.parse(e.responseText);var r=t.error.message.value;a.setValueState("Error")};t._readData(l,o,s,p,i)}},OffIntrpVH:function(t,a){var r=t.getSource();var n={title:a.getView().getModel("i18n").getProperty("OFFSET_INTRP"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/TLProvgVHSet",template:new sap.m.StandardListItem({title:"{Interval}",description:"{Description}"})},confirm:function(e){r.setValue(e.getParameters().selectedItem.getProperty("title"));r.setValueState("None")}};var l="/TLProvgVHSet";var i=a.getView().getModel("valueHelp2");var o=[];var s=e.getSelectDialog(i,l,o,n,"Interval","Description");s.setModel(a.getView().getModel("i18n"),"i18n");s.open()},_changeOffIntrp:function(e,t){var a=e.getSource();var r=a.getValue();var n=r.replace(/^[ ]+|[ ]+$/g,"");if(n!==""){n=n.toUpperCase();var l="/TLProvgVHSet";var i=[new sap.ui.model.Filter("Interval","EQ",r)];var o=t.getView().getModel("valueHelp2");var s=function(e){if(e.results.length>0){a.setValue(e.results[0].Interval);a.setValueState("None")}else{a.setValueState("Error")}};var p=function(e){var t=JSON.parse(e.responseText);var r=t.error.message.value;a.setValueState("Error")};t._readData(l,o,s,p,i)}},FactryIdVH:function(t,a){var r=t.getSource();var n={title:a.getView().getModel("i18n").getProperty("FACTORY_ID"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/TLKalidVHSet",template:new sap.m.StandardListItem({title:"{Ident}",description:"{Ltext}"})},confirm:function(e){r.setValue(e.getParameters().selectedItem.getProperty("title"));r.setValueState("None")}};var l="/TLKalidVHSet";var i=a.getView().getModel("valueHelp2");var o=[];var s=e.getSelectDialog(i,l,o,n,"Ident","Ltext");s.setModel(a.getView().getModel("i18n"),"i18n");s.open()},_changeFactryId:function(e,t){var a=e.getSource();var r=a.getValue();var n=r.replace(/^[ ]+|[ ]+$/g,"");if(n!==""){n=n.toUpperCase();var l="/TLKalidVHSet";var i=[new sap.ui.model.Filter("Ident","EQ",r)];var o=t.getView().getModel("valueHelp2");var s=function(e){if(e.results.length>0){a.setValue(e.results[0].Ident);a.setValueState("None")}else{a.setValueState("Error")}};var p=function(e){var t=JSON.parse(e.responseText);var r=t.error.message.value;a.setValueState("Error")};t._readData(l,o,s,p,i)}},WrkCtrORVH:function(t,a){var r=t.getSource();var n={title:a.getView().getModel("i18n").getProperty("WC"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/TLKalidVHSet",template:new sap.m.StandardListItem({title:"{Ident}",description:"{Ltext}"})},confirm:function(e){r.setValue(e.getParameters().selectedItem.getProperty("title"));r.setValueState("None")}};var l="/TLKalidVHSet";var i=a.getView().getModel("valueHelp2");var o=[];var s=e.getSelectDialog(i,l,o,n,"Ident","Ltext");s.setModel(a.getView().getModel("i18n"),"i18n");s.open()},WrkCtrORVH:function(e,t){var a=e.getSource();var r=new sap.m.TableSelectDialog({title:t.getView().getModel("i18n").getProperty("WC"),noDataText:t.getView().getModel("i18n").getProperty("LOAD")+"...",columns:[new sap.m.Column({header:[new sap.m.Text({text:"Work Center Category"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"Plant"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"Work Center"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"Description"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"Language"})]})],items:{path:"/WorkCenterVHSet",template:new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Verwe}"}),new sap.m.Text({text:"{Werks}"}),new sap.m.Text({text:"{Arbpl}"}),new sap.m.Text({text:"{Ktext}"}),new sap.m.Text({text:"{Spras}"})]})},confirm:function(e){a.setValue(e.getParameter("selectedItem").getCells()[2].getText());a.setValueState("None")},search:function(e){if(e.getSource().getBinding("items")){var t=e.getParameter("value");e.getSource().getBinding("items").filter(!t?[]:[new sap.ui.model.Filter([new sap.ui.model.Filter("Arbpl",sap.ui.model.FilterOperator.Contains,t),new sap.ui.model.Filter("Ktext",sap.ui.model.FilterOperator.Contains,t)],false)])}}});var n="/WorkCenterVHSet";var l=t.getView().getModel("valueHelp");var i=[];var o=function(e){if(e.results.length>0){if(sap.ui.getCore().getModel("AIWListWCModel")){var a=sap.ui.getCore().getModel("AIWListWCModel").getData();if(a.length>0){for(var n=0;n<a.length;n++){if(a[n].wc){var l={Verwe:a[n].wcCat,Werks:a[n].plant,Arbpl:a[n].wc,Ktext:a[n].wcDesc,Spras:e.results[0].Spras};e.results.unshift(l)}}}}var i=new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Verwe}"}),new sap.m.Text({text:"{Werks}"}),new sap.m.Text({text:"{Arbpl}"}),new sap.m.Text({text:"{Ktext}"}),new sap.m.Text({text:"{Spras}"})]});var o=new sap.ui.model.json.JSONModel;o.setData(e);o.setSizeLimit(e.results.length);o.isSizeLimit=e.results.length;r.setModel(o);r.bindAggregation("items","/results",i)}else{r.setNoDataText(t.getView().getModel("i18n").getProperty("NO_DATA"))}};var s=function(){};t._readData(n,l,o,s,i);r.open()},_changeWrkCtrOR:function(e,t){var a=e.getSource();var r=a.getValue();var n=r.replace(/^[ ]+|[ ]+$/g,"");if(n!==""){n=n.toUpperCase();var l="/WorkCenterVHSet";var i=[new sap.ui.model.Filter("Arbpl","EQ",n)];var o=t.getView().getModel("valueHelp");var s=function(e){if(e.results.length>0){a.setValue(e.results[0].Arbpl);a.setValueState("None")}else{a.setValueState("Error")}};var p=function(e){var t=JSON.parse(e.responseText);var r=t.error.message.value;a.setValueState("Error")};t._readData(l,o,s,p,i)}else{}},PlantORVH:function(t,a){var r=t.getSource();var n={title:a.getView().getModel("i18n").getProperty("PLANT"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/PlanningPlantSet",template:new sap.m.StandardListItem({title:"{Werks}",description:"{Name1}"})},confirm:function(e){r.setValue(e.getParameters().selectedItem.getProperty("title"));r.setValueState("None")}};var l="/PlanningPlantSet";var i=a.getView().getModel("valueHelp");var o=e.getSelectDialog(i,l,[],n,"Werks","Name1");o.open()},_changePlantOR:function(e,t){var a=e.getSource();var r=a.getValue();var n=r.replace(/^[ ]+|[ ]+$/g,"");if(n!==""){n=n.toUpperCase();var l="/PlanningPlantSet";var i=[new sap.ui.model.Filter("Werks","EQ",n)];var o=t.getView().getModel("valueHelp");var s=function(e){if(e.results.length>0){a.setValue(e.results[0].Werks);a.setValueState("None")}else{a.setValueState("Error")}};var p=function(e){var t=JSON.parse(e.responseText);var r=t.error.message.value;a.setValueState("Error")};t._readData(l,o,s,p,i)}else{}},ActNumVH:function(t,a){var r=t.getSource();var n={title:a.getView().getModel("i18n").getProperty("SRV_NUM"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/TlSpackNoSet",template:new sap.m.StandardListItem({title:"{Asnum}",description:"{Asktx}"})},confirm:function(e){r.setValue(e.getParameters().selectedItem.getProperty("title"));r.setValueState("None");a.deriveActQty(r,e.getParameters().selectedItem.getBindingContext().getObject().Iwein,e.getParameters().selectedItem.getBindingContext().getObject().Meins)}};var l="/TlSpackNoSet";var i=a.getView().getModel("valueHelp2");var o=e.getSelectDialog(i,l,[],n,"Asnum","Asktx");o.open()},_ActNumchange:function(e,t){var a=e.getSource();var r=a.getValue();var n=r.replace(/^[ ]+|[ ]+$/g,"");if(n!==""){n=n.toUpperCase();var l="/TlSpackNoSet";var i=[new sap.ui.model.Filter("Asnum","EQ",n)];var o=t.getView().getModel("valueHelp2");var s=function(e){if(e.results.length>0){a.setValue(e.results[0].Asnum);a.setValueState("None");t.deriveActQty(a,e.results[0].Iwein,e.results[0].Meins)}else{a.setValueState("Error")}};var p=function(e){var t=JSON.parse(e.responseText);var r=t.error.message.value;a.setValueState("Error")};t._readData(l,o,s,p,i)}},Qtychange:function(e,t){if(e.getSource().getValue()===""||parseInt(e.getSource().getValue())===0){e.getSource().setValueState("Error")}else{e.getSource().setValueState("None")}t.deriveActQty(e.getSource())},ShrtTxtchange:function(e,t){if(e.getSource().getValue()===""){e.getSource().setValueState("Error")}else{e.getSource().setValueState("None")}},CurKeyVH:function(t,a,r){var n=t.getSource();var l={title:a.getView().getModel("i18n").getProperty("xtxt.CURRENCY"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/CurrencySet",template:new sap.m.StandardListItem({title:"{Waers}",description:"{Ltext}"})},confirm:function(e){n.setValue(e.getParameters().selectedItem.getProperty("title"));n.setValueState("None")}};var i="/CurrencySet";var o=a.getView().getModel("valueHelp2");var s=e.getSelectDialog(o,i,r,l,"Waers","Ltext");s.open()},_CurKeychange:function(e,t,a){var r=e.getSource();var n=r.getValue();var l=n.replace(/^[ ]+|[ ]+$/g,"");if(l!==""){l=l.toUpperCase();var i="/CurrencySet";a.push(new sap.ui.model.Filter("Waers","EQ",l));var o=t.getView().getModel("valueHelp2");var s=function(e){if(e.results.length>0){r.setValue(e.results[0].Waers);r.setValueState("None")}else{r.setValueState("Error")}};var p=function(e){var t=JSON.parse(e.responseText);var a=t.error.message.value;r.setValueState("Error")};t._readData(i,o,s,p,a)}else{r.setValueState("Error")}},UnitOfWorkVH:function(t,a){var r=t.getSource();var n={title:a.getView().getModel("i18n").getProperty("UNIT_WORK"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/TLWorkUomSet",template:new sap.m.StandardListItem({title:"{Msehi}",description:"{Msehl}"})},confirm:function(e){r.setValue(e.getParameters().selectedItem.getProperty("title"));r.setValueState("None")}};var l="/TLWorkUomSet";var i=a.getView().getModel("valueHelp2");var o=e.getSelectDialog(i,l,[],n,"Msehi","Msehl");o.open()},_UnitOfWorkchange:function(e,t){var a=e.getSource();var r=a.getValue();var n=r.replace(/^[ ]+|[ ]+$/g,"");if(n!==""){n=n.toUpperCase();var l="/TLWorkUomSet";var i=[new sap.ui.model.Filter("Msehi","EQ",n)];var o=t.getView().getModel("valueHelp2");var s=function(e){if(e.results.length>0){a.setValue(e.results[0].Msehi);a.setValueState("None")}else{a.setValueState("Error")}};var p=function(e){var t=JSON.parse(e.responseText);var r=t.error.message.value;a.setValueState("Error")};t._readData(l,o,s,p,i)}},InspPointVH:function(t,a){var r=t.getSource();var n=a.getModel("tlDetailModel");var l=n.getData();var i={title:a.getView().getModel("i18n").getProperty("INS_PT"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/InspPointSet",template:new sap.m.StandardListItem({title:"{Slwbez}",description:"{Kurztext}"})},confirm:function(e){l.lHeader.insPt=e.getParameters().selectedItem.getProperty("title");l.lHeader.insPtDesc=e.getParameters().selectedItem.getProperty("description");l.lHeader.insPtVS="None";if(l.lOperation.length>0){l.lHeader.bAddInspChar=true}n.setData(l)}};var o="/InspPointSet";var s=a.getView().getModel("valueHelp2");var p="";if(a.action.indexOf("GTL")>0){p="A"}else if(a.action.indexOf("ETL")>0){p="E"}else if(a.action.indexOf("FTL")>0){p="T"}var m=[new sap.ui.model.Filter("Plnty","EQ",p)];var g=e.getSelectDialog(s,o,m,i,"Slwbez","Kurztext");g.open()},_InspPointchange:function(e,t){var a=t.getModel("tlDetailModel");var r=a.getData();var n=e.getSource();var l=n.getValue();var i=l.replace(/^[ ]+|[ ]+$/g,"");if(i!==""){i=i.toUpperCase();var o="/InspPointSet";var s="";if(t.action.indexOf("GTL")>0){s="A"}else if(t.action.indexOf("ETL")>0){s="E"}else if(t.action.indexOf("FTL")>0){s="T"}var p=[new sap.ui.model.Filter("Slwbez","EQ",i),new sap.ui.model.Filter("Plnty","EQ",s)];var m=t.getView().getModel("valueHelp2");var g=function(e){if(e.results.length>0){r.lHeader.insPt=e.results[0].Slwbez;r.lHeader.insPtDesc=e.results[0].Kurztext;r.lHeader.insPtVS="None";if(r.lOperation.length>0){r.lHeader.bAddInspChar=true}}else{r.lHeader.insPtVS="Error"}a.setData(r)};var d=function(e){var t=JSON.parse(e.responseText);var n=t.error.message.value;r.lHeader.insPtVS="Error";a.setData(r)};t._readData(o,m,g,d,p)}else{r.lHeader.insPtVS="Error";a.setData(r)}},CostEleVH:function(t,a){var r=t.getSource();var n=a.getView().getModel("tlOpDetailModel");var l={title:a.getView().getModel("i18n").getProperty("COST_ELE"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/CostElemSet",template:new sap.m.StandardListItem({title:"{Kstar}",description:"{Ktext}"})},confirm:function(e){a.operationDetail.costElement=e.getParameters().selectedItem.getProperty("title");a.operationDetail.costElementVS="None";n.setData(a.operationDetail)}};var i="/CostElemSet";var o=a.getView().getModel("valueHelp2");var s=[];var p=e.getSelectDialog(o,i,s,l,"Kstar","Ktext");p.open()},_CostElechange:function(e,t){var a=t.getView().getModel("tlOpDetailModel");var r=e.getSource();var n=r.getValue();var l=n.replace(/^[ ]+|[ ]+$/g,"");if(l!==""){l=l.toUpperCase();var i="/CostElemSet";var o=[new sap.ui.model.Filter("Kstar","EQ",l)];var s=t.getView().getModel("valueHelp2");var p=function(e){if(e.results.length>0){t.operationDetail.costElement=e.results[0].Slwbez;t.operationDetail.costElementVS="None"}else{t.operationDetail.costElementVS="Error"}a.setData(t.operationDetail)};var m=function(e){var r=JSON.parse(e.responseText);var n=r.error.message.value;t.operationDetail.costElementVS="Error";a.setData(t.operationDetail)};t._readData(i,s,p,m,o)}},MatGrpVH:function(t,a){var r=t.getSource();var n=a.getView().getModel("tlOpDetailModel");var l={title:a.getView().getModel("i18n").getProperty("MAT_GRP"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/MatGroupSet",template:new sap.m.StandardListItem({title:"{Matkl}",description:"{Wgbez}"})},confirm:function(e){a.operationDetail.materialGrp=e.getParameters().selectedItem.getProperty("title");a.operationDetail.materialGrpVS="None";n.setData(a.operationDetail)}};var i="/MatGroupSet";var o=a.getView().getModel("valueHelp2");var s=[];var p=e.getSelectDialog(o,i,s,l,"Matkl","Wgbez");p.open()},_MatGrpchange:function(e,t){var a=t.getView().getModel("tlOpDetailModel");var r=e.getSource();var n=r.getValue();var l=n.replace(/^[ ]+|[ ]+$/g,"");if(l!==""){l=l.toUpperCase();var i="/MatGroupSet";var o=[new sap.ui.model.Filter("Matkl","EQ",l)];var s=t.getView().getModel("valueHelp2");var p=function(e){if(e.results.length>0){t.operationDetail.materialGrp=e.results[0].Matkl;t.operationDetail.materialGrpVS="None"}else{t.operationDetail.materialGrpVS="Error"}a.setData(t.operationDetail)};var m=function(e){var r=JSON.parse(e.responseText);var n=r.error.message.value;t.operationDetail.materialGrpVS="Error";a.setData(t.operationDetail)};t._readData(i,s,p,m,o)}},PuchGroupVH:function(t,a){var r=t.getSource();var n=a.getView().getModel("tlOpDetailModel");var l={title:a.getView().getModel("i18n").getProperty("PURCH_GRP"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",columns:[new sap.m.Column({header:[new sap.m.Text({text:"Purch. Group"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"Description"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"Tel. No. Purch. Group"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"Fax Number"})]})],items:{path:"/RegionSet",template:new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Ekgrp}"}),new sap.m.Text({text:"{Eknam}"}),new sap.m.Text({text:"{Ektel}"}),new sap.m.Text({text:"{Telfx}"})]})},confirm:function(e){a.operationDetail.puchGroup=e.getParameter("selectedItem").getCells()[0].getText();a.operationDetail.puchGroupVS="None";n.setData(a.operationDetail)}};var i="/PurGrpSet";var o=[];var s=a.getView().getModel("valueHelp2");var p=[new sap.m.Text({text:"{Ekgrp}"}),new sap.m.Text({text:"{Eknam}"}),new sap.m.Text({text:"{Ektel}"}),new sap.m.Text({text:"{Telfx}"})];var m=e.getValueHelp(s,i,p,o,l,"Ekgrp","Eknam");m.open();m.setModel(a.getView().getModel("i18n"),"i18n")},_PuchGroupchange:function(e,t){var a=t.getView().getModel("tlOpDetailModel");var r=e.getSource();var n=r.getValue();var l=n.replace(/^[ ]+|[ ]+$/g,"");if(l!==""){l=l.toUpperCase();var i="/PurGrpSet";var o=[new sap.ui.model.Filter("Ekgrp","EQ",l)];var s=t.getView().getModel("valueHelp2");var p=function(e){if(e.results.length>0){t.operationDetail.puchGroup=e.results[0].Ekgrp;t.operationDetail.puchGroupVS="None"}else{t.operationDetail.puchGroupVS="Error"}a.setData(t.operationDetail)};var m=function(e){var r=JSON.parse(e.responseText);var n=r.error.message.value;t.operationDetail.puchGroupVS="Error";a.setData(t.operationDetail)};t._readData(i,s,p,m,o)}},PurchOrgVH:function(t,a){var r=t.getSource();var n=a.getView().getModel("tlOpDetailModel");var l={title:a.getView().getModel("i18n").getProperty("PURCH_ORG"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/PurOrgSet",template:new sap.m.StandardListItem({title:"{Ekorg}",description:"{Ekotx}"})},confirm:function(e){a.operationDetail.purchOrg=e.getParameters().selectedItem.getProperty("title");a.operationDetail.purchOrgVS="None";n.setData(a.operationDetail)}};var i="/PurOrgSet";var o=a.getView().getModel("valueHelp2");var s=[];var p=e.getSelectDialog(o,i,s,l,"Ekorg","Ekotx");p.open()},_PurchOrgchange:function(e,t){var a=t.getView().getModel("tlOpDetailModel");var r=e.getSource();var n=r.getValue();var l=n.replace(/^[ ]+|[ ]+$/g,"");if(l!==""){l=l.toUpperCase();var i="/PurOrgSet";var o=[new sap.ui.model.Filter("Ekorg","EQ",l)];var s=t.getView().getModel("valueHelp2");var p=function(e){if(e.results.length>0){t.operationDetail.purchOrg=e.results[0].Ekorg;t.operationDetail.purchOrgVS="None"}else{t.operationDetail.purchOrgVS="Error"}a.setData(t.operationDetail)};var m=function(e){var r=JSON.parse(e.responseText);var n=r.error.message.value;t.operationDetail.purchOrgVS="Error";a.setData(t.operationDetail)};t._readData(i,s,p,m,o)}},maintPlantIPVH:function(t,a){var r=a.getView().getModel(a.oModelName);var n=r.getData();var l={title:a.getView().getModel("i18n").getProperty("MAINT_PLANT"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",columns:[new sap.m.Column({header:[new sap.m.Text({text:"{i18n>PLANT}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>SEARCHTERM2}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>SEARCHTERM1}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>POST_CODE}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>CITY}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>Name2}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>Name1}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>ADDR_VERSION}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",visible:false,header:[new sap.m.Text({text:"{i18n>COMPCODE}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",visible:false,header:[new sap.m.Text({text:"{i18n>COMPCODE_DESC}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",visible:false,header:[new sap.m.Text({text:"{i18n>PLAN_PLANT}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",visible:false,header:[new sap.m.Text({text:"{i18n>PLPLANT_DESC}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",visible:false,header:[new sap.m.Text({text:"{i18n>CC_PLANT}"})]})],items:{path:"/MaintPlantVHSet",template:new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Werks}"}),new sap.m.Text({text:"{Sort2}"}),new sap.m.Text({text:"{Sort1}"}),new sap.m.Text({text:"{PostCode1}"}),new sap.m.Text({text:"{City1}"}),new sap.m.Text({text:"{Name2}"}),new sap.m.Text({text:"{Name1}"}),new sap.m.Text({text:"{Nation}"}),new sap.m.Text({text:"{Bukrs}"}),new sap.m.Text({text:"{Butxt}"}),new sap.m.Text({text:"{IWerk}"}),new sap.m.Text({text:"{IName1}"}),new sap.m.Text({text:"{Kokrs}"})]})},confirm:function(e){n.SwerkMil=e.getParameter("selectedItem").getCells()[0].getText();n.Name1=e.getParameter("selectedItem").getCells()[6].getText();n.SwerkMilVS="None";r.setData(n)},search:function(e){if(e.getSource().getBinding("items")){var t=e.getParameter("value");e.getSource().getBinding("items").filter(!t?[]:[new sap.ui.model.Filter([new sap.ui.model.Filter("Werks",sap.ui.model.FilterOperator.Contains,t),new sap.ui.model.Filter("Name1",sap.ui.model.FilterOperator.Contains,t)],false)])}}};var i="/MaintPlantVHSet";var o=[];var s=a.getView().getModel("valueHelp2");var p=[new sap.m.Text({text:"{Werks}"}),new sap.m.Text({text:"{Sort2}"}),new sap.m.Text({text:"{Sort1}"}),new sap.m.Text({text:"{PostCode1}"}),new sap.m.Text({text:"{City1}"}),new sap.m.Text({text:"{Name2}"}),new sap.m.Text({text:"{Name1}"}),new sap.m.Text({text:"{Nation}"}),new sap.m.Text({text:"{Bukrs}"}),new sap.m.Text({text:"{Butxt}"}),new sap.m.Text({text:"{IWerk}"}),new sap.m.Text({text:"{IName1}"}),new sap.m.Text({text:"{Kokrs}"})];var m=e.getValueHelp(s,i,p,o,l,"Werks","Name1");m.open();m.setModel(a.getView().getModel("i18n"),"i18n")},maintPlantIPchange:function(e,t){var a=e.getSource();var r=t.getView().getModel(t.oModelName);var n=r.getData();var l=a.getValue();var i=l.replace(/^[ ]+|[ ]+$/g,"");if(i!==""){i=i.toUpperCase();var o="/MaintPlantVHSet";var s=[new sap.ui.model.Filter("Werks","EQ",i)];var p=t.getView().getModel("valueHelp2");var m=function(e){if(e.results.length>0){n.SwerkMil=e.results[0].SwerkMil;n.Name1=e.results[0].Name1;n.SwerkMilVS="None";r.setData(n)}else{n.Name1="";n.SwerkMilVS="Error";r.setData(n)}};var g=function(e){var t=JSON.parse(e.responseText);var a=t.error.message.value;n.Name1="";n.SwerkMilVS="Error";r.setData(n)};t._readData(o,p,m,g,s)}else{n.Name1="";n.SwerkMilVS="None";r.setData(n)}},LocationIPVH:function(t,a){var r=a.getView().getModel(a.oModelName);var n=r.getData();var l={title:a.getView().getModel("i18n").getProperty("LOC"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",columns:[new sap.m.Column({header:[new sap.m.Text({text:"{i18n>PLANT}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>LOC}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>NAME}"})]})],items:{path:"/LocationVHSet",template:new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Werks}"}),new sap.m.Text({text:"{Stand}"}),new sap.m.Text({text:"{Ktext}"})]})},confirm:function(e){n.StortMil=e.getParameter("selectedItem").getCells()[1].getText();n.Locationdesc=e.getParameter("selectedItem").getCells()[2].getText();n.StortMilVS="None";r.setData(n)}};var i="/LocationVHSet";var o=[];var s=a.getView().getModel("valueHelp");var p=[new sap.m.Text({text:"{Werks}"}),new sap.m.Text({text:"{Stand}"}),new sap.m.Text({text:"{Ktext}"})];var m=e.getValueHelp(s,i,p,o,l,"Stand","Ktext");m.open();m.setModel(a.getView().getModel("i18n"),"i18n")},LocationIPchange:function(e,t){var a=e.getSource();var r=t.getView().getModel(t.oModelName);var n=r.getData();var l=a.getValue();var i=l.replace(/^[ ]+|[ ]+$/g,"");if(i!==""){i=i.toUpperCase();var o="/LocationVHSet";var s=[new sap.ui.model.Filter("Stand","EQ",i)];var p=t.getView().getModel("valueHelp");var m=function(e){if(e.results.length>0){n.StortMil=e.results[0].Stand;n.Locationdesc=e.results[0].Ktext;n.StortMilVS="None";r.setData(n)}else{n.Locationdesc="";n.StortMilVS="Error";r.setData(n)}};var g=function(e){var t=JSON.parse(e.responseText);var a=t.error.message.value;n.Locationdesc="";n.StortMilVS="Error";r.setData(n)};t._readData(o,p,m,g,s)}else{n.Locationdesc="";n.StortMilVS="None";r.setData(n)}},PlntSecIPVH:function(t,a){var r=a.getView().getModel(a.oModelName);var n=r.getData();var l={title:a.getView().getModel("i18n").getProperty("PL_SEC"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",columns:[new sap.m.Column({header:[new sap.m.Text({text:"{i18n>PLANT_SEC}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>PERSON_RESP}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>PHONE}"})]})],items:{path:"/PlantSectionSet",template:new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Beber}"}),new sap.m.Text({text:"{Fing}"}),new sap.m.Text({text:"{Tele}"})]})},confirm:function(e){n.BeberMil=e.getParameter("selectedItem").getCells()[0].getText();n.Fing=e.getParameter("selectedItem").getCells()[1].getText();n.BeberMilVS="None";r.setData(n)}};var i="/PlantSectionSet";var o=[];var s=a.getView().getModel("valueHelp");var p=[new sap.m.Text({text:"{Beber}"}),new sap.m.Text({text:"{Fing}"}),new sap.m.Text({text:"{Tele}"})];var m=e.getValueHelp(s,i,p,o,l,"Beber","Fing");m.open();m.setModel(a.getView().getModel("i18n"),"i18n")},PlntSecIPchange:function(e,t){var a=e.getSource();var r=t.getView().getModel(t.oModelName);var n=r.getData();var l=a.getValue();var i=l.replace(/^[ ]+|[ ]+$/g,"");if(i!==""){i=i.toUpperCase();var o="/PlantSectionSet";var s=[new sap.ui.model.Filter("Beber","EQ",i)];var p=t.getView().getModel("valueHelp");var m=function(e){if(e.results.length>0){n.BeberMil=e.results[0].Beber;n.Fing=e.results[0].Fing;n.BeberMilVS="None";r.setData(n)}else{n.Fing="";n.BeberMilVS="Error";r.setData(n)}};var g=function(e){var t=JSON.parse(e.responseText);var a=t.error.message.value;n.Fing="";n.BeberMilVS="Error";r.setData(n)};t._readData(o,p,m,g,s)}else{n.Fing="";n.BeberMilVS="None";r.setData(n)}},WrkCtrIPVH:function(e,t){var a=t.getView().getModel(t.oModelName);var r=a.getData();var n=new sap.m.TableSelectDialog({title:t.getView().getModel("i18n").getProperty("WC"),noDataText:t.getView().getModel("i18n").getProperty("LOAD")+"...",columns:[new sap.m.Column({header:[new sap.m.Text({text:"Work Center Category"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"Plant"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"Work Center"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"Description"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"Language"})]})],items:{path:"/WorkCenterVHSet",template:new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Verwe}"}),new sap.m.Text({text:"{Werks}"}),new sap.m.Text({text:"{Arbpl}"}),new sap.m.Text({text:"{Ktext}"}),new sap.m.Text({text:"{Spras}"})]})},confirm:function(e){r.ArbplIl=e.getParameter("selectedItem").getCells()[2].getText();r.Workcenterdesc=e.getParameter("selectedItem").getCells()[3].getText();r.ArbplIlVS="None";a.setData(r)},search:function(e){if(e.getSource().getBinding("items")){var t=e.getParameter("value");e.getSource().getBinding("items").filter(!t?[]:[new sap.ui.model.Filter([new sap.ui.model.Filter("Arbpl",sap.ui.model.FilterOperator.Contains,t),new sap.ui.model.Filter("Ktext",sap.ui.model.FilterOperator.Contains,t)],false)])}}});var l="/WorkCenterVHSet";var i=t.getView().getModel("valueHelp");var o=[];var s=function(e){if(e.results.length>0){if(sap.ui.getCore().getModel("AIWListWCModel")){var a=sap.ui.getCore().getModel("AIWListWCModel").getData();if(a.length>0){for(var r=0;r<a.length;r++){if(a[r].wc){var l={Verwe:a[r].wcCat,Werks:a[r].plant,Arbpl:a[r].wc,Ktext:a[r].wcDesc,Spras:e.results[0].Spras};e.results.unshift(l)}}}}var i=new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Verwe}"}),new sap.m.Text({text:"{Werks}"}),new sap.m.Text({text:"{Arbpl}"}),new sap.m.Text({text:"{Ktext}"}),new sap.m.Text({text:"{Spras}"})]});var o=new sap.ui.model.json.JSONModel;o.setData(e);o.setSizeLimit(e.results.length);o.isSizeLimit=e.results.length;n.setModel(o);n.bindAggregation("items","/results",i)}else{n.setNoDataText(t.getView().getModel("i18n").getProperty("NO_DATA"))}};var p=function(){};t._readData(l,i,s,p,o);n.open()},WrkCtrIPchange:function(e,t){var a=e.getSource();var r=t.getView().getModel(t.oModelName);var n=r.getData();var l=a.getValue();var i=l.replace(/^[ ]+|[ ]+$/g,"");if(i!==""){i=i.toUpperCase();var o="/WorkCenterVHSet";var s=[new sap.ui.model.Filter("Arbpl","EQ",i)];var p=t.getView().getModel("valueHelp");var m=function(e){if(e.results.length>0){n.ArbplIl=e.results[0].Arbpl;n.Workcenterdesc=e.results[0].Ktext;n.ArbplIlVS="None"}else{n.Workcenterdesc="";n.ArbplIlVS="Error"}r.setData(n)};var g=function(e){var t=JSON.parse(e.responseText);var a=t.error.message.value;n.Workcenterdesc="";n.ArbplIlVS="Error";r.setData(n)};t._readData(o,p,m,g,s)}else{n.Workcenterdesc="";n.ArbplIlVS="None";r.setData(n)}},AbcIndIPVH:function(t,a){var r=a.getView().getModel(a.oModelName);var n=r.getData();var l={title:a.getView().getModel("i18n").getProperty("ABC_IND"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/ABCIndicatorSet",template:new sap.m.StandardListItem({title:"{Abckz}",description:"{Abctx}"})},confirm:function(e){n.AbckzIl=e.getParameters().selectedItem.getProperty("title");n.Abctx=e.getParameters().selectedItem.getProperty("description");n.AbckzIlVS="None";r.setData(n)},search:function(e){if(e.getSource().getBinding("items")){var t=e.getParameter("value");e.getSource().getBinding("items").filter(!t?[]:[new sap.ui.model.Filter([new sap.ui.model.Filter("Abckz",sap.ui.model.FilterOperator.Contains,t),new sap.ui.model.Filter("Abctx",sap.ui.model.FilterOperator.Contains,t)],false)])}}};var i="/ABCIndicatorSet";var o=a.getView().getModel("valueHelp");var s=e.getSelectDialog(o,i,[],l,"Abckz","Abctx");s.open()},AbcIndIPchange:function(e,t){var a=e.getSource();var r=t.getView().getModel(t.oModelName);var n=r.getData();var l=a.getValue();var i=l.replace(/^[ ]+|[ ]+$/g,"");if(i!==""){i=i.toUpperCase();var o="/ABCIndicatorSet";var s=[new sap.ui.model.Filter("Abckz","EQ",i)];var p=t.getView().getModel("valueHelp");var m=function(e){if(e.results.length>0){n.AbckzIl=e.results[0].Abckz;n.Abctx=e.results[0].Abctx;n.AbckzIlVS="None"}else{n.Abctx="";n.AbckzIlVS="Error"}r.setData(n)};var g=function(e){var t=JSON.parse(e.responseText);var a=t.error.message.value;n.Abctx="";n.AbckzIlVS="Error";r.setData(n)};t._readData(o,p,m,g,s)}else{n.Abctx="";n.AbckzIlVS="None";r.setData(n)}},CompCodeIPVH:function(t,a){var r=a.getView().getModel(a.oModelName);var n=r.getData();var l={title:a.getView().getModel("i18n").getProperty("COMPCODE"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",columns:[new sap.m.Column({header:[new sap.m.Text({text:"{i18n>COMPCODE}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>COMP_NAME}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>CITY}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>xtxt.CURRENCY}"})]})],items:{path:"/CompanyCodeVHSet",template:new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Bukrs}"}),new sap.m.Text({text:"{Butxt}"}),new sap.m.Text({text:"{Ort01}"}),new sap.m.Text({text:"{Waers}"})]})},confirm:function(e){n.BukrsMil=e.getParameter("selectedItem").getCells()[0].getText();n.Butxt=e.getParameter("selectedItem").getCells()[1].getText();n.City=e.getParameter("selectedItem").getCells()[2].getText();n.BukrsMilVS="None";r.setData(n)}};var i="/CompanyCodeVHSet";var o=[];var s=a.getView().getModel("valueHelp");var p=[new sap.m.Text({text:"{Bukrs}"}),new sap.m.Text({text:"{Butxt}"}),new sap.m.Text({text:"{Ort01}"}),new sap.m.Text({text:"{Waers}"})];var m=e.getValueHelp(s,i,p,o,l,"Bukrs","Butxt");m.open();m.setModel(a.getView().getModel("i18n"),"i18n")},CompCodeIPchange:function(e,t){var a=e.getSource();var r=t.getView().getModel(t.oModelName);var n=r.getData();var l=a.getValue();var i=l.replace(/^[ ]+|[ ]+$/g,"");if(i!==""){i=i.toUpperCase();var o="/CompanyCodeVHSet";var s=[new sap.ui.model.Filter("Bukrs","EQ",i)];var p=t.getView().getModel("valueHelp");var m=function(e){if(e.results.length>0){n.BukrsMil=e.results[0].Bukrs;n.Butxt=e.results[0].Butxt;n.City=e.results[0].Ort01;n.BukrsMilVS="None";r.setData(n)}else{n.Butxt="";n.City="";n.BukrsMilVS="Error";r.setData(n)}};var g=function(e){var t=JSON.parse(e.responseText);var a=t.error.message.value;n.Butxt="";n.City="";n.BukrsMilVS="Error";r.setData(n)};t._readData(o,p,m,g,s)}else{n.Butxt="";n.City="";n.BukrsMilVS="None";r.setData(n)}},AssetIPVH:function(t,a){var r=a.getView().getModel(a.oModelName);var n=r.getData();var l={title:"Asset",noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",columns:[new sap.m.Column({header:[new sap.m.Text({text:"{i18n>COMPCODE}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"Asset"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"Sub. Number"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"Description"})]})],items:{path:"/AssetNumberSet",template:new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Bukrs}"}),new sap.m.Text({text:"{Anln1}"}),new sap.m.Text({text:"{Anln2}"}),new sap.m.Text({text:"{Txt50}"})]})},confirm:function(e){n.Anln1Mil=e.getParameter("selectedItem").getCells()[1].getText();n.Txt50=e.getParameter("selectedItem").getCells()[3].getText();n.Anln2Mil=e.getParameter("selectedItem").getCells()[2].getText();n.Anln1MilVS="None";n.Anln2MilVS="None";r.setData(n)}};var i="/AssetNumberSet";var o=[new sap.ui.model.Filter("Bukrs","EQ",n.BukrsMil)];var s=a.getView().getModel("valueHelp2");var p=[new sap.m.Text({text:"{Bukrs}"}),new sap.m.Text({text:"{Anln1}"}),new sap.m.Text({text:"{Anln2}"}),new sap.m.Text({text:"{Txt50}"})];var m=e.getValueHelp(s,i,p,o,l,"Anln1","Txt50");m.open();m.setModel(a.getView().getModel("i18n"),"i18n")},AssetIPchange:function(e,t){var a=e.getSource();var r=t.getView().getModel(t.oModelName);var n=r.getData();var l=a.getValue();var i=l.replace(/^[ ]+|[ ]+$/g,"");if(i!==""){i=i.toUpperCase();var o="/AssetNumberSet";var s=[new sap.ui.model.Filter("Bukrs","EQ",n.BukrsMil),new sap.ui.model.Filter("Anln1","EQ",i)];var p=t.getView().getModel("valueHelp2");var m=function(e){if(e.results.length>0){n.Anln1Mil=e.results[0].Anln1;n.Txt50=e.results[0].Txt50;n.Anln2Mil=e.results[0].Anln2;n.Anln1MilVS="None";n.Anln2MilVS="None";r.setData(n)}else{n.Txt50="";n.Anln1MilVS="Error";r.setData(n)}};var g=function(e){var t=JSON.parse(e.responseText);var a=t.error.message.value;n.Txt50="";n.Anln1MilVS="Error";r.setData(n)};t._readData(o,p,m,g,s)}else{n.Txt50="";n.Anln1MilVS="None";r.setData(n)}},SubIPVH:function(t,a){var r=a.getView().getModel(a.oModelName);var n=r.getData();var l={title:"Sub. Number",noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",columns:[new sap.m.Column({header:[new sap.m.Text({text:"{i18n>COMPCODE}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"Asset"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"Sub. Number"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"Description"})]})],items:{path:"/AssetNumberSet",template:new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Bukrs}"}),new sap.m.Text({text:"{Anln1}"}),new sap.m.Text({text:"{Anln2}"}),new sap.m.Text({text:"{Txt50}"})]})},confirm:function(e){n.Anln1Mil=e.getParameter("selectedItem").getCells()[1].getText();n.Txt50=e.getParameter("selectedItem").getCells()[3].getText();n.Anln2Mil=e.getParameter("selectedItem").getCells()[2].getText();n.Anln1MilVS="None";n.Anln2MilVS="None";r.setData(n)}};var i="/AssetNumberSet";var o=[new sap.ui.model.Filter("Bukrs","EQ",n.BukrsMil),new sap.ui.model.Filter("Anln1","EQ",n.Anln1Mil)];var s=a.getView().getModel("valueHelp2");var p=[new sap.m.Text({text:"{Bukrs}"}),new sap.m.Text({text:"{Anln1}"}),new sap.m.Text({text:"{Anln2}"}),new sap.m.Text({text:"{Txt50}"})];var m=e.getValueHelp(s,i,p,o,l,"Anln2","Txt50");m.open();m.setModel(a.getView().getModel("i18n"),"i18n")},SubIPchange:function(e,t){var a=e.getSource();var r=t.getView().getModel(t.oModelName);var n=r.getData();var l=a.getValue();var i=l.replace(/^[ ]+|[ ]+$/g,"");if(i!==""){i=i.toUpperCase();var o="/AssetNumberSet";var s=[new sap.ui.model.Filter("Bukrs","EQ",n.BukrsMil),new sap.ui.model.Filter("Anln1","EQ",n.Anln1Mil),new sap.ui.model.Filter("Anln2","EQ",i)];var p=t.getView().getModel("valueHelp2");var m=function(e){if(e.results.length>0){n.Anln1Mil=e.results[0].Anln1;n.Txt50=e.results[0].Txt50;n.Anln2Mil=e.results[0].Anln2;n.Anln1MilVS="None";n.Anln2MilVS="None";r.setData(n)}else{n.Anln2MilVS="Error";r.setData(n)}};var g=function(e){var t=JSON.parse(e.responseText);var a=t.error.message.value;n.Anln2MilVS="Error";r.setData(n)};t._readData(o,p,m,g,s)}else{n.Anln2MilVS="None";r.setData(n)}},ITBusinessIPVH:function(t,a){var r=a.getView().getModel(a.oModelName);var n=r.getData();var l={title:a.getView().getModel("i18n").getProperty("IT_BA"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/BusinessAreaSet",template:new sap.m.StandardListItem({title:"{Gsber}",description:"{Gtext}"})},confirm:function(e){n.GsberIl=e.getParameters().selectedItem.getProperty("title");n.Gtext=e.getParameters().selectedItem.getProperty("description");n.GsberIlVS="None";r.setData(n)},search:function(e){if(e.getSource().getBinding("items")){var t=e.getParameter("value");e.getSource().getBinding("items").filter(!t?[]:[new sap.ui.model.Filter([new sap.ui.model.Filter("Gsber",sap.ui.model.FilterOperator.Contains,t),new sap.ui.model.Filter("Gtext",sap.ui.model.FilterOperator.Contains,t)],false)])}}};var i="/BusinessAreaSet";var o=a.getView().getModel("valueHelp2");var s=e.getSelectDialog(o,i,[],l,"Gsber","Gtext");s.open()},ITBusinessIPchange:function(e,t){var a=e.getSource();var r=t.getView().getModel(t.oModelName);var n=r.getData();var l=a.getValue();var i=l.replace(/^[ ]+|[ ]+$/g,"");if(i!==""){i=i.toUpperCase();var o="/BusinessAreaSet";var s=[new sap.ui.model.Filter("Gsber","EQ",i)];var p=t.getView().getModel("valueHelp2");var m=function(e){if(e.results.length>0){n.GsberIl=e.results[0].Gsber;n.Gtext=e.results[0].Gtext;n.GsberIlVS="None"}else{n.Gtext="";n.GsberIlVS="Error"}r.setData(n)};var g=function(e){var t=JSON.parse(e.responseText);var a=t.error.message.value;n.Gtext="";n.GsberIlVS="Error";r.setData(n)};t._readData(o,p,m,g,s)}else{n.Abctx="";n.GsberIlVS="None";r.setData(n)}},CostCenterIPVH:function(t,a){var r=a.getView().getModel(a.oModelName);var n=r.getData();var l={title:a.getView().getModel("i18n").getProperty("CC"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",columns:[new sap.m.Column({header:[new sap.m.Text({text:"{i18n>CC}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>COMPCODE}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>CCTR_CATGRY}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>CO_AREA}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>PERSON_RESP}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>USR_RESP}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>SHRT_TXT}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>LANGUAGE}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>VALID_FRM}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>VALID_TO}"})]})],items:{path:"/CostCenterVHSet",template:new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Kostl}"}),new sap.m.Text({text:"{Kokrs}"}),new sap.m.Text({text:"{Bukrs}"}),new sap.m.Text({text:"{Kosar}"}),new sap.m.Text({text:"{Verak}"}),new sap.m.Text({text:"{VerakUser}"}),new sap.m.Text({text:"{Mctxt}"}),new sap.m.Text({text:"{Spras}"}),new sap.m.Text({text:{parts:[{path:"Datab"}],formatter:a.formatter.dateFormat}}),new sap.m.Text({text:{parts:[{path:"Datbi"}],formatter:a.formatter.dateFormat}})]})},confirm:function(e){n.KostlMil=e.getParameter("selectedItem").getCells()[0].getText();n.KokrsMil=e.getParameter("selectedItem").getCells()[2].getText();n.Contareaname=e.getParameter("selectedItem").getCells()[6].getText();n.KostlMilVS="None";r.setData(n)}};var i="/CostCenterVHSet";var o=[];var s=a.getView().getModel("valueHelp2");var p=[new sap.m.Text({text:"{Kostl}"}),new sap.m.Text({text:"{Kokrs}"}),new sap.m.Text({text:"{Bukrs}"}),new sap.m.Text({text:"{Kosar}"}),new sap.m.Text({text:"{Verak}"}),new sap.m.Text({text:"{VerakUser}"}),new sap.m.Text({text:"{Mctxt}"}),new sap.m.Text({text:"{Spras}"}),new sap.m.Text({text:{parts:[{path:"Datab"}],formatter:a.formatter.dateFormat}}),new sap.m.Text({text:{parts:[{path:"Datbi"}],formatter:a.formatter.dateFormat}})];var m=e.getValueHelp(s,i,p,o,l,"Kostl","Mctxt");m.open();m.setModel(a.getView().getModel("i18n"),"i18n")},_changeCostCenter:function(e,t){var a=e.getSource();var r=t.getView().getModel(t.oModelName);var n=r.getData();var l=a.getValue();var i=l.replace(/^[ ]+|[ ]+$/g,"");if(i!==""){i=i.toUpperCase();var o="/CostCenterVHSet";var s=[new sap.ui.model.Filter("Kostl","EQ",i)];var p=t.getView().getModel("valueHelp2");var m=function(e){if(e.results.length>0){n.KostlMil=e.results[0].Kostl;n.Contareaname=e.results[0].Mctxt;n.KokrsMil=e.results[0].Kokrs;n.KostlMilVS="None";r.setData(n)}else{n.Contareaname="";n.KostlMilVS="Error";r.setData(n)}};var g=function(e){var t=JSON.parse(e.responseText);var a=t.error.message.value;n.Contareaname="";n.KokrsMil="";n.KostlMilVS="Error";r.setData(n)};t._readData(o,p,m,g,s)}else{n.Contareaname="";n.KokrsMil="";n.KostlMilVS="None";r.setData(n)}},WBSEleIPVH:function(t,a){var r=a.getView().getModel("valueHelp2");var n=a.getView().getModel(a.oModelName);var l=n.getData();var i={title:"{i18n>WBS_TXT}",noDataText:"{i18n>LOAD}"+"...",columns:[new sap.m.Column({header:[new sap.m.Text({text:"{i18n>DESC_TXT}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>WBS_TXT}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>SHORTID}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>PROJDEF}"})]})],items:{path:"/WBSElementSet",template:new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Post1}"}),new sap.m.Text({text:"{Posid}"}),new sap.m.Text({text:"{Poski}"}),new sap.m.Text({text:"{Objnr}"})]})},confirm:function(e){l.Posid=e.getParameter("selectedItem").getCells()[1].getText();l.Post1=e.getParameter("selectedItem").getCells()[0].getText();l.PosidVS="None";n.setData(l)}};var o="/WBSElementSet";var s=[];var p=[new sap.m.Text({text:"{Post1}"}),new sap.m.Text({text:"{Posid}"}),new sap.m.Text({text:"{Poski}"}),new sap.m.Text({text:"{Objnr}"})];var m=e.getValueHelp(r,o,p,s,i,"Post1","Posid");m.open();m.setModel(a.getView().getModel("i18n"),"i18n")},WBSEleIPchange:function(e,t){var a=e.getSource();var r=t.getView().getModel(t.oModelName);var n=r.getData();var l=a.getValue();var i=l.replace(/^[ ]+|[ ]+$/g,"");var o=t.getView().getModel("valueHelp2");if(i!==""){i=i.toUpperCase();var s=[new sap.ui.model.Filter("Posid","EQ",i)];o.read("/WBSElementSet",{filters:s,success:function(e){if(e.results.length>0){n.Posid=e.results[0].Posid;n.Post1=e.results[0].Post1;n.PosidVS="None";r.setData(n)}else{n.Post1="";n.PosidVS="Error";r.setData(n)}},error:function(e){n.Post1="";n.PosidVS="Error";r.setData(n)}})}else{n.Post1="";n.PosidVS="None";r.setData(n)}},SetlOrdIPVH:function(t,a){var r=a.getView().getModel("valueHelp2");var n=a.getView().getModel(a.oModelName);var l=n.getData();var i={title:"{i18n>SETTLE_ORD}",noDataText:"{i18n>LOAD}"+"...",columns:[new sap.m.Column({header:[new sap.m.Text({text:"CO Area"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"Order Type"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"Order"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"Descrption"})]})],items:{path:"/SettleOrderVHSet",template:new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Kokrs}"}),new sap.m.Text({text:"{Auart}"}),new sap.m.Text({text:"{Aufnr}"}),new sap.m.Text({text:"{Ktext}"})]})},confirm:function(e){l.AufnrIl=e.getParameter("selectedItem").getCells()[2].getText();l.SettleOrdDesc=e.getParameter("selectedItem").getCells()[3].getText();l.AufnrIlVS="None";n.setData(l)}};var o="/SettleOrderVHSet";var s=[new sap.ui.model.Filter("Kokrs","EQ",l.KokrsMil)];var p=[new sap.m.Text({text:"{Kokrs}"}),new sap.m.Text({text:"{Auart}"}),new sap.m.Text({text:"{Aufnr}"}),new sap.m.Text({text:"{Ktext}"})];var m=e.getValueHelp(r,o,p,s,i,"Aufnr","Ktext");m.open();m.setModel(a.getView().getModel("i18n"),"i18n")},SetlOrdIPchange:function(e,t){var a=e.getSource();var r=t.getView().getModel(t.oModelName);var n=r.getData();var l=a.getValue();var i=l.replace(/^[ ]+|[ ]+$/g,"");var o=t.getView().getModel("valueHelp2");if(i!==""){i=i.toUpperCase();var s=[new sap.ui.model.Filter("Aufnr","EQ",i),new sap.ui.model.Filter("Kokrs","EQ",n.KokrsMil)];o.read("/SettleOrderVHSet",{filters:s,success:function(e){if(e.results.length>0){n.AufnrIl=e.results[0].Aufnr;n.SettleOrdDesc=e.results[0].Ktext;n.AufnrIlVS="None";r.setData(n)}else{n.SettleOrdDesc="";n.AufnrIlVS="Error";r.setData(n)}},error:function(e){n.SettleOrdDesc="";n.AufnrIlVS="Error";r.setData(n)}})}else{n.SettleOrdDesc="";n.AufnrIlVS="None";r.setData(n)}},SerialNumVH:function(t,a){var r=a.getView().getModel("valueHelp2");var n=a.getView().getModel(a.oModelName);var l=n.getData();var i={title:"Serial Number",noDataText:"{i18n>LOAD}"+"...",columns:[new sap.m.Column({header:[new sap.m.Text({text:"Serial Number"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"Material"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"UII"})]})],items:{path:"/EqsnsSet",template:new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Sernr}"}),new sap.m.Text({text:"{Matnr}"}),new sap.m.Text({text:"{Uii}"})]})},confirm:function(e){l.Serialnr=e.getParameter("selectedItem").getCells()[0].getText();l.Sermat=e.getParameter("selectedItem").getCells()[1].getText();l.UiiMitem=e.getParameter("selectedItem").getCells()[2].getText();l.SerialnrVS="None";l.SermatVS="None";l.UiiMitemVS="None";n.setData(l)}};var o="/EqsnsSet";var s=[];var p=[new sap.m.Text({text:"{Sernr}"}),new sap.m.Text({text:"{Matnr}"}),new sap.m.Text({text:"{Uii}"})];var m=e.getValueHelp(r,o,p,s,i,"Sernr","Matnr");m.open();m.setModel(a.getView().getModel("i18n"),"i18n")},SerialNumChange:function(e,t){var a=e.getSource();var r=t.getView().getModel(t.oModelName);var n=r.getData();var l=a.getValue();var i=l.replace(/^[ ]+|[ ]+$/g,"");var o=t.getView().getModel("valueHelp2");if(i!==""){i=i.toUpperCase();var s=[new sap.ui.model.Filter("Sernr","EQ",i)];o.read("/EqsnsSet",{filters:s,success:function(e){if(e.results.length>0){n.Serialnr=e.results[0].Sernr;n.Sermat=e.results[0].Matnr;n.UiiMitem=e.results[0].Uii;n.SerialnrVS="None";n.SermatVS="None";n.UiiMitemVS="None";r.setData(n)}else{n.SerialnrVS="Error";r.setData(n)}},error:function(e){n.SerialnrVS="Error";r.setData(n)}})}else{n.SerialnrVS="None";r.setData(n)}},UIIVH:function(t,a){var r=a.getView().getModel("valueHelp2");var n=a.getView().getModel(a.oModelName);var l=n.getData();var i={title:"UII",noDataText:"{i18n>LOAD}"+"...",columns:[new sap.m.Column({header:[new sap.m.Text({text:"UII"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"Material"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"Serial Number"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"Equipement"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"Equi. Desc."})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"UII Plant"})]})],items:{path:"/UIIVHSet",template:new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Uii}"}),new sap.m.Text({text:"{Matnr}"}),new sap.m.Text({text:"{Sernr}"}),new sap.m.Text({text:"{Equnr}"}),new sap.m.Text({text:"{Eqktu}"}),new sap.m.Text({text:"{UiiPlant}"})]})},confirm:function(e){l.UiiMitem=e.getParameter("selectedItem").getCells()[0].getText();l.Serialnr=e.getParameter("selectedItem").getCells()[2].getText();l.Sermat=e.getParameter("selectedItem").getCells()[1].getText();l.Equnr=e.getParameter("selectedItem").getCells()[3].getText();l.Eqktx=e.getParameter("selectedItem").getCells()[4].getText();l.UiiMitemVS="None";l.SerialnrVS="None";l.SermatVS="None";l.EqunrVS="None";n.setData(l)}};var o="/UIIVHSet";var s=[];var p=[new sap.m.Text({text:"{Uii}"}),new sap.m.Text({text:"{Matnr}"}),new sap.m.Text({text:"{Sernr}"}),new sap.m.Text({text:"{Equnr}"}),new sap.m.Text({text:"{Eqktu}"}),new sap.m.Text({text:"{UiiPlant}"})];var m=e.getValueHelp(r,o,p,s,i,"Uii","Matnr");m.open();m.setModel(a.getView().getModel("i18n"),"i18n")},UIIChange:function(e,t){var a=e.getSource();var r=t.getView().getModel(t.oModelName);var n=r.getData();var l=a.getValue();var i=l.replace(/^[ ]+|[ ]+$/g,"");var o=t.getView().getModel("valueHelp2");if(i!==""){i=i.toUpperCase();var s=[new sap.ui.model.Filter("Uii","EQ",i)];o.read("/UIIVHSet",{filters:s,success:function(e){if(e.results.length>0){n.UiiMitem=e.results[0].Uii;n.Serialnr=e.results[0].Sernr;n.Sermat=e.results[0].Matnr;n.Equnr=e.results[0].Equnr;n.Eqktx=e.results[0].Eqktu;n.UiiMitemVS="None";n.SerialnrVS="None";n.SermatVS="None";n.EqunrVS="None";r.setData(n)}else{n.UiiMitemVS="Error";r.setData(n)}},error:function(e){n.UiiMitemVS="Error";r.setData(n)}})}else{n.UiiMitemVS="None";r.setData(n)}},CycleShrtTxtVH:function(t,a,r){var n=a.getView().getModel("valueHelp2");var l=a.getModel("mtlMaintPckg");var i=l.getData();var o=t.getSource().getParent().getBindingContextPath();var s={title:"Cycle short text",noDataText:"{i18n>LOAD}"+"...",columns:[new sap.m.Column({header:[new sap.m.Text({text:"Strategy"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"Package"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"Cycle text"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"Hier. Short text"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"Cycle Short text"})]})],items:{path:"/MpackSet",template:new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Strat}"}),new sap.m.Text({text:"{Paket}"}),new sap.m.Text({text:"{Ktex1}"}),new sap.m.Text({text:"{Ktxhi}"}),new sap.m.Text({text:"{Kzyk1}"})]})},confirm:function(e){l.getProperty(o).Paket=e.getParameter("selectedItem").getCells()[1].getText();l.getProperty(o).Ktex1=e.getParameter("selectedItem").getCells()[2].getText();l.getProperty(o).Ktxhi=e.getParameter("selectedItem").getCells()[3].getText();l.getProperty(o).Kzyk1=e.getParameter("selectedItem").getCells()[4].getText();l.getProperty(o).Kzyk1VSVS="None";l.refresh()}};var p="/MpackSet";var m=[new sap.ui.model.Filter("Strat","EQ",i.Strat)];var g=[new sap.m.Text({text:"{Strat}"}),new sap.m.Text({text:"{Paket}"}),new sap.m.Text({text:"{Ktex1}"}),new sap.m.Text({text:"{Ktxhi}"}),new sap.m.Text({text:"{Kzyk1}"})];var d=e.getValueHelp(n,p,g,m,s,"Ktex1","Kzyk1");d.open();d.setModel(a.getView().getModel("i18n"),"i18n")},_CycleShrtTxtchange:function(e,t){var a=e.getSource();var r=t.getModel("mtlMaintPckg");var n=r.getData();var l=a.getParent().getBindingContextPath();var i=a.getValue();var o=i.replace(/^[ ]+|[ ]+$/g,"");var s=t.getView().getModel("valueHelp2");if(o!==""){o=o.toUpperCase();var p=[new sap.ui.model.Filter("Strat","EQ",n.Strat)];s.read("/MpackSet",{filters:p,success:function(e){if(e.results.length>0){r.getProperty(l).Paket=e.results[0].Paket;r.getProperty(l).Ktex1=e.results[0].Ktex1;r.getProperty(l).Ktxhi=e.results[0].Ktxhi;r.getProperty(l).Kzyk1=e.results[0].Kzyk1;r.getProperty(l).Kzyk1VSVS="None";r.refresh()}else{r.getProperty(l).Kzyk1VSVS="Error";r.refresh()}},error:function(e){r.getProperty(l).Kzyk1VSVS="Error";r.refresh()}})}else{r.getProperty(l).Kzyk1VSVS="None";r.refresh()}},prtCtrlKeyVH:function(t,a){var r=a.getView().getModel("valueHelp2");var n=a.getView().getModel("tlDetailModel");var l=n.getData();var i=t.getSource().getParent().getBindingContextPath();var o={title:"Control Key",noDataText:"{i18n>LOAD}"+"...",columns:[new sap.m.Column({header:[new sap.m.Text({text:"PRT Control Profile"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"Schedule"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"Calculate"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"Control"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"Print"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"Expand"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"Ctrl Key Text"})]})],items:{path:"/PrtCtlProfSet",template:new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Steuf}"}),new sap.m.Text({text:"{path:'Xterm', formatter:'.formatter.truetoX'}"}),new sap.m.Text({text:"{path:'Xkalk', formatter:'.formatter.truetoX'}"}),new sap.m.Text({text:"{path:'Xrueck', formatter:'.formatter.truetoX'}"}),new sap.m.Text({text:"{path:'Xdruck', formatter:'.formatter.truetoX'}"}),new sap.m.Text({text:"{path:'Xexpand', formatter:'.formatter.truetoX'}"}),new sap.m.Text({text:"{Stftxt}"})]})},confirm:function(e){n.getProperty(i).PRTCtrl=e.getParameter("selectedItem").getCells()[0].getText();n.getProperty(i).PRTCtrlDesc=e.getParameter("selectedItem").getCells()[6].getText();n.getProperty(i).PRTCtrlVS="None";n.refresh()}};var s="/PrtCtlProfSet";var p=[];var m=[new sap.m.Text({text:"{Steuf}"}),new sap.m.Text({text:"{path:'Xterm', formatter:'.formatter.truetoX'}"}),new sap.m.Text({text:"{path:'Xkalk', formatter:'.formatter.truetoX'}"}),new sap.m.Text({text:"{path:'Xrueck', formatter:'.formatter.truetoX'}"}),new sap.m.Text({text:"{path:'Xdruck', formatter:'.formatter.truetoX'}"}),new sap.m.Text({text:"{path:'Xexpand', formatter:'.formatter.truetoX'}"}),new sap.m.Text({text:"{Stftxt}"})];var g=e.getValueHelp(r,s,m,p,o,"Steuf","Stftxt");g.open();g.setModel(a.getView().getModel("i18n"),"i18n")},prtCtrlKeyChange:function(e,t){var a=e.getSource();var r=t.getView().getModel("tlDetailModel");var n=r.getData();var l=a.getParent().getBindingContextPath();var i=a.getValue();var o=i.replace(/^[ ]+|[ ]+$/g,"");var s=t.getView().getModel("valueHelp2");if(o!==""){o=o.toUpperCase();var p=[new sap.ui.model.Filter("Steuf","EQ",o)];s.read("/PrtCtlProfSet",{filters:p,success:function(e){if(e.results.length>0){r.getProperty(l).PRTCtrl=e.results[0].Steuf;r.getProperty(l).PRTCtrlDesc=e.results[0].Stftxt;r.getProperty(l).PRTCtrlVS="None";r.refresh()}else{r.getProperty(l).PRTCtrlVS="Error";r.refresh()}},error:function(e){r.getProperty(l).PRTCtrlVS="Error";r.refresh()}})}else{r.getProperty(l).PRTCtrlVS="None";r.refresh()}},MastInspCharVH:function(t,a){var r=a.getView().getModel("valueHelp2");var n=a.getView().getModel("tlDetailModel");var l=n.getData();var i=t.getSource().getParent().getBindingContextPath();var o={title:"Master Insp. Charac.",noDataText:"{i18n>LOAD}"+"...",columns:[new sap.m.Column({header:[new sap.m.Text({text:"Plant"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"Mstr Insp. Charac."})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"Version"})]})],items:{path:"/TLInspCharVHSet",template:new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Zaehler}"}),new sap.m.Text({text:"{Mkmnr}"}),new sap.m.Text({text:"{Version}"})]})},confirm:function(e){n.getProperty(i).MastInspChar=e.getParameter("selectedItem").getCells()[1].getText();n.getProperty(i).ShrtTxt=e.getParameter("selectedItem").getCells()[1].getText();n.getProperty(i).Plant=e.getParameter("selectedItem").getCells()[0].getText();n.getProperty(i).Version=e.getParameter("selectedItem").getCells()[2].getText();n.getProperty(i).MastInspCharVS="None";n.getProperty(i).VersionVS="None";n.getProperty(i).InspMthdPlntVS="None";n.refresh();a.readInspChar(n.getProperty(i).Plant,n.getProperty(i).MastInspChar,n.getProperty(i).Version,i)}};var s="/TLInspCharVHSet";var p=[];var m=[new sap.m.Text({text:"{Zaehler}"}),new sap.m.Text({text:"{Mkmnr}"}),new sap.m.Text({text:"{Version}"})];var g=e.getValueHelp(r,s,m,p,o,"Mkmnr","Zaehler");g.open();g.setModel(a.getView().getModel("i18n"),"i18n")},MastInspCharChange:function(e,t){var a=e.getSource();var r=t.getView().getModel("tlDetailModel");var n=r.getData();var l=a.getParent().getBindingContextPath();var i=a.getValue();var o=i.replace(/^[ ]+|[ ]+$/g,"");var s=t.getView().getModel("valueHelp2");if(o!==""){o=o.toUpperCase();var p=[new sap.ui.model.Filter("Mkmnr","EQ",o)];s.read("/TLInspCharVHSet",{filters:p,success:function(e){if(e.results.length>0){r.getProperty(l).MastInspChar=e.results[0].Mkmnr;r.getProperty(l).ShrtTxt=e.results[0].Mkmnr;r.getProperty(l).MastInspCharVS="None";r.refresh();t.readInspChar(r.getProperty(l).Plant,r.getProperty(l).MastInspChar,r.getProperty(l).Version,l)}else{r.getProperty(l).MastInspCharVS="Error";r.refresh()}},error:function(e){r.getProperty(l).MastInspCharVS="Error";r.refresh()}})}else{r.getProperty(l).MastInspCharVS="None";r.refresh()}},ICPlantChange:function(e,t){var a=e.getSource();var r=t.getView().getModel("tlDetailModel");var n=r.getData();var l=a.getParent().getBindingContextPath();var i=a.getValue();var o=i.replace(/^[ ]+|[ ]+$/g,"");var s=t.getView().getModel("valueHelp2");if(o!==""){o=o.toUpperCase();var p=[new sap.ui.model.Filter("Zaehler","EQ",o)];s.read("/TLInspCharVHSet",{filters:p,success:function(e){if(e.results.length>0){r.getProperty(l).Plant=e.results[0].Zaehler;r.getProperty(l).PlantVS="None";r.refresh()}else{r.getProperty(l).PlantVS="Error";r.refresh()}},error:function(e){r.getProperty(l).PlantVS="Error";r.refresh()}})}else{r.getProperty(l).PlantVS="None";r.refresh()}},ICVersionChange:function(e,t){var a=e.getSource();var r=t.getView().getModel("tlDetailModel");var n=r.getData();var l=a.getParent().getBindingContextPath();var i=a.getValue();var o=i.replace(/^[ ]+|[ ]+$/g,"");var s=t.getView().getModel("valueHelp2");if(o!==""){o=o.toUpperCase();var p=[new sap.ui.model.Filter("Version","EQ",o)];s.read("/TLInspCharVHSet",{filters:p,success:function(e){if(e.results.length>0){r.getProperty(l).Version=e.results[0].Version;r.getProperty(l).VersionVS="None";r.refresh()}else{r.getProperty(l).VersionVS="Error";r.refresh()}},error:function(e){r.getProperty(l).VersionVS="Error";r.refresh()}})}else{r.getProperty(l).VersionVS="None";r.refresh()}},InspMthdPlntVH:function(t,a){var r=a.getView().getModel("tlDetailModel");var n=r.getData();var l=t.getSource().getParent().getBindingContextPath();var i={title:"Insp. Method Plant",noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",columns:[new sap.m.Column({header:[new sap.m.Text({text:"{i18n>PLANT}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>SEARCHTERM2}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>SEARCHTERM1}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>POST_CODE}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>CITY}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>Name2}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>Name1}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",header:[new sap.m.Text({text:"{i18n>ADDR_VERSION}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",visible:false,header:[new sap.m.Text({text:"{i18n>COMPCODE}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",visible:false,header:[new sap.m.Text({text:"{i18n>COMPCODE_DESC}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",visible:false,header:[new sap.m.Text({text:"{i18n>PLAN_PLANT}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",visible:false,header:[new sap.m.Text({text:"{i18n>PLPLANT_DESC}"})]}),new sap.m.Column({demandPopin:true,minScreenWidth:"Tablet",visible:false,header:[new sap.m.Text({text:"{i18n>CC_PLANT}"})]})],items:{path:"/PlantVHSet",template:new sap.m.ColumnListItem({type:"Active",unread:false,cells:[new sap.m.Text({text:"{Plant}"}),new sap.m.Text({text:"{SearchTerm2}"}),new sap.m.Text({text:"{SearchTerm1}"}),new sap.m.Text({text:"{PostalCode}"}),new sap.m.Text({text:"{City}"}),new sap.m.Text({text:"{Name2}"}),new sap.m.Text({text:"{Name}"}),new sap.m.Text({text:"{AddrVersion}"})]})},confirm:function(e){r.getProperty(l).InspMthdPlnt=e.getParameter("selectedItem").getCells()[0].getText();r.getProperty(l).InspMthdPlntVS="None";r.refresh()},search:function(e){if(e.getSource().getBinding("items")){var t=e.getParameter("value");e.getSource().getBinding("items").filter(!t?[]:[new sap.ui.model.Filter([new sap.ui.model.Filter("Plant",sap.ui.model.FilterOperator.Contains,t),new sap.ui.model.Filter("Name1",sap.ui.model.FilterOperator.Contains,t)],false)])}}};var o="/PlantVHSet";var s=[];var p=a.getView().getModel("valueHelp2");var m=[new sap.m.Text({text:"{Plant}"}),new sap.m.Text({text:"{SearchTerm2}"}),new sap.m.Text({text:"{SearchTerm1}"}),new sap.m.Text({text:"{PostalCode}"}),new sap.m.Text({text:"{City}"}),new sap.m.Text({text:"{Name2}"}),new sap.m.Text({text:"{Name}"}),new sap.m.Text({text:"{AddrVersion}"})];var g=e.getValueHelp(p,o,m,s,i,"Plant","Name1");g.open();g.setModel(a.getView().getModel("i18n"),"i18n")},InspMthdPlntChange:function(e,t){var a=f.getSource();var r=t.getView().getModel("tlDetailModel");var n=r.getData();var l=a.getParent().getBindingContextPath();var i=a.getValue();var o=i.replace(/^[ ]+|[ ]+$/g,"");var s=t.getView().getModel("valueHelp2");if(o!==""){o=o.toUpperCase();var p=[new sap.ui.model.Filter("Werks","EQ",o)];s.read("/PlantVHSet",{filters:p,success:function(e){if(e.results.length>0){r.getProperty(l).InspMthdPlnt=e.results[0].Werks;r.getProperty(l).InspMthdPlntVS="None";r.refresh()}else{r.getProperty(l).InspMthdPlntVS="Error";r.refresh()}},error:function(e){r.getProperty(l).InspMthdPlntVS="Error";r.refresh()}})}else{r.getProperty(l).InspMthdPlntVS="None";r.refresh()}},SampProcVH:function(t,a){var r=a.getView().getModel("tlDetailModel");var n=r.getData();var l=t.getSource().getParent().getBindingContextPath();var i={title:"Sample Procedure",noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/TLSampPrcVHSet",template:new sap.m.StandardListItem({title:"{Stichprver}",description:"{Kurztext}"})},confirm:function(e){r.getProperty(l).SampProc=e.getParameters().selectedItem.getProperty("title");r.getProperty(l).SampProcVS="None";r.refresh()}};var o="/TLSampPrcVHSet";var s=a.getView().getModel("valueHelp2");var p=e.getSelectDialog(s,o,[],i,"Stichprver","Kurztext");p.open()},SampProcChange:function(e,t){var a=f.getSource();var r=t.getView().getModel("tlDetailModel");var n=r.getData();var l=a.getParent().getBindingContextPath();var i=a.getValue();var o=i.replace(/^[ ]+|[ ]+$/g,"");var s=t.getView().getModel("valueHelp2");if(o!==""){o=o.toUpperCase();var p=[new sap.ui.model.Filter("Stichprver","EQ",o)];s.read("/TLSampPrcVHSet",{filters:p,success:function(e){if(e.results.length>0){r.getProperty(l).SampProc=e.results[0].Stichprver;r.getProperty(l).SampProcVS="None";r.refresh()}else{r.getProperty(l).SampProcVS="Error";r.refresh()}},error:function(e){r.getProperty(l).SampProcVS="Error";r.refresh()}})}else{r.getProperty(l).SampProcVS="None";r.refresh()}},TailNoChange:function(e,t){var a=e.getSource();var r=t.getView().getModel(t.oModelName);var n=r.getData();var l=a.getValue();var i=l.replace(/^[ ]+|[ ]+$/g,"");if(i!==""){var o="/EqDfpsIdSet";var s=[new sap.ui.model.Filter("Ident","EQ",i)];var p=t.getView().getModel("valueHelp2");var m=function(e){t.BusyDialog.close();if(e.results.length>0){n.dfps.Tailno=e.results[0].Ident;n.dfps.TailnoVS="Error";r.setData(n);var a="Identifier "+e.results[0].Ident+" is already being used by equipment "+e.results[0].Ident;t.createMessagePopover(a,"Error")}else{n.dfps.Tailno=i;n.dfps.TailnoVS="None"}r.setData(n)};var g=function(e){t.BusyDialog.close();var a=JSON.parse(e.responseText);var l=a.error.message.value;n.dfps.TailnoVS="Error";r.setData(n)};t.BusyDialog.open();t._readData(o,p,m,g,s)}else{n.dfps.TailnoVS="None";r.setData(n)}},TailNoVH:function(t,a){var r=a.getView().getModel(a.oModelName);var n=r.getData();var l={title:a.getView().getModel("i18n").getProperty("TAIL_NO"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/EqDfpsIdSet",template:new sap.m.StandardListItem({title:"{Ident}",description:"{Equnr}"})},confirm:function(e){n.dfps.Tailno=e.getParameters().selectedItem.getProperty("title");n.dfps.TailnoVS="Error";r.setData(n);var t=e.getParameters().selectedItem.getProperty("description");var l="Identifier "+n.dfps.Tailno+" is already being used by equipment "+t;a.createMessagePopover(l,"Error")},search:function(e){if(e.getSource().getBinding("items")){var t=e.getParameter("value");e.getSource().getBinding("items").filter(!t?[]:[new sap.ui.model.Filter([new sap.ui.model.Filter("Ident",sap.ui.model.FilterOperator.Contains,t),new sap.ui.model.Filter("Equnr",sap.ui.model.FilterOperator.Contains,t)],false)])}}};var i="/EqDfpsIdSet";var o=a.getView().getModel("valueHelp2");var s=e.getSelectDialog(o,i,[],l,"Ident","Equnr");s.open()},DFPSSiteVH:function(t,a){var r=a.getView().getModel(a.oModelName);var n=r.getData();var l={title:a.getView().getModel("i18n").getProperty("SITE"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/EqDfpsSiteSet",template:new sap.m.StandardListItem({title:"{SiteId}",description:"{SiteDescr}"})},confirm:function(e){n.dfps.Site=e.getParameters().selectedItem.getProperty("title");n.dfps.SiteDesc=e.getParameters().selectedItem.getProperty("description");n.dfps.SiteVS="None";r.setData(n);a.deriveDFPSdata()},search:function(e){if(e.getSource().getBinding("items")){var t=e.getParameter("value");e.getSource().getBinding("items").filter(!t?[]:[new sap.ui.model.Filter([new sap.ui.model.Filter("SiteId",sap.ui.model.FilterOperator.Contains,t),new sap.ui.model.Filter("SiteDescr",sap.ui.model.FilterOperator.Contains,t)],false)])}}};var i="/EqDfpsSiteSet";var o=a.getView().getModel("valueHelp2");var s=e.getSelectDialog(o,i,[],l,"SiteId","SiteDescr");s.open()},DFPSSiteChange:function(e,t){var a=e.getSource();var r=t.getView().getModel(t.oModelName);var n=r.getData();var l=a.getValue();var i=l.replace(/^[ ]+|[ ]+$/g,"");if(i!==""){var o="/EqDfpsSiteSet";var s=[new sap.ui.model.Filter("SiteId","EQ",i)];var p=t.getView().getModel("valueHelp2");var m=function(e){t.BusyDialog.close();if(e.results.length>0){n.dfps.Site=e.results[0].SiteId;n.dfps.SiteDesc=e.results[0].SiteId;n.dfps.SiteVS="None";r.setData(n);t.deriveDFPSdata()}else{n.dfps.SiteDesc="";n.dfps.SiteVS="Error"}r.setData(n)};var g=function(e){t.BusyDialog.close();var a=JSON.parse(e.responseText);var l=a.error.message.value;n.dfps.SiteDesc="";n.dfps.SiteVS="Error";r.setData(n)};t.BusyDialog.open();t._readData(o,p,m,g,s)}else{n.dfps.SiteDesc="";n.dfps.SiteVS="None";r.setData(n)}},DFPSAreaVH:function(t,a){var r=a.getView().getModel(a.oModelName);var n=r.getData();var l={title:a.getView().getModel("i18n").getProperty("AREA"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/EqDfpsAreaIdSet",template:new sap.m.StandardListItem({title:"{AreaId}",description:"{AreaDescr}"})},confirm:function(e){n.dfps.Area=e.getParameters().selectedItem.getProperty("title");n.dfps.AreaDesc=e.getParameters().selectedItem.getProperty("description");r.setData(n)},search:function(e){if(e.getSource().getBinding("items")){var t=e.getParameter("value");e.getSource().getBinding("items").filter(!t?[]:[new sap.ui.model.Filter([new sap.ui.model.Filter("AreaId",sap.ui.model.FilterOperator.Contains,t),new sap.ui.model.Filter("AreaDescr",sap.ui.model.FilterOperator.Contains,t)],false)])}}};var i="/EqDfpsAreaIdSet";var o=a.getView().getModel("valueHelp2");var s=e.getSelectDialog(o,i,[],l,"AreaId","AreaDescr");s.open()},DFPSAreaChange:function(e,t){var a=e.getSource();var r=t.getView().getModel(t.oModelName);var n=r.getData();var l=a.getValue();var i=l.replace(/^[ ]+|[ ]+$/g,"");if(i!==""){var o="/EqDfpsAreaIdSet";var s=[new sap.ui.model.Filter("AreaId","EQ",i)];var p=t.getView().getModel("valueHelp2");var m=function(e){t.BusyDialog.close();if(e.results.length>0){n.dfps.Area=e.results[0].AreaId;n.dfps.AreaDesc=e.results[0].AreaDescr;r.setData(n)}else{n.dfps.AreaDesc=""}r.setData(n)};var g=function(e){t.BusyDialog.close();var a=JSON.parse(e.responseText);var l=a.error.message.value;n.dfps.AreaDesc="";r.setData(n)};t.BusyDialog.open();t._readData(o,p,m,g,s)}else{n.dfps.AreaDesc="";r.setData(n)}},DFPSSiteProVH:function(t,a){var r=a.getView().getModel(a.oModelName);var n=r.getData();var l={title:a.getView().getModel("i18n").getProperty("SITE_PRFL"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/EqDfpsProfSet",template:new sap.m.StandardListItem({title:"{ProfileId}",description:"{TextS}"})},confirm:function(e){n.dfps.SitePrfl=e.getParameters().selectedItem.getProperty("title");r.setData(n)},search:function(e){if(e.getSource().getBinding("items")){var t=e.getParameter("value");e.getSource().getBinding("items").filter(!t?[]:[new sap.ui.model.Filter([new sap.ui.model.Filter("ProfileId",sap.ui.model.FilterOperator.Contains,t),new sap.ui.model.Filter("TextS",sap.ui.model.FilterOperator.Contains,t)],false)])}}};var i="/EqDfpsProfSet";var o=a.getView().getModel("valueHelp2");var s=e.getSelectDialog(o,i,[],l,"ProfileId","TextS");s.open()},DFPSSiteProChange:function(e,t){var a=e.getSource();var r=t.getView().getModel(t.oModelName);var n=r.getData();var l=a.getValue();var i=l.replace(/^[ ]+|[ ]+$/g,"");if(i!==""){var o="/EqDfpsProfSet";var s=[new sap.ui.model.Filter("ProfileId","EQ",i)];var p=t.getView().getModel("valueHelp2");var m=function(e){t.BusyDialog.close();if(e.results.length>0){n.dfps.SitePrfl=e.results[0].ProfileId;r.setData(n)}else{}r.setData(n)};var g=function(e){t.BusyDialog.close();var a=JSON.parse(e.responseText);var l=a.error.message.value;r.setData(n)};t.BusyDialog.open();t._readData(o,p,m,g,s)}else{r.setData(n)}},DFPSAreaProVH:function(t,a){var r=a.getView().getModel(a.oModelName);var n=r.getData();var l={title:a.getView().getModel("i18n").getProperty("AREA_PRFL"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/EqDfpsProfSet",template:new sap.m.StandardListItem({title:"{ProfileId}",description:"{TextS}"})},confirm:function(e){n.dfps.AreaPrfl=e.getParameters().selectedItem.getProperty("title");r.setData(n)},search:function(e){if(e.getSource().getBinding("items")){var t=e.getParameter("value");e.getSource().getBinding("items").filter(!t?[]:[new sap.ui.model.Filter([new sap.ui.model.Filter("ProfileId",sap.ui.model.FilterOperator.Contains,t),new sap.ui.model.Filter("TextS",sap.ui.model.FilterOperator.Contains,t)],false)])}}};var i="/EqDfpsProfSet";var o=a.getView().getModel("valueHelp2");var s=e.getSelectDialog(o,i,[],l,"ProfileId","TextS");s.open()},DFPSAreaProChange:function(e,t){var a=e.getSource();var r=t.getView().getModel(t.oModelName);var n=r.getData();var l=a.getValue();var i=l.replace(/^[ ]+|[ ]+$/g,"");if(i!==""){var o="/EqDfpsProfSet";var s=[new sap.ui.model.Filter("ProfileId","EQ",i)];var p=t.getView().getModel("valueHelp2");var m=function(e){t.BusyDialog.close();if(e.results.length>0){n.dfps.AreaPrfl=e.results[0].ProfileId;r.setData(n)}else{}r.setData(n)};var g=function(e){t.BusyDialog.close();var a=JSON.parse(e.responseText);var l=a.error.message.value;r.setData(n)};t.BusyDialog.open();t._readData(o,p,m,g,s)}else{r.setData(n)}},ModelIdWsVH:function(t,a){var r=a.getView().getModel(a.oModelName);var n=r.getData();var l={title:a.getView().getModel("i18n").getProperty("ModelIdWsVH"),noDataText:a.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/EqDfpsModelIdSet",template:new sap.m.StandardListItem({title:"{Modelid}",description:"{Text}"})},confirm:function(e){n.dfps.ModelId=e.getParameters().selectedItem.getProperty("title");n.dfps.ModelIdDesc=e.getParameters().selectedItem.getProperty("description");n.dfps.ModelIdVS="None";r.setData(n);a.deriveDFPSdata()},search:function(e){if(e.getSource().getBinding("items")){var t=e.getParameter("value");e.getSource().getBinding("items").filter(!t?[]:[new sap.ui.model.Filter([new sap.ui.model.Filter("Modelid",sap.ui.model.FilterOperator.Contains,t),new sap.ui.model.Filter("Text",sap.ui.model.FilterOperator.Contains,t)],false)])}}};var i="/EqDfpsModelIdSet";var o=a.getView().getModel("valueHelp2");var s=e.getSelectDialog(o,i,[],l,"Modelid","Text");s.open()},ModelIdWsChange:function(e,t){var a=e.getSource();var r=t.getView().getModel(t.oModelName);var n=r.getData();var l=a.getValue();var i=l.replace(/^[ ]+|[ ]+$/g,"");if(i!==""){var o="/EqDfpsModelIdSet";var s=[new sap.ui.model.Filter("Modelid","EQ",i)];var p=t.getView().getModel("valueHelp2");var m=function(e){t.BusyDialog.close();if(e.results.length>0){n.dfps.ModelId=e.results[0].Modelid;n.dfps.ModelIdDesc=e.results[0].Text;n.dfps.ModelIdVS="None";r.setData(n);t.deriveDFPSdata()}else{n.dfps.ModelIdDesc="";n.dfps.ModelIdVS="Error"}r.setData(n)};var g=function(e){t.BusyDialog.close();var a=JSON.parse(e.responseText);var l=a.error.message.value;n.dfps.ModelIdDesc="";n.dfps.ModelIdVS="Error";r.setData(n)};t.BusyDialog.open();t._readData(o,p,m,g,s)}else{n.dfps.ModelIdDesc="";n.dfps.ModelIdVS="None";r.setData(n)}},RootFlocVH:function(e,t){var a=e.getSource();var r=new sap.m.SelectDialog({title:"{i18n>FUNLOC_TXT}",noDataText:"No Data",confirm:function(e){a.setValue(e.getParameters().selectedItem.getProperty("title"));a.setValueState("None")},search:function(e){var t=e.getParameter("value");e.getSource().getBinding("items").filter(!t?[]:[new sap.ui.model.Filter([new sap.ui.model.Filter("Tplnr",sap.ui.model.FilterOperator.Contains,t),new sap.ui.model.Filter("Pltxt",sap.ui.model.FilterOperator.Contains,t)],false)])}});var n=[];var l=sap.ui.getCore().getModel("AIWFLOC").getData();if(l.length>0){for(var i=0;i<l.length;i++){if(l[i].Functionallocation!==""){var o={Tplnr:l[i].Functionallocation,Pltxt:l[i].Flocdescription};n.unshift(o)}}}var s=new sap.m.StandardListItem({title:"{Tplnr}",description:"{Pltxt}",active:true});var p=new sap.ui.model.json.JSONModel;p.setData(n);p.isSizeLimit=n.length;p.setSizeLimit(n.length);r.setModel(p);r.setGrowingThreshold(n.length);r.bindAggregation("items","/",s);r.setModel(t.getView().getModel("i18n"),"i18n");r.open()},RootFlocChange:function(e,t){var a=e.getSource();var r=a.getValue();r=r.toUpperCase();var n=r.replace(/^[ ]+|[ ]+$/g,"");if(n!==""){var l=false;var i=sap.ui.getCore().getModel("AIWFLOC").getData();if(i.length>0){for(var o=0;o<i.length;o++){if(i[o].Functionallocation===n){l=true;break}}if(l){a.setValue(n);a.setValueState("None")}else{a.setValueState("Error");t.invokeMessage("Functional Location doesn't exist")}}}},ConstrTypeVH:function(t,a){if(a!==undefined&&a!=null){var r=a.getSource()}var n={title:t.getView().getModel("i18n").getProperty("xtxt.CONSTRUCTION_TYPE"),noDataText:t.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/MaterialSHSet",template:new sap.m.StandardListItem({title:"{Matnr}",description:"{Maktx}"})},confirm:function(e){t.handleClose(e)}};var l="/MaterialSHSet";var i=t.getView().getModel("valueHelp");var o=e.getSelectDialog(i,l,[],n,"Matnr","Maktx");o.setNoDataText("Loading...");o.open();t.inputId="ConstructionType"},ControlAreaVH:function(t,a){if(a!==undefined&&a!=null){var r=a.getSource()}var n=t.getView().getModel("wcDetailModel");var l=n.getProperty("/cost");var i=a.getSource().getBindingContext("wcDetailModel").sPath;var o=parseInt(i.substr(i.lastIndexOf("/")+1));var s={title:t.getView().getModel("i18n").getProperty("Controlling Area"),noDataText:t.getView().getModel("i18n").getProperty("LOAD")+"...",items:{path:"/ControlAreaVHSet",template:new sap.m.StandardListItem({title:"{Kokrs}",description:"{Bezei}"})},confirm:function(e){l[o].CrKokrs=e.getParameters().selectedItem.getProperty("title");l[o].Bezei=e.getParameters().selectedItem.getProperty("description");r.setValueState("None");n.refresh()}};var p="/ControlAreaVHSet";var m=t.getView().getModel("valueHelp2");var g=e.getSelectDialog(m,p,[],s,"Kokrs","Bezei");g.setNoDataText("Loading...");g.open()},ControlAreaChange:function(e,t){if(t!==undefined&&t!=null){var a=t.getSource()}var r=e.getView().getModel("wcDetailModel");var n=r.getProperty("/cost");var l=t.getSource().getBindingContext("wcDetailModel").sPath;var i=parseInt(l.substr(l.lastIndexOf("/")+1));var o=a.getValue();var s=o.replace(/^[ ]+|[ ]+$/g,"");if(s!==""){var l="/ControlAreaVHSet";var p=[new sap.ui.model.Filter("Kokrs","EQ",s)];var m=e.getView().getModel("valueHelp2");var g=function(t){e.BusyDialog.close();if(t.results.length>0){n[i].CrKokrs=t.results[0].Kokrs;n[i].Bezei=t.results[0].Bezei;a.setValueState("None");r.refresh()}else{n[i].Bezei="";a.setValueState("Error");r.refresh()}oJsonModel.setData(oJsonData)};var d=function(t){e.BusyDialog.close();var l=JSON.parse(t.responseText);var o=l.error.message.value;n[i].Bezei="";a.setValueState("Error");r.refresh()};e.BusyDialog.open();e._readData(l,m,g,d,p)}else{n[i].Bezei="";a.setValueState("None");r.refresh()}}}});